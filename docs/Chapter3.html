<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>4 Ievades ģeodati | Putnu sugu izplatības modelēšana biodaudzveidības aizsardzībai: materiāli reproducēšanai</title>
  <meta name="description" content="Putnu sugu izplatības modelēšana biodaudzveidības aizsardzībai: materiāli reproducējamības nodrošināšanai." />
  <meta name="generator" content="bookdown 0.39 and GitBook 2.6.7" />

  <meta property="og:title" content="4 Ievades ģeodati | Putnu sugu izplatības modelēšana biodaudzveidības aizsardzībai: materiāli reproducēšanai" />
  <meta property="og:type" content="book" />
  
  <meta property="og:description" content="Putnu sugu izplatības modelēšana biodaudzveidības aizsardzībai: materiāli reproducējamības nodrošināšanai." />
  <meta name="github-repo" content="rstudio/bookdown-demo" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="4 Ievades ģeodati | Putnu sugu izplatības modelēšana biodaudzveidības aizsardzībai: materiāli reproducēšanai" />
  
  <meta name="twitter:description" content="Putnu sugu izplatības modelēšana biodaudzveidības aizsardzībai: materiāli reproducējamības nodrošināšanai." />
  

<meta name="author" content="Andris Avotiņš" />


<meta name="date" content="2024-10-29" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="Chapter2.html"/>
<link rel="next" href="Chapter4.html"/>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>
<link href="libs/htmltools-fill-0.5.8.1/fill.css" rel="stylesheet" />
<script src="libs/htmlwidgets-1.6.4/htmlwidgets.js"></script>
<script src="libs/viz-1.8.2/viz.js"></script>
<link href="libs/DiagrammeR-styles-0.2/styles.css" rel="stylesheet" />
<script src="libs/grViz-binding-1.0.11/grViz.js"></script>
<script src="libs/kePrint-0.0.1/kePrint.js"></script>
<link href="libs/lightable-0.0.1/lightable.css" rel="stylesheet" />


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<style type="text/css">
  
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
</style>
<style type="text/css">
/* Used with Pandoc 2.11+ new --citeproc when CSL is used */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
  margin-bottom: 0em;
}
.hanging div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Putnu SDMs</a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Par šo materiālu</a>
<ul>
<li class="chapter" data-level="1.1" data-path="index.html"><a href="index.html#kas-nav-šis-materiāls"><i class="fa fa-check"></i><b>1.1</b> Kas nav šis materiāls?</a></li>
<li class="chapter" data-level="1.2" data-path="index.html"><a href="index.html#kas-ir-šis-materiāls-un-kā-to-lietot"><i class="fa fa-check"></i><b>1.2</b> Kas ir šis materiāls un kā to lietot?</a></li>
<li class="chapter" data-level="1.3" data-path="index.html"><a href="index.html#satura-izklāsts-orientācijai"><i class="fa fa-check"></i><b>1.3</b> Satura izklāsts (orientācijai)</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="Chapter1.html"><a href="Chapter1.html"><i class="fa fa-check"></i><b>2</b> Sugu saraksts un pamata apraksti</a>
<ul>
<li class="chapter" data-level="2.1" data-path="Chapter1.html"><a href="Chapter1.html#analizējamo-sugu-izvēle"><i class="fa fa-check"></i><b>2.1</b> Analizējamo sugu izvēle</a></li>
<li class="chapter" data-level="2.2" data-path="Chapter1.html"><a href="Chapter1.html#pamata-apraksti-analīzei"><i class="fa fa-check"></i><b>2.2</b> Pamata apraksti analīzei</a></li>
<li class="chapter" data-level="2.3" data-path="Chapter1.html"><a href="Chapter1.html#pamata-apraksti-novērojumu-atlasei"><i class="fa fa-check"></i><b>2.3</b> Pamata apraksti novērojumu atlasei</a>
<ul>
<li class="chapter" data-level="2.3.1" data-path="Chapter1.html"><a href="Chapter1.html#nepiemērota-vide"><i class="fa fa-check"></i><b>2.3.1</b> Nepiemērota vide</a></li>
<li class="chapter" data-level="2.3.2" data-path="Chapter1.html"><a href="Chapter1.html#Chapter1.3.2"><i class="fa fa-check"></i><b>2.3.2</b> Ligzdošanas sezona</a></li>
</ul></li>
<li class="chapter" data-level="2.4" data-path="Chapter1.html"><a href="Chapter1.html#pamata-apraksti-starpsugu-svarošanai"><i class="fa fa-check"></i><b>2.4</b> Pamata apraksti starpsugu svarošanai</a>
<ul>
<li class="chapter" data-level="2.4.1" data-path="Chapter1.html"><a href="Chapter1.html#populācijas-lielums-un-pārmaiņas"><i class="fa fa-check"></i><b>2.4.1</b> Populācijas lielums un pārmaiņas</a></li>
<li class="chapter" data-level="2.4.2" data-path="Chapter1.html"><a href="Chapter1.html#mūža-reproduktīvais-ieguldījums"><i class="fa fa-check"></i><b>2.4.2</b> Mūža reproduktīvais ieguldījums</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="3" data-path="Chapter2.html"><a href="Chapter2.html"><i class="fa fa-check"></i><b>3</b> Ar modeļiem aptveramā (analīzes) telpa un standartizācijas faili</a>
<ul>
<li class="chapter" data-level="3.1" data-path="Chapter2.html"><a href="Chapter2.html#Chapter2.1"><i class="fa fa-check"></i><b>3.1</b> 100 m režģis Latvijā</a>
<ul>
<li class="chapter" data-level="3.1.1" data-path="Chapter2.html"><a href="Chapter2.html#Chapter2.2"><i class="fa fa-check"></i><b>3.1.1</b> Stratificēšana ģeoprocesēšanas paralelizācijai</a></li>
</ul></li>
<li class="chapter" data-level="3.2" data-path="Chapter2.html"><a href="Chapter2.html#Chapter2.3"><i class="fa fa-check"></i><b>3.2</b> References rastri</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="Chapter3.html"><a href="Chapter3.html"><i class="fa fa-check"></i><b>4</b> Ievades ģeodati</a>
<ul>
<li class="chapter" data-level="4.1" data-path="Chapter3.html"><a href="Chapter3.html#Chapter3.1"><i class="fa fa-check"></i><b>4.1</b> Ievades jēldati</a>
<ul>
<li class="chapter" data-level="4.1.1" data-path="Chapter3.html"><a href="Chapter3.html#Chapter3.1.1"><i class="fa fa-check"></i><b>4.1.1</b> Valsts Mežu dienesta Meža Valsts reģistrs</a></li>
<li class="chapter" data-level="4.1.2" data-path="Chapter3.html"><a href="Chapter3.html#Chapter3.1.2"><i class="fa fa-check"></i><b>4.1.2</b> Lauku Atbalsta Dienesta lauku informācija</a></li>
<li class="chapter" data-level="4.1.3" data-path="Chapter3.html"><a href="Chapter3.html#Chapter3.1.3"><i class="fa fa-check"></i><b>4.1.3</b> LĢIA topogrāfiskā karte</a></li>
<li class="chapter" data-level="4.1.4" data-path="Chapter3.html"><a href="Chapter3.html#Chapter3.1.4"><i class="fa fa-check"></i><b>4.1.4</b> Meliorācijas Kadastra Informācijas Sistēmas datubāze</a></li>
<li class="chapter" data-level="4.1.5" data-path="Chapter3.html"><a href="Chapter3.html#Chapter3.1.5"><i class="fa fa-check"></i><b>4.1.5</b> LVM atvērtie dati</a></li>
<li class="chapter" data-level="4.1.6" data-path="Chapter3.html"><a href="Chapter3.html#Chapter3.1.6"><i class="fa fa-check"></i><b>4.1.6</b> Corine Land Cover</a></li>
<li class="chapter" data-level="4.1.7" data-path="Chapter3.html"><a href="Chapter3.html#Chapter3.1.7"><i class="fa fa-check"></i><b>4.1.7</b> Sentinel-2</a></li>
<li class="chapter" data-level="4.1.8" data-path="Chapter3.html"><a href="Chapter3.html#Chapter3.1.8"><i class="fa fa-check"></i><b>4.1.8</b> <em>Dynamic World</em></a></li>
<li class="chapter" data-level="4.1.9" data-path="Chapter3.html"><a href="Chapter3.html#Chapter3.1.9"><i class="fa fa-check"></i><b>4.1.9</b> <em>The Global Forest Watch</em></a></li>
<li class="chapter" data-level="4.1.10" data-path="Chapter3.html"><a href="Chapter3.html#Chapter3.1.10"><i class="fa fa-check"></i><b>4.1.10</b> Palsar Forests</a></li>
<li class="chapter" data-level="4.1.11" data-path="Chapter3.html"><a href="Chapter3.html#Chapter3.1.11"><i class="fa fa-check"></i><b>4.1.11</b> ERA5 Land</a></li>
<li class="chapter" data-level="4.1.12" data-path="Chapter3.html"><a href="Chapter3.html#Chapter3.1.12"><i class="fa fa-check"></i><b>4.1.12</b> Augsnes auglīgums</a></li>
<li class="chapter" data-level="4.1.13" data-path="Chapter3.html"><a href="Chapter3.html#Chapter3.1.13"><i class="fa fa-check"></i><b>4.1.13</b> Digitālie reljefa modeļi</a></li>
</ul></li>
<li class="chapter" data-level="4.2" data-path="Chapter3.html"><a href="Chapter3.html#Chapter3.2"><i class="fa fa-check"></i><b>4.2</b> Ievades produkti</a>
<ul>
<li class="chapter" data-level="4.2.1" data-path="Chapter3.html"><a href="Chapter3.html#Chapter3.2.1"><i class="fa fa-check"></i><b>4.2.1</b> Reljefa produkti</a></li>
<li class="chapter" data-level="4.2.2" data-path="Chapter3.html"><a href="Chapter3.html#Chapter3.2.2"><i class="fa fa-check"></i><b>4.2.2</b> Ainava</a></li>
<li class="chapter" data-level="4.2.3" data-path="Chapter3.html"><a href="Chapter3.html#Chapter3.2.3"><i class="fa fa-check"></i><b>4.2.3</b> Vides pārmaiņas</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="5" data-path="Chapter4.html"><a href="Chapter4.html"><i class="fa fa-check"></i><b>5</b> <em>Dynamic World</em> izpēte</a>
<ul>
<li class="chapter" data-level="5.1" data-path="Chapter4.html"><a href="Chapter4.html#q0-dw-nosegums"><i class="fa fa-check"></i><b>5.1</b> Q0: DW nosegums</a></li>
<li class="chapter" data-level="5.2" data-path="Chapter4.html"><a href="Chapter4.html#q1-lauksaimniecības-kultūras"><i class="fa fa-check"></i><b>5.2</b> Q1: Lauksaimniecības kultūras</a>
<ul>
<li class="chapter" data-level="5.2.1" data-path="Chapter4.html"><a href="Chapter4.html#q1.1-ziemāji-aramzemēs"><i class="fa fa-check"></i><b>5.2.1</b> Q1.1: Ziemāji aramzemēs</a></li>
<li class="chapter" data-level="5.2.2" data-path="Chapter4.html"><a href="Chapter4.html#q1.2-ziemas-rapsis"><i class="fa fa-check"></i><b>5.2.2</b> Q1.2: Ziemas rapsis</a></li>
<li class="chapter" data-level="5.2.3" data-path="Chapter4.html"><a href="Chapter4.html#q1.3-vasarāji-aramzemēs"><i class="fa fa-check"></i><b>5.2.3</b> Q1.3: Vasarāji aramzemēs</a></li>
<li class="chapter" data-level="5.2.4" data-path="Chapter4.html"><a href="Chapter4.html#q1.4-vasaras-rapsis"><i class="fa fa-check"></i><b>5.2.4</b> Q1.4: Vasaras rapsis</a></li>
<li class="chapter" data-level="5.2.5" data-path="Chapter4.html"><a href="Chapter4.html#q1.5-auzas"><i class="fa fa-check"></i><b>5.2.5</b> Q1.5: Auzas</a></li>
<li class="chapter" data-level="5.2.6" data-path="Chapter4.html"><a href="Chapter4.html#q1.6-kukurūza"><i class="fa fa-check"></i><b>5.2.6</b> Q1.6: Kukurūza</a></li>
<li class="chapter" data-level="5.2.7" data-path="Chapter4.html"><a href="Chapter4.html#q1.7-papuves"><i class="fa fa-check"></i><b>5.2.7</b> Q1.7: Papuves</a></li>
<li class="chapter" data-level="5.2.8" data-path="Chapter4.html"><a href="Chapter4.html#q1.8-ilggadīgie-zālāji"><i class="fa fa-check"></i><b>5.2.8</b> Q1.8: Ilggadīgie zālāji</a></li>
<li class="chapter" data-level="5.2.9" data-path="Chapter4.html"><a href="Chapter4.html#q1.9-kultivētie-zālāji"><i class="fa fa-check"></i><b>5.2.9</b> Q1.9: Kultivētie zālāji</a></li>
<li class="chapter" data-level="5.2.10" data-path="Chapter4.html"><a href="Chapter4.html#q1.10-agļukoki"><i class="fa fa-check"></i><b>5.2.10</b> Q1.10: Agļukoki</a></li>
<li class="chapter" data-level="5.2.11" data-path="Chapter4.html"><a href="Chapter4.html#q1.11-ogu-krūmi"><i class="fa fa-check"></i><b>5.2.11</b> Q1.11: Ogu-krūmi</a></li>
<li class="chapter" data-level="5.2.12" data-path="Chapter4.html"><a href="Chapter4.html#q1.12-zemās-ogas"><i class="fa fa-check"></i><b>5.2.12</b> Q1.12: Zemās ogas</a></li>
<li class="chapter" data-level="5.2.13" data-path="Chapter4.html"><a href="Chapter4.html#q1.13-bezatbalsta-platība"><i class="fa fa-check"></i><b>5.2.13</b> Q1.13: Bezatbalsta platība</a></li>
<li class="chapter" data-level="5.2.14" data-path="Chapter4.html"><a href="Chapter4.html#q1.14-vagu-un-rušināmkultūras"><i class="fa fa-check"></i><b>5.2.14</b> Q1.14: Vagu un rušināmkultūras</a></li>
<li class="chapter" data-level="5.2.15" data-path="Chapter4.html"><a href="Chapter4.html#q1.15-īscirtmeta-atvasāji-un-enerģijas-kultūras"><i class="fa fa-check"></i><b>5.2.15</b> Q1.15: Īscirtmeta atvasāji un enerģijas kultūras</a></li>
<li class="chapter" data-level="5.2.16" data-path="Chapter4.html"><a href="Chapter4.html#q1-lad-kultūru-stratificēšanai"><i class="fa fa-check"></i><b>5.2.16</b> Q1: LAD kultūru stratificēšanai</a></li>
</ul></li>
<li class="chapter" data-level="5.3" data-path="Chapter4.html"><a href="Chapter4.html#q2-mežaudzes-augstums-sugu-grupās"><i class="fa fa-check"></i><b>5.3</b> Q2: Mežaudzes augstums sugu grupās</a></li>
<li class="chapter" data-level="5.4" data-path="Chapter4.html"><a href="Chapter4.html#q3-topogrāfiskās-kartes-mitrāji"><i class="fa fa-check"></i><b>5.4</b> Q3: Topogrāfiskās kartes mitrāji</a></li>
<li class="chapter" data-level="5.5" data-path="Chapter4.html"><a href="Chapter4.html#q4-karjeri-kūdras-ieguves-vietas-un-ceļi"><i class="fa fa-check"></i><b>5.5</b> Q4: Karjeri, kūdras ieguves vietas un ceļi</a></li>
<li class="chapter" data-level="5.6" data-path="Chapter4.html"><a href="Chapter4.html#q5-izcirtuma-izmērs-un-forma"><i class="fa fa-check"></i><b>5.6</b> Q5: Izcirtuma izmērs un forma</a>
<ul>
<li class="chapter" data-level="5.6.1" data-path="Chapter4.html"><a href="Chapter4.html#q5.1-2022.-gada-izcirtumi"><i class="fa fa-check"></i><b>5.6.1</b> Q5.1: 2022. gada izcirtumi</a></li>
<li class="chapter" data-level="5.6.2" data-path="Chapter4.html"><a href="Chapter4.html#q5.2-senākas-kailcirtes-bet-vēl-joprojām-izcirtumi"><i class="fa fa-check"></i><b>5.6.2</b> Q5.2: senākas kailcirtes, bet vēl joprojām izcirtumi</a></li>
</ul></li>
<li class="chapter" data-level="5.7" data-path="Chapter4.html"><a href="Chapter4.html#q6-zālāju-transformācija-uz-aramzemēm"><i class="fa fa-check"></i><b>5.7</b> Q6: Zālāju transformācija uz aramzemēm</a></li>
<li class="chapter" data-level="5.8" data-path="Chapter4.html"><a href="Chapter4.html#secinājumi"><i class="fa fa-check"></i><b>5.8</b> Secinājumi</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="Chapter5.html"><a href="Chapter5.html"><i class="fa fa-check"></i><b>6</b> Ekoģeogrāfiskie mainīgie</a>
<ul>
<li class="chapter" data-level="6.1" data-path="Chapter5.html"><a href="Chapter5.html#Chapter5.1"><i class="fa fa-check"></i><b>6.1</b> Reljefs</a>
<ul>
<li class="chapter" data-level="6.1.1" data-path="Chapter5.html"><a href="Chapter5.html#dis_area_r500"><i class="fa fa-check"></i><b>6.1.1</b> DiS_area_r500</a></li>
</ul></li>
<li class="chapter" data-level="6.2" data-path="Chapter5.html"><a href="Chapter5.html#Chapter5.2"><i class="fa fa-check"></i><b>6.2</b> Klimats</a></li>
<li class="chapter" data-level="6.3" data-path="Chapter5.html"><a href="Chapter5.html#Chapter5.3"><i class="fa fa-check"></i><b>6.3</b> Satelītindeksi</a></li>
<li class="chapter" data-level="6.4" data-path="Chapter5.html"><a href="Chapter5.html#Chapter5.4"><i class="fa fa-check"></i><b>6.4</b> Augsne</a></li>
<li class="chapter" data-level="6.5" data-path="Chapter5.html"><a href="Chapter5.html#Chapter5.5"><i class="fa fa-check"></i><b>6.5</b> Ceļi</a></li>
<li class="chapter" data-level="6.6" data-path="Chapter5.html"><a href="Chapter5.html#Chapter5.6"><i class="fa fa-check"></i><b>6.6</b> Eiklīda distances</a></li>
<li class="chapter" data-level="6.7" data-path="Chapter5.html"><a href="Chapter5.html#Chapter5.7"><i class="fa fa-check"></i><b>6.7</b> Malas</a></li>
<li class="chapter" data-level="6.8" data-path="Chapter5.html"><a href="Chapter5.html#Chapter5.8"><i class="fa fa-check"></i><b>6.8</b> Ūdeņi</a></li>
<li class="chapter" data-level="6.9" data-path="Chapter5.html"><a href="Chapter5.html#Chapter5.9"><i class="fa fa-check"></i><b>6.9</b> Lauki</a></li>
<li class="chapter" data-level="6.10" data-path="Chapter5.html"><a href="Chapter5.html#Chapter5.10"><i class="fa fa-check"></i><b>6.10</b> Meži</a></li>
<li class="chapter" data-level="6.11" data-path="Chapter5.html"><a href="Chapter5.html#Chapter5.11"><i class="fa fa-check"></i><b>6.11</b> Citi</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="Chapter6.html"><a href="Chapter6.html"><i class="fa fa-check"></i><b>7</b> Novērojumu atlase</a>
<ul>
<li class="chapter" data-level="7.1" data-path="Chapter6.html"><a href="Chapter6.html#Chapter6.1"><i class="fa fa-check"></i><b>7.1</b> Datu avoti</a></li>
<li class="chapter" data-level="7.2" data-path="Chapter6.html"><a href="Chapter6.html#Chapter6.2"><i class="fa fa-check"></i><b>7.2</b> Nomenklatūra</a></li>
<li class="chapter" data-level="7.3" data-path="Chapter6.html"><a href="Chapter6.html#Chapter6.3"><i class="fa fa-check"></i><b>7.3</b> Atrašanās Latvijā</a></li>
<li class="chapter" data-level="7.4" data-path="Chapter6.html"><a href="Chapter6.html#Chapter6.4"><i class="fa fa-check"></i><b>7.4</b> Datums un laiks</a></li>
<li class="chapter" data-level="7.5" data-path="Chapter6.html"><a href="Chapter6.html#Chapter6.5"><i class="fa fa-check"></i><b>7.5</b> Ligzdošanas pazīmes</a></li>
<li class="chapter" data-level="7.6" data-path="Chapter6.html"><a href="Chapter6.html#Chapter6.6"><i class="fa fa-check"></i><b>7.6</b> Dublieri</a></li>
<li class="chapter" data-level="7.7" data-path="Chapter6.html"><a href="Chapter6.html#Chapter6.7"><i class="fa fa-check"></i><b>7.7</b> Novietojums</a></li>
<li class="chapter" data-level="7.8" data-path="Chapter6.html"><a href="Chapter6.html#Chapter6.8"><i class="fa fa-check"></i><b>7.8</b> Sezonalitāte</a></li>
<li class="chapter" data-level="7.9" data-path="Chapter6.html"><a href="Chapter6.html#Chapter6.9"><i class="fa fa-check"></i><b>7.9</b> Vides pārmaiņas</a></li>
<li class="chapter" data-level="7.10" data-path="Chapter6.html"><a href="Chapter6.html#Chapter6.10"><i class="fa fa-check"></i><b>7.10</b> Papildkritēriji</a></li>
<li class="chapter" data-level="7.11" data-path="Chapter6.html"><a href="Chapter6.html#Chapter6.11"><i class="fa fa-check"></i><b>7.11</b> Ligzdošanas ticamība</a></li>
<li class="chapter" data-level="7.12" data-path="Chapter6.html"><a href="Chapter6.html#Chapter6.12"><i class="fa fa-check"></i><b>7.12</b> Kvadrātu skaits</a></li>
<li class="chapter" data-level="7.13" data-path="Chapter6.html"><a href="Chapter6.html#Chapter6.13"><i class="fa fa-check"></i><b>7.13</b> Rezultāti</a></li>
<li class="chapter" data-level="7.14" data-path="Chapter6.html"><a href="Chapter6.html#Chapter6.14"><i class="fa fa-check"></i><b>7.14</b> Uzticamās klātbūtnes vietas</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="Chapter7.html"><a href="Chapter7.html"><i class="fa fa-check"></i><b>8</b> Sugu izplatības (dzīvotņu piemērotības) modeļi</a>
<ul>
<li class="chapter" data-level="8.1" data-path="Chapter7.html"><a href="Chapter7.html#sākotnēji-izvēlēto-pazīmju-neatkarība-un-egv-atlases-otrā-kārta-vif"><i class="fa fa-check"></i><b>8.1</b> Sākotnēji izvēlēto pazīmju neatkarība un EGV atlases otrā kārta (VIF)</a></li>
<li class="chapter" data-level="8.2" data-path="Chapter7.html"><a href="Chapter7.html#vidi-kopumā-raksturojoši-fona-punkti"><i class="fa fa-check"></i><b>8.2</b> Vidi kopumā raksturojoši fona punkti</a></li>
<li class="chapter" data-level="8.3" data-path="Chapter7.html"><a href="Chapter7.html#vienkāršots-modelis-egv-noslēguma-atlasei"><i class="fa fa-check"></i><b>8.3</b> Vienkāršots modelis EGV noslēguma atlasei</a></li>
<li class="chapter" data-level="8.4" data-path="Chapter7.html"><a href="Chapter7.html#modeļa-parametrizācija"><i class="fa fa-check"></i><b>8.4</b> Modeļa parametrizācija</a></li>
<li class="chapter" data-level="8.5" data-path="Chapter7.html"><a href="Chapter7.html#labākās-parametrizācijas-izvēle"><i class="fa fa-check"></i><b>8.5</b> Labākās parametrizācijas izvēle</a></li>
<li class="chapter" data-level="8.6" data-path="Chapter7.html"><a href="Chapter7.html#labākā-modeļa-rezultāti"><i class="fa fa-check"></i><b>8.6</b> Labākā modeļa rezultāti</a></li>
<li class="chapter" data-level="8.7" data-path="Chapter7.html"><a href="Chapter7.html#rezultāta-uzticamības-izvērtējums"><i class="fa fa-check"></i><b>8.7</b> Rezultāta uzticamības izvērtējums</a></li>
</ul></li>
<li class="chapter" data-level="9" data-path="Chapter8.html"><a href="Chapter8.html"><i class="fa fa-check"></i><b>9</b> SDM pēcapstrāde</a>
<ul>
<li class="chapter" data-level="9.1" data-path="Chapter8.html"><a href="Chapter8.html#ekoloģiskās-nišas-dziļumi"><i class="fa fa-check"></i><b>9.1</b> Ekoloģiskās nišas dziļumi</a></li>
<li class="chapter" data-level="9.2" data-path="Chapter8.html"><a href="Chapter8.html#saistība-ar-aizsargājamām-teritorijām"><i class="fa fa-check"></i><b>9.2</b> Saistība ar aizsargājamām teritorijām</a></li>
<li class="chapter" data-level="9.3" data-path="Chapter8.html"><a href="Chapter8.html#saistība-ar-aizsardzības-režīmiem"><i class="fa fa-check"></i><b>9.3</b> Saistība ar aizsardzības režīmiem</a></li>
<li class="chapter" data-level="9.4" data-path="Chapter8.html"><a href="Chapter8.html#saistība-ar-ekosistēmām"><i class="fa fa-check"></i><b>9.4</b> Saistība ar ekosistēmām</a></li>
</ul></li>
<li class="chapter" data-level="10" data-path="Chapter9.html"><a href="Chapter9.html"><i class="fa fa-check"></i><b>10</b> Vietu prioritizēšana aizsardzībai</a>
<ul>
<li class="chapter" data-level="10.1" data-path="Chapter9.html"><a href="Chapter9.html#ik-sugas-aizsardzībai-prioritārās-vietas"><i class="fa fa-check"></i><b>10.1</b> Ik sugas aizsardzībai prioritārās vietas</a></li>
<li class="chapter" data-level="10.2" data-path="Chapter9.html"><a href="Chapter9.html#daudzsugu-pieeja-dabas-aizsardzības-plānošanai"><i class="fa fa-check"></i><b>10.2</b> Daudzsugu pieeja dabas aizsardzības plānošanai</a>
<ul>
<li class="chapter" data-level="10.2.1" data-path="Chapter9.html"><a href="Chapter9.html#mežu-putnu-aizsardzībai-prioritārās-vietas"><i class="fa fa-check"></i><b>10.2.1</b> Mežu (putnu) aizsardzībai prioritārās vietas</a></li>
<li class="chapter" data-level="10.2.2" data-path="Chapter9.html"><a href="Chapter9.html#lauku-putnu-aizsardzībai-prioritārās-vietas"><i class="fa fa-check"></i><b>10.2.2</b> Lauku (putnu) aizsardzībai prioritārās vietas</a></li>
<li class="chapter" data-level="10.2.3" data-path="Chapter9.html"><a href="Chapter9.html#mitrāju-putnu-aizsardzībai-prioritārās-vietas"><i class="fa fa-check"></i><b>10.2.3</b> Mitrāju (putnu) aizsardzībai prioritārās vietas</a></li>
<li class="chapter" data-level="10.2.4" data-path="Chapter9.html"><a href="Chapter9.html#ūdeņu-putnu-aizsardzībai-prioritārās-vietas"><i class="fa fa-check"></i><b>10.2.4</b> Ūdeņu (putnu) aizsardzībai prioritārās vietas</a></li>
<li class="chapter" data-level="10.2.5" data-path="Chapter9.html"><a href="Chapter9.html#vietu-ar-skraju-veģetāciju-putnu-aizsardzībai-prioritārās-vietas"><i class="fa fa-check"></i><b>10.2.5</b> Vietu ar skraju veģetāciju (putnu) aizsardzībai prioritārās vietas</a></li>
<li class="chapter" data-level="10.2.6" data-path="Chapter9.html"><a href="Chapter9.html#valstī-kopumā"><i class="fa fa-check"></i><b>10.2.6</b> Valstī kopumā</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="11" data-path="Chapter10.html"><a href="Chapter10.html"><i class="fa fa-check"></i><b>11</b> Rezultāti</a>
<ul>
<li class="chapter" data-level="11.1" data-path="Chapter10.html"><a href="Chapter10.html#Chapter10.1"><i class="fa fa-check"></i><b>11.1</b> Individuālu sugu rezultāti</a>
<ul>
<li class="chapter" data-level="11.1.1" data-path="Chapter10.html"><a href="Chapter10.html#cotcot---paipala-coturnix-coturnix"><i class="fa fa-check"></i><b>11.1.1</b> (1) COTCOT - paipala <em>Coturnix coturnix</em></a></li>
<li class="chapter" data-level="11.1.2" data-path="Chapter10.html"><a href="Chapter10.html#perper---laukirbe-perdix-perdix"><i class="fa fa-check"></i><b>11.1.2</b> (2) PERPER - laukirbe <em>Perdix perdix</em></a></li>
</ul></li>
<li class="chapter" data-level="11.2" data-path="Chapter10.html"><a href="Chapter10.html#Chapter10.2"><i class="fa fa-check"></i><b>11.2</b> Kopējie valsts līmeņa rezultāti</a>
<ul>
<li class="chapter" data-level="11.2.1" data-path="Chapter10.html"><a href="Chapter10.html#Chapter10.2.1"><i class="fa fa-check"></i><b>11.2.1</b> Mežu (putnu) aizsardzībai prioritārās vietas</a></li>
<li class="chapter" data-level="11.2.2" data-path="Chapter10.html"><a href="Chapter10.html#Chapter10.2.2"><i class="fa fa-check"></i><b>11.2.2</b> Lauku (putnu) aizsardzībai prioritārās vietas</a></li>
<li class="chapter" data-level="11.2.3" data-path="Chapter10.html"><a href="Chapter10.html#Chapter10.2.3"><i class="fa fa-check"></i><b>11.2.3</b> Mitrāju (putnu) aizsardzībai prioritārās vietas</a></li>
<li class="chapter" data-level="11.2.4" data-path="Chapter10.html"><a href="Chapter10.html#Chapter10.2.4"><i class="fa fa-check"></i><b>11.2.4</b> Ūdeņu (putnu) aizsardzībai prioritārās vietas</a></li>
<li class="chapter" data-level="11.2.5" data-path="Chapter10.html"><a href="Chapter10.html#Chapter10.2.5"><i class="fa fa-check"></i><b>11.2.5</b> Vietu ar skraju veģetāciju (putnu) aizsardzībai prioritārās vietas</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="" data-path="references.html"><a href="references.html"><i class="fa fa-check"></i>References</a></li>
<li class="chapter" data-level="12" data-path="hello-bookdown.html"><a href="hello-bookdown.html"><i class="fa fa-check"></i><b>12</b> Hello bookdown</a>
<ul>
<li class="chapter" data-level="12.1" data-path="hello-bookdown.html"><a href="hello-bookdown.html#a-section"><i class="fa fa-check"></i><b>12.1</b> A section</a>
<ul>
<li class="chapter" data-level="" data-path="hello-bookdown.html"><a href="hello-bookdown.html#an-unnumbered-section"><i class="fa fa-check"></i>An unnumbered section</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="13" data-path="cross.html"><a href="cross.html"><i class="fa fa-check"></i><b>13</b> Cross-references</a>
<ul>
<li class="chapter" data-level="13.1" data-path="cross.html"><a href="cross.html#chapters-and-sub-chapters"><i class="fa fa-check"></i><b>13.1</b> Chapters and sub-chapters</a></li>
<li class="chapter" data-level="13.2" data-path="cross.html"><a href="cross.html#captioned-figures-and-tables"><i class="fa fa-check"></i><b>13.2</b> Captioned figures and tables</a></li>
</ul></li>
<li class="chapter" data-level="14" data-path="parts.html"><a href="parts.html"><i class="fa fa-check"></i><b>14</b> Parts</a></li>
<li class="chapter" data-level="15" data-path="footnotes-and-citations.html"><a href="footnotes-and-citations.html"><i class="fa fa-check"></i><b>15</b> Footnotes and citations</a>
<ul>
<li class="chapter" data-level="15.1" data-path="footnotes-and-citations.html"><a href="footnotes-and-citations.html#footnotes"><i class="fa fa-check"></i><b>15.1</b> Footnotes</a></li>
<li class="chapter" data-level="15.2" data-path="footnotes-and-citations.html"><a href="footnotes-and-citations.html#citations"><i class="fa fa-check"></i><b>15.2</b> Citations</a></li>
</ul></li>
<li class="chapter" data-level="16" data-path="blocks.html"><a href="blocks.html"><i class="fa fa-check"></i><b>16</b> Blocks</a>
<ul>
<li class="chapter" data-level="16.1" data-path="blocks.html"><a href="blocks.html#equations"><i class="fa fa-check"></i><b>16.1</b> Equations</a></li>
<li class="chapter" data-level="16.2" data-path="blocks.html"><a href="blocks.html#theorems-and-proofs"><i class="fa fa-check"></i><b>16.2</b> Theorems and proofs</a></li>
<li class="chapter" data-level="16.3" data-path="blocks.html"><a href="blocks.html#callout-blocks"><i class="fa fa-check"></i><b>16.3</b> Callout blocks</a></li>
</ul></li>
<li class="chapter" data-level="17" data-path="sharing-your-book.html"><a href="sharing-your-book.html"><i class="fa fa-check"></i><b>17</b> Sharing your book</a>
<ul>
<li class="chapter" data-level="17.1" data-path="sharing-your-book.html"><a href="sharing-your-book.html#publishing"><i class="fa fa-check"></i><b>17.1</b> Publishing</a></li>
<li class="chapter" data-level="17.2" data-path="sharing-your-book.html"><a href="sharing-your-book.html#pages"><i class="fa fa-check"></i><b>17.2</b> 404 pages</a></li>
<li class="chapter" data-level="17.3" data-path="sharing-your-book.html"><a href="sharing-your-book.html#metadata-for-sharing"><i class="fa fa-check"></i><b>17.3</b> Metadata for sharing</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="references-1.html"><a href="references-1.html"><i class="fa fa-check"></i>References</a></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Putnu sugu izplatības modelēšana biodaudzveidības aizsardzībai: materiāli reproducēšanai</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="Chapter3" class="section level1 hasAnchor" number="4">
<h1><span class="header-section-number">4</span> Ievades ģeodati<a href="Chapter3.html#Chapter3" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<p>Nozīmīgs solis sugu izplatības modelēšanā ir ģeogrāfiskajai telpai piesaistītu (ģeoreferencētu) vidi raksturojošu un ekoloģiski pamatotu mainīgo jeb ekoģeogrāfisko mainīgo (EGV) sagatavošana. Visbiežāk eksistējošie ģeodati (ģeoreferencēti vides raksturojumi) paši par sevi nespēj raksturot sugu ekoloģiskās vajadzības, gandrīz nekad to noformējums precīzi neatbilst analīzes uzstādījumiem. Tādēļ ģeodatu ir nepieciešams dažādi pārveidot, strukturēt un kombinēt.</p>
<p>Šajā nodaļā ir raksturoti izmantotie ģeodati un to pirmās apstrādes soļi (harmonizēšana EGV sagatavošanai) raksturota apakšnodaļā <a href="Chapter3.html#Chapter3.1">Ievades jēldati</a>, augstāka līmeņa šo datu apstrāde, kas vēl joprojām uzskatāma par soli pirms EGV sagatavošanas, raksturota apakšnodaļā <a href="Chapter3.html#Chapter3.2">Ievades produkti</a></p>
<div id="Chapter3.1" class="section level2 hasAnchor" number="4.1">
<h2><span class="header-section-number">4.1</span> Ievades jēldati<a href="Chapter3.html#Chapter3.1" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Izmantotie ģeodatu avoti, to raksturojums un harmonizēšanas procedūru apraksts.</p>
<div id="Chapter3.1.1" class="section level3 hasAnchor" number="4.1.1">
<h3><span class="header-section-number">4.1.1</span> Valsts Mežu dienesta Meža Valsts reģistrs<a href="Chapter3.html#Chapter3.1.1" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>b</p>
</div>
<div id="Chapter3.1.2" class="section level3 hasAnchor" number="4.1.2">
<h3><span class="header-section-number">4.1.2</span> Lauku Atbalsta Dienesta lauku informācija<a href="Chapter3.html#Chapter3.1.2" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Lauku Atbalsta Dienests uztur <a href="https://data.gov.lv/dati/lv/organization/lad">regulāri aktualizētu informāciju atvērto datu portālā</a>. Tajā ir pieejams arī arhīvs (kopš 2015. gada), izmantojamās datu kopas satur atslēgvārdu “deklarētās platības”. Šī projekta ietvaros izmantots WFS pieslēgums datu lejupielādei (2023-11-14).</p>
<p>Pēc lejupielādes nodrošinātas ģeometrijas, tās pārbaudītas un saglabātas <em>geoparquet</em> formātā.</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb6-1"><a href="Chapter3.html#cb6-1" tabindex="-1"></a><span class="co"># libs</span></span>
<span id="cb6-2"><a href="Chapter3.html#cb6-2" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(sf)) {<span class="fu">install.packages</span>(<span class="st">&quot;sf&quot;</span>); <span class="fu">require</span>(sf)}</span>
<span id="cb6-3"><a href="Chapter3.html#cb6-3" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(arrow)) {<span class="fu">install.packages</span>(<span class="st">&quot;arrow&quot;</span>); <span class="fu">require</span>(arrow)}</span>
<span id="cb6-4"><a href="Chapter3.html#cb6-4" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(sfarrow)) {<span class="fu">install.packages</span>(<span class="st">&quot;sfarrow&quot;</span>); <span class="fu">require</span>(sfarrow)}</span>
<span id="cb6-5"><a href="Chapter3.html#cb6-5" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(gdalUtilities)) {<span class="fu">install.packages</span>(<span class="st">&quot;gdalUtilities&quot;</span>); <span class="fu">require</span>(gdalUtilities)}</span>
<span id="cb6-6"><a href="Chapter3.html#cb6-6" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(httr)) {<span class="fu">install.packages</span>(<span class="st">&quot;httr&quot;</span>); <span class="fu">require</span>(httr)}</span>
<span id="cb6-7"><a href="Chapter3.html#cb6-7" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(tidyverse)) {<span class="fu">install.packages</span>(<span class="st">&quot;tidyverse&quot;</span>); <span class="fu">require</span>(tidyverse)}</span>
<span id="cb6-8"><a href="Chapter3.html#cb6-8" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(ows4R)) {<span class="fu">install.packages</span>(<span class="st">&quot;ows4R&quot;</span>); <span class="fu">require</span>(ows4R)}</span>
<span id="cb6-9"><a href="Chapter3.html#cb6-9" tabindex="-1"></a></span>
<span id="cb6-10"><a href="Chapter3.html#cb6-10" tabindex="-1"></a><span class="co"># lejupielāde</span></span>
<span id="cb6-11"><a href="Chapter3.html#cb6-11" tabindex="-1"></a>wfs_bwk <span class="ot">&lt;-</span> <span class="st">&quot;https://karte.lad.gov.lv/arcgis/services/lauki/MapServer/WFSServer&quot;</span></span>
<span id="cb6-12"><a href="Chapter3.html#cb6-12" tabindex="-1"></a>url <span class="ot">&lt;-</span> <span class="fu">parse_url</span>(wfs_bwk)</span>
<span id="cb6-13"><a href="Chapter3.html#cb6-13" tabindex="-1"></a>url<span class="sc">$</span>query <span class="ot">&lt;-</span> <span class="fu">list</span>(<span class="at">service =</span> <span class="st">&quot;wfs&quot;</span>,</span>
<span id="cb6-14"><a href="Chapter3.html#cb6-14" tabindex="-1"></a>                  <span class="co">#version = &quot;2.0.0&quot;, # fakultatīvi</span></span>
<span id="cb6-15"><a href="Chapter3.html#cb6-15" tabindex="-1"></a>                  <span class="at">request =</span> <span class="st">&quot;GetCapabilities&quot;</span></span>
<span id="cb6-16"><a href="Chapter3.html#cb6-16" tabindex="-1"></a>)</span>
<span id="cb6-17"><a href="Chapter3.html#cb6-17" tabindex="-1"></a>vaicajums <span class="ot">&lt;-</span> <span class="fu">build_url</span>(url)</span>
<span id="cb6-18"><a href="Chapter3.html#cb6-18" tabindex="-1"></a></span>
<span id="cb6-19"><a href="Chapter3.html#cb6-19" tabindex="-1"></a>bwk_client <span class="ot">&lt;-</span> WFSClient<span class="sc">$</span><span class="fu">new</span>(wfs_bwk, </span>
<span id="cb6-20"><a href="Chapter3.html#cb6-20" tabindex="-1"></a>                            <span class="at">serviceVersion =</span> <span class="st">&quot;2.0.0&quot;</span>)</span>
<span id="cb6-21"><a href="Chapter3.html#cb6-21" tabindex="-1"></a>bwk_client<span class="sc">$</span><span class="fu">getFeatureTypes</span>() <span class="sc">%&gt;%</span></span>
<span id="cb6-22"><a href="Chapter3.html#cb6-22" tabindex="-1"></a>  <span class="fu">map_chr</span>(<span class="cf">function</span>(x){x<span class="sc">$</span><span class="fu">getTitle</span>()})</span>
<span id="cb6-23"><a href="Chapter3.html#cb6-23" tabindex="-1"></a></span>
<span id="cb6-24"><a href="Chapter3.html#cb6-24" tabindex="-1"></a>dati <span class="ot">&lt;-</span> <span class="fu">read_sf</span>(vaicajums)</span>
<span id="cb6-25"><a href="Chapter3.html#cb6-25" tabindex="-1"></a></span>
<span id="cb6-26"><a href="Chapter3.html#cb6-26" tabindex="-1"></a><span class="co"># multipoligoni</span></span>
<span id="cb6-27"><a href="Chapter3.html#cb6-27" tabindex="-1"></a>ensure_multipolygons <span class="ot">&lt;-</span> <span class="cf">function</span>(X) {</span>
<span id="cb6-28"><a href="Chapter3.html#cb6-28" tabindex="-1"></a>  tmp1 <span class="ot">&lt;-</span> <span class="fu">tempfile</span>(<span class="at">fileext =</span> <span class="st">&quot;.gpkg&quot;</span>)</span>
<span id="cb6-29"><a href="Chapter3.html#cb6-29" tabindex="-1"></a>  tmp2 <span class="ot">&lt;-</span> <span class="fu">tempfile</span>(<span class="at">fileext =</span> <span class="st">&quot;.gpkg&quot;</span>)</span>
<span id="cb6-30"><a href="Chapter3.html#cb6-30" tabindex="-1"></a>  <span class="fu">st_write</span>(X, tmp1)</span>
<span id="cb6-31"><a href="Chapter3.html#cb6-31" tabindex="-1"></a>  <span class="fu">ogr2ogr</span>(tmp1, tmp2, <span class="at">f =</span> <span class="st">&quot;GPKG&quot;</span>, <span class="at">nlt =</span> <span class="st">&quot;MULTIPOLYGON&quot;</span>)</span>
<span id="cb6-32"><a href="Chapter3.html#cb6-32" tabindex="-1"></a>  Y <span class="ot">&lt;-</span> <span class="fu">st_read</span>(tmp2)</span>
<span id="cb6-33"><a href="Chapter3.html#cb6-33" tabindex="-1"></a>  <span class="fu">st_sf</span>(<span class="fu">st_drop_geometry</span>(X), <span class="at">geom =</span> <span class="fu">st_geometry</span>(Y))</span>
<span id="cb6-34"><a href="Chapter3.html#cb6-34" tabindex="-1"></a>}</span>
<span id="cb6-35"><a href="Chapter3.html#cb6-35" tabindex="-1"></a>dati2 <span class="ot">&lt;-</span> <span class="fu">ensure_multipolygons</span>(dati)</span>
<span id="cb6-36"><a href="Chapter3.html#cb6-36" tabindex="-1"></a></span>
<span id="cb6-37"><a href="Chapter3.html#cb6-37" tabindex="-1"></a><span class="co"># pārbaudes</span></span>
<span id="cb6-38"><a href="Chapter3.html#cb6-38" tabindex="-1"></a>dati3 <span class="ot">=</span> dati2[<span class="sc">!</span><span class="fu">st_is_empty</span>(dati2),,drop<span class="ot">=</span><span class="cn">FALSE</span>] <span class="co"># OK</span></span>
<span id="cb6-39"><a href="Chapter3.html#cb6-39" tabindex="-1"></a>validity<span class="ot">=</span><span class="fu">st_is_valid</span>(dati3) </span>
<span id="cb6-40"><a href="Chapter3.html#cb6-40" tabindex="-1"></a><span class="fu">table</span>(validity) <span class="co"># OK</span></span>
<span id="cb6-41"><a href="Chapter3.html#cb6-41" tabindex="-1"></a></span>
<span id="cb6-42"><a href="Chapter3.html#cb6-42" tabindex="-1"></a><span class="co"># saglabāšana</span></span>
<span id="cb6-43"><a href="Chapter3.html#cb6-43" tabindex="-1"></a>sfarrow<span class="sc">::</span><span class="fu">st_write_parquet</span>(dati3, <span class="st">&quot;LAD_lauki.parquet&quot;</span>)</span></code></pre></div>
</div>
<div id="Chapter3.1.3" class="section level3 hasAnchor" number="4.1.3">
<h3><span class="header-section-number">4.1.3</span> LĢIA topogrāfiskā karte<a href="Chapter3.html#Chapter3.1.3" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Latvijas Ģeotelpiskās informācijas aģentūras topogrāfiskās kartes M:10000 vekotrodatu ģeodatubāze studiju un pētniecības procesu nodrošināšanai Latvijas Universitātē saņemta 2016. gada jūlijā pēc licences līguma noslēgšanas. Tās aktālizēta (tas ir nepārtraukts process) versija ir pieejama <a href="https://kartes.lgia.gov.lv/karte/">publiskai apskatei</a>, bet vektordatu pieejamība ir ierobežota.</p>
<p>Šajā projektā izmantoti sekojoši slāņi:</p>
<ul>
<li><p><code>bride_L</code>, kurā raksturoti 3928 tilti kā linijveida objekti;</p></li>
<li><p><code>bridge_P</code>, kurā raksturoti 4551 tilti kā punktveida objekti</p></li>
<li><p><code>hidro_A</code>, kurā raksturoti 264439 ūdensobjektu plankumi;</p></li>
<li><p><code>landus_A</code>, kurā raksturots zemes segums un lietojums ar 1291781 laukumveida ģeometriju;</p></li>
<li><p><code>road_A</code>, kurā raksturoti 32094 ceļi, kas atzīmēti ar laukumu;</p></li>
<li><p><code>swamp_A</code>, kurā raksturoti augstie purvi ar 48105 laukumveida objektu,</p></li>
</ul>
<p>kuri pārveidoti par <em>geoparquet</em>. Failu formāta maiņas ietvaros pārbaudītas ģeometrijas (tukšās, to validitāte, kas nepieciešamības gadījumā labota).</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb7-1"><a href="Chapter3.html#cb7-1" tabindex="-1"></a><span class="co"># libs</span></span>
<span id="cb7-2"><a href="Chapter3.html#cb7-2" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(sf)) {<span class="fu">install.packages</span>(<span class="st">&quot;sf&quot;</span>); <span class="fu">require</span>(sf)}</span>
<span id="cb7-3"><a href="Chapter3.html#cb7-3" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(arrow)) {<span class="fu">install.packages</span>(<span class="st">&quot;arrow&quot;</span>); <span class="fu">require</span>(arrow)}</span>
<span id="cb7-4"><a href="Chapter3.html#cb7-4" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(sfarrow)) {<span class="fu">install.packages</span>(<span class="st">&quot;sfarrow&quot;</span>); <span class="fu">require</span>(sfarrow)}</span>
<span id="cb7-5"><a href="Chapter3.html#cb7-5" tabindex="-1"></a></span>
<span id="cb7-6"><a href="Chapter3.html#cb7-6" tabindex="-1"></a><span class="co"># hidro A</span></span>
<span id="cb7-7"><a href="Chapter3.html#cb7-7" tabindex="-1"></a>hidro_A<span class="ot">=</span><span class="fu">st_read</span>(<span class="st">&quot;./Topo10_v3_12_07_2016.gdb/&quot;</span>,<span class="at">layer=</span><span class="st">&quot;hidro_A&quot;</span>)</span>
<span id="cb7-8"><a href="Chapter3.html#cb7-8" tabindex="-1"></a>hidro2 <span class="ot">=</span> hidro_A[<span class="sc">!</span><span class="fu">st_is_empty</span>(hidro_A),,drop<span class="ot">=</span><span class="cn">FALSE</span>] <span class="co"># OK</span></span>
<span id="cb7-9"><a href="Chapter3.html#cb7-9" tabindex="-1"></a>validity<span class="ot">=</span><span class="fu">st_is_valid</span>(hidro2) </span>
<span id="cb7-10"><a href="Chapter3.html#cb7-10" tabindex="-1"></a><span class="fu">table</span>(validity) <span class="co"># 12 invalid geometrijas</span></span>
<span id="cb7-11"><a href="Chapter3.html#cb7-11" tabindex="-1"></a>hidro3<span class="ot">=</span><span class="fu">st_make_valid</span>(hidro2)</span>
<span id="cb7-12"><a href="Chapter3.html#cb7-12" tabindex="-1"></a>sfarrow<span class="sc">::</span><span class="fu">st_write_parquet</span>(hidro3, <span class="st">&quot;Topo_hidroA.parquet&quot;</span>)</span>
<span id="cb7-13"><a href="Chapter3.html#cb7-13" tabindex="-1"></a></span>
<span id="cb7-14"><a href="Chapter3.html#cb7-14" tabindex="-1"></a></span>
<span id="cb7-15"><a href="Chapter3.html#cb7-15" tabindex="-1"></a><span class="co"># road A</span></span>
<span id="cb7-16"><a href="Chapter3.html#cb7-16" tabindex="-1"></a>road_A<span class="ot">=</span><span class="fu">st_read</span>(<span class="st">&quot;./Topo10_v3_12_07_2016.gdb/&quot;</span>,<span class="at">layer=</span><span class="st">&quot;road_A&quot;</span>)</span>
<span id="cb7-17"><a href="Chapter3.html#cb7-17" tabindex="-1"></a>road2 <span class="ot">=</span> road_A[<span class="sc">!</span><span class="fu">st_is_empty</span>(road_A),,drop<span class="ot">=</span><span class="cn">FALSE</span>] <span class="co"># OK</span></span>
<span id="cb7-18"><a href="Chapter3.html#cb7-18" tabindex="-1"></a>validity<span class="ot">=</span><span class="fu">st_is_valid</span>(road2) </span>
<span id="cb7-19"><a href="Chapter3.html#cb7-19" tabindex="-1"></a><span class="fu">table</span>(validity) <span class="co"># 28 invalid geometrijas</span></span>
<span id="cb7-20"><a href="Chapter3.html#cb7-20" tabindex="-1"></a>road3<span class="ot">=</span><span class="fu">st_make_valid</span>(road2)</span>
<span id="cb7-21"><a href="Chapter3.html#cb7-21" tabindex="-1"></a>sfarrow<span class="sc">::</span><span class="fu">st_write_parquet</span>(road3, <span class="st">&quot;Topo_roadA.parquet&quot;</span>)</span>
<span id="cb7-22"><a href="Chapter3.html#cb7-22" tabindex="-1"></a></span>
<span id="cb7-23"><a href="Chapter3.html#cb7-23" tabindex="-1"></a><span class="co"># swamp A</span></span>
<span id="cb7-24"><a href="Chapter3.html#cb7-24" tabindex="-1"></a>swamp_A<span class="ot">=</span><span class="fu">st_read</span>(<span class="st">&quot;./Topo10_v3_12_07_2016.gdb/&quot;</span>,<span class="at">layer=</span><span class="st">&quot;swamp_A&quot;</span>)</span>
<span id="cb7-25"><a href="Chapter3.html#cb7-25" tabindex="-1"></a>swamp2 <span class="ot">=</span> swamp_A[<span class="sc">!</span><span class="fu">st_is_empty</span>(swamp_A),,drop<span class="ot">=</span><span class="cn">FALSE</span>] <span class="co"># OK</span></span>
<span id="cb7-26"><a href="Chapter3.html#cb7-26" tabindex="-1"></a>validity<span class="ot">=</span><span class="fu">st_is_valid</span>(swamp2) </span>
<span id="cb7-27"><a href="Chapter3.html#cb7-27" tabindex="-1"></a><span class="fu">table</span>(validity) <span class="co"># 17 invalid geometrijas</span></span>
<span id="cb7-28"><a href="Chapter3.html#cb7-28" tabindex="-1"></a>swamp3<span class="ot">=</span><span class="fu">st_make_valid</span>(swamp2)</span>
<span id="cb7-29"><a href="Chapter3.html#cb7-29" tabindex="-1"></a>sfarrow<span class="sc">::</span><span class="fu">st_write_parquet</span>(swamp3, <span class="st">&quot;Topo_swampA.parquet&quot;</span>)</span>
<span id="cb7-30"><a href="Chapter3.html#cb7-30" tabindex="-1"></a></span>
<span id="cb7-31"><a href="Chapter3.html#cb7-31" tabindex="-1"></a><span class="co"># bridge_L</span></span>
<span id="cb7-32"><a href="Chapter3.html#cb7-32" tabindex="-1"></a>bridge_L<span class="ot">=</span><span class="fu">st_read</span>(<span class="st">&quot;./Topo10_v3_12_07_2016.gdb/&quot;</span>,<span class="at">layer=</span><span class="st">&quot;bridge_L&quot;</span>)</span>
<span id="cb7-33"><a href="Chapter3.html#cb7-33" tabindex="-1"></a>bridgeL2 <span class="ot">=</span> bridge_L[<span class="sc">!</span><span class="fu">st_is_empty</span>(bridge_L),,drop<span class="ot">=</span><span class="cn">FALSE</span>] <span class="co"># OK</span></span>
<span id="cb7-34"><a href="Chapter3.html#cb7-34" tabindex="-1"></a>validity<span class="ot">=</span><span class="fu">st_is_valid</span>(bridgeL2) </span>
<span id="cb7-35"><a href="Chapter3.html#cb7-35" tabindex="-1"></a><span class="fu">table</span>(validity) <span class="co"># OK</span></span>
<span id="cb7-36"><a href="Chapter3.html#cb7-36" tabindex="-1"></a>sfarrow<span class="sc">::</span><span class="fu">st_write_parquet</span>(bridgeL2, <span class="st">&quot;Topo_bridgeL.parquet&quot;</span>)</span>
<span id="cb7-37"><a href="Chapter3.html#cb7-37" tabindex="-1"></a></span>
<span id="cb7-38"><a href="Chapter3.html#cb7-38" tabindex="-1"></a><span class="co"># bridge_P</span></span>
<span id="cb7-39"><a href="Chapter3.html#cb7-39" tabindex="-1"></a>bridge_P<span class="ot">=</span><span class="fu">st_read</span>(<span class="st">&quot;./Topo10_v3_12_07_2016.gdb/&quot;</span>,<span class="at">layer=</span><span class="st">&quot;bridge_P&quot;</span>)</span>
<span id="cb7-40"><a href="Chapter3.html#cb7-40" tabindex="-1"></a>bridgeP2 <span class="ot">=</span> bridge_P[<span class="sc">!</span><span class="fu">st_is_empty</span>(bridge_P),,drop<span class="ot">=</span><span class="cn">FALSE</span>] <span class="co"># OK</span></span>
<span id="cb7-41"><a href="Chapter3.html#cb7-41" tabindex="-1"></a>validity<span class="ot">=</span><span class="fu">st_is_valid</span>(bridgeP2) </span>
<span id="cb7-42"><a href="Chapter3.html#cb7-42" tabindex="-1"></a><span class="fu">table</span>(validity) <span class="co"># OK</span></span>
<span id="cb7-43"><a href="Chapter3.html#cb7-43" tabindex="-1"></a>sfarrow<span class="sc">::</span><span class="fu">st_write_parquet</span>(bridgeP2, <span class="st">&quot;Topo_bridgeP.parquet&quot;</span>)</span>
<span id="cb7-44"><a href="Chapter3.html#cb7-44" tabindex="-1"></a></span>
<span id="cb7-45"><a href="Chapter3.html#cb7-45" tabindex="-1"></a><span class="co"># landus A</span></span>
<span id="cb7-46"><a href="Chapter3.html#cb7-46" tabindex="-1"></a>landus_A<span class="ot">=</span><span class="fu">st_read</span>(<span class="st">&quot;./Topo10_v3_12_07_2016.gdb/&quot;</span>,<span class="at">layer=</span><span class="st">&quot;landus_A&quot;</span>)</span>
<span id="cb7-47"><a href="Chapter3.html#cb7-47" tabindex="-1"></a>landus2 <span class="ot">=</span> landus_A[<span class="sc">!</span><span class="fu">st_is_empty</span>(landus_A),,drop<span class="ot">=</span><span class="cn">FALSE</span>] <span class="co"># OK</span></span>
<span id="cb7-48"><a href="Chapter3.html#cb7-48" tabindex="-1"></a>validity<span class="ot">=</span><span class="fu">st_is_valid</span>(landus2) </span>
<span id="cb7-49"><a href="Chapter3.html#cb7-49" tabindex="-1"></a><span class="fu">table</span>(validity) <span class="co"># 5734 invalid geometrijas</span></span>
<span id="cb7-50"><a href="Chapter3.html#cb7-50" tabindex="-1"></a>landus3<span class="ot">=</span><span class="fu">st_make_valid</span>(landus2)</span>
<span id="cb7-51"><a href="Chapter3.html#cb7-51" tabindex="-1"></a>sfarrow<span class="sc">::</span><span class="fu">st_write_parquet</span>(landus3, <span class="st">&quot;Topo_landusA.parquet&quot;</span>)</span></code></pre></div>
</div>
<div id="Chapter3.1.4" class="section level3 hasAnchor" number="4.1.4">
<h3><span class="header-section-number">4.1.4</span> Meliorācijas Kadastra Informācijas Sistēmas datubāze<a href="Chapter3.html#Chapter3.1.4" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Meliorācijas Kadastra Informācijas Sistēmas datubāze 2018. gada jūnijā pēc pieprasījuma no Latvijas Universitātes studiju un pētniecības procesu nodrošināšanai saņemta no Zemkopības ministrijas nekustamo īpašumu daļas. Tās saturs pieejams <a href="https://www.melioracija.lv/?loc=540414;308053;1">publiskai apskatei</a>.</p>
<p>Sākotnēji papildus apstrāde šiem datiem nav veikta. Tie izmantoti <a href="Chapter3.html#Chapter3.2">Ievades produkti</a> sagatavošanai - gan <a href="Chapter3.html#Chapter3.2.1">Reljefa produkti</a>, gan <a href="Chapter3.html#Chapter3.2.2">Ainava</a> sagatavošanai.</p>
</div>
<div id="Chapter3.1.5" class="section level3 hasAnchor" number="4.1.5">
<h3><span class="header-section-number">4.1.5</span> LVM atvērtie dati<a href="Chapter3.html#Chapter3.1.5" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p><a href="https://data.gov.lv/dati/lv/dataset/as-latvijas-valsts-mezi-mezsaimniecibas-infrastruktura">AS “Latvijas valsts meži” meža infrastruktūras ģeotelpiskie dati un to apraksts</a>. No šīs datu kopas projektā izmantoti:</p>
<ul>
<li><p>ceļi:</p>
<ul>
<li><p>meža ceļi;</p></li>
<li><p>attīstāmie meža ceļi;</p></li>
<li><p>apgriešanās laukumi;</p></li>
<li><p>izmainīšanās vietas;</p></li>
<li><p>nobrauktuves;</p></li>
</ul></li>
<li><p>meliorācijas sistēmas:</p>
<ul>
<li><p>grāvji;</p></li>
<li><p>meliorācijas sistēmas;</p></li>
<li><p>atjaunojamie meliorācijas objekti.</p></li>
</ul></li>
</ul>
<p>Sākotnēji papildus apstrāde šiem datiem nav veikta. Tie izmantoti <a href="Chapter3.html#Chapter3.2">Ievades produkti</a> (specifiskāk, <a href="Chapter3.html#Chapter3.2.2">Ainava</a>) sagatavošanai.</p>
</div>
<div id="Chapter3.1.6" class="section level3 hasAnchor" number="4.1.6">
<h3><span class="header-section-number">4.1.6</span> Corine Land Cover<a href="Chapter3.html#Chapter3.1.6" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Corine Land Cover ir publiski pieejami ģeodati, kas raksturo zemes seguma un lietojuma veidu (LULC) visā aptverot visu Eiropu ilgā laika periodā ar kopumā nemainīgu (salīdzināmu) metodiku (<a href="https://land.copernicus.eu/content/corine-land-cover-nomenclature-guidelines/docs/pdf/CLC2018_Nomenclature_illustrated_guide_20190510.pdf" class="uri">https://land.copernicus.eu/content/corine-land-cover-nomenclature-guidelines/docs/pdf/CLC2018_Nomenclature_illustrated_guide_20190510.pdf</a>), sniedzot rezultātus atsevišķiem gadiem - 1990., 2000., 2006., 2012., 2018. (<a href="https://land.copernicus.eu/en/products/corine-land-cover" class="uri">https://land.copernicus.eu/en/products/corine-land-cover</a>). Lai gan datu kopa ir rupjas izšķirtspēja - kartējamā vienība ir 25 ha laukumi, kas ir vismaz 100 m plati, tā sniedz pietiekošu informāciju vispārīgam lietojumam, piemēram, novērojumu atlasei plašās ainavas klasēs (vairāk nodaļā <a href="Chapter6.html#Chapter6">Novērojumu atlase</a>). Šajā projektā izmantoti 2018. gada dati.</p>
<p>Lejupielādētā datu kopa transformēta Latvijas koordinātu sistēmā (EPSG:3059), turpmākā darba atvieglošanai un paātrināšanai failu formāts mainīts uz <em>geoparquet</em>. Failu formāta maiņas ietvaros pārbaudītas ģeometrijas (tukšās, validitāte).</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb8-1"><a href="Chapter3.html#cb8-1" tabindex="-1"></a><span class="co"># libs</span></span>
<span id="cb8-2"><a href="Chapter3.html#cb8-2" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(sf)) {<span class="fu">install.packages</span>(<span class="st">&quot;sf&quot;</span>); <span class="fu">require</span>(sf)}</span>
<span id="cb8-3"><a href="Chapter3.html#cb8-3" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(arrow)) {<span class="fu">install.packages</span>(<span class="st">&quot;arrow&quot;</span>); <span class="fu">require</span>(arrow)}</span>
<span id="cb8-4"><a href="Chapter3.html#cb8-4" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(sfarrow)) {<span class="fu">install.packages</span>(<span class="st">&quot;sfarrow&quot;</span>); <span class="fu">require</span>(sfarrow)}</span>
<span id="cb8-5"><a href="Chapter3.html#cb8-5" tabindex="-1"></a></span>
<span id="cb8-6"><a href="Chapter3.html#cb8-6" tabindex="-1"></a><span class="co"># lejupielādētie dati</span></span>
<span id="cb8-7"><a href="Chapter3.html#cb8-7" tabindex="-1"></a>clcLV<span class="ot">=</span><span class="fu">st_read</span>(<span class="st">&quot;./clcLV.gpkg&quot;</span>,<span class="at">layer=</span><span class="st">&quot;clcLV&quot;</span>)</span>
<span id="cb8-8"><a href="Chapter3.html#cb8-8" tabindex="-1"></a></span>
<span id="cb8-9"><a href="Chapter3.html#cb8-9" tabindex="-1"></a><span class="co"># tukšās ģeometrijas</span></span>
<span id="cb8-10"><a href="Chapter3.html#cb8-10" tabindex="-1"></a>clcLV2 <span class="ot">=</span> clcLV[<span class="sc">!</span><span class="fu">st_is_empty</span>(clcLV),,drop<span class="ot">=</span><span class="cn">FALSE</span>] <span class="co"># OK</span></span>
<span id="cb8-11"><a href="Chapter3.html#cb8-11" tabindex="-1"></a></span>
<span id="cb8-12"><a href="Chapter3.html#cb8-12" tabindex="-1"></a><span class="co"># ģeometriju validēšana</span></span>
<span id="cb8-13"><a href="Chapter3.html#cb8-13" tabindex="-1"></a>validity<span class="ot">=</span><span class="fu">st_is_valid</span>(clcLV2) </span>
<span id="cb8-14"><a href="Chapter3.html#cb8-14" tabindex="-1"></a><span class="fu">table</span>(validity) <span class="co"># 3 non-valid</span></span>
<span id="cb8-15"><a href="Chapter3.html#cb8-15" tabindex="-1"></a>clcLV3<span class="ot">=</span><span class="fu">st_make_valid</span>(clcLV2)</span>
<span id="cb8-16"><a href="Chapter3.html#cb8-16" tabindex="-1"></a></span>
<span id="cb8-17"><a href="Chapter3.html#cb8-17" tabindex="-1"></a><span class="co"># koordinātu sistēma</span></span>
<span id="cb8-18"><a href="Chapter3.html#cb8-18" tabindex="-1"></a>clcLV3<span class="ot">=</span><span class="fu">st_transform</span>(clcLV3,<span class="at">crs=</span><span class="dv">3059</span>)</span>
<span id="cb8-19"><a href="Chapter3.html#cb8-19" tabindex="-1"></a></span>
<span id="cb8-20"><a href="Chapter3.html#cb8-20" tabindex="-1"></a><span class="co"># saglabāšana</span></span>
<span id="cb8-21"><a href="Chapter3.html#cb8-21" tabindex="-1"></a>sfarrow<span class="sc">::</span><span class="fu">st_write_parquet</span>(clcLV3, <span class="st">&quot;CLC_LV_2018.parquet&quot;</span>)</span></code></pre></div>
</div>
<div id="Chapter3.1.7" class="section level3 hasAnchor" number="4.1.7">
<h3><span class="header-section-number">4.1.7</span> Sentinel-2<a href="Chapter3.html#Chapter3.1.7" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Eiropas Kosmosa Aģentūras (ESA) <em>Copernicus</em> programmas <em>Sentinel-2</em> misija ir divu (trīs kopš 2024-09-05) identisku satelītu, kas riņo tajā pašā orbītā, konstellācija. Pirmais satelīts - <em>Sentinel-2A</em> savu orbītu ieņēma un izgāja kalibrācijas testus 2015-06-23, otrais (<em>Sentinel-2B</em>) - 2017-03-07, pirmie attēli bija pieejami jau iepriekš. Katrs satelīts uzņem augstas izšķirtspējas (no 10 m (pie ekvatora) pikseļa izšķirtspējas) attēlus 13 spektrālajos kanālos ar atgriešanās laiku līdz 5 dienām (tuvāk poliem - biežāk) (<a href="https://www.esa.int/Applications/Observing_the_Earth/Copernicus/Sentinel-2" class="uri">https://www.esa.int/Applications/Observing_the_Earth/Copernicus/Sentinel-2</a>). Šīs misijas dati ir brīvi pieejami, tajā skaitā <em>Google Earth Engine</em> platformā <span class="citation">(<a href="#ref-GEEpaper">Gorelick et al., 2017</a>)</span> dažādas liela apjoma priekšapstrādes un analīžu veikšanai. Šī projekta ietvaros izmantots harmonizētais otrā līmeņa (Level-2A; <a href="https://developers.google.com/earth-engine/datasets/catalog/COPERNICUS_S2_SR_HARMONIZED#description" class="uri">https://developers.google.com/earth-engine/datasets/catalog/COPERNICUS_S2_SR_HARMONIZED#description</a>) produkts, pielietojot mākoņu masku, kura iekļauj ne tikai mākoņu, bet arī to ēnu filtrēšanu, lai katrai pēc filtrēšanas (mākoņu un sezonas - no aprīļa līdz oktobrim un no 2017. līdz 2023. gadam) pieejamajai satelītainais aprēķinātu normalizēto starpības veģetācijas indeksu (NDVI, ) un normalizēto starpības ūdens indeksu (NDWI, ) kā arī dažādas to metrikas. Datu sagatavošanai izmantojams
<a href="https://code.earthengine.google.com/0d0c819780aafc82e8fae371e4afd360?noload=true">replicēšanas skripts</a>. Lai izmantotu šo skriptu, ir nepieciešams <a href="https://code.earthengine.google.com/register">GEE konts un projekts</a> un pietiekošs apjoms vietas Google Drive diskā. Izpildot komandrindas tiks piedāvāta lejuplāde sekojošiem failiem:</p>
<ul>
<li><p><code>NDVI_p25</code> - aprīļa līdz oktobra ik pikseļa NDVI 25. procentiles vērtību katram gadam no 2017. līdz 2023. mediāna;</p></li>
<li><p><code>NDVI_p75</code> - aprīļa līdz oktobra ik pikseļa NDVI 75. procentiles vērtību katram gadam no 2017. līdz 2023. mediāna;</p></li>
<li><p><code>NDVI_median</code> - aprīļa līdz oktobra ik pikseļa NDVI mediānas vērtību katram gadam no 2017. līdz 2023. mediāna;</p></li>
<li><p><code>NDVI_2023_median</code> - 2023. gada aprīļa līdz oktobra ik pikseļa NDVI vērtību mediāna;</p></li>
<li><p><code>NDVI_IQR</code> - aprīļa līdz oktobra ik pikseļa NDVI starpkvartiļu apgabala vērtību katram gadam no 2017. līdz 2023. mediāna;</p></li>
<li><p><code>NDWI_p25</code> - aprīļa līdz oktobra ik pikseļa NDWI 25. procentiles vērtību katram gadam no 2017. līdz 2023. mediāna;</p></li>
<li><p><code>NDWI_p75</code> - aprīļa līdz oktobra ik pikseļa NDWI 75. procentiles vērtību katram gadam no 2017. līdz 2023. mediāna;</p></li>
<li><p><code>NDWI_median</code> - aprīļa līdz oktobra ik pikseļa NDWI mediānas vērtību katram gadam no 2017. līdz 2023. mediāna;</p></li>
<li><p><code>NDWI_2023_median</code> - 2023. gada aprīļa līdz oktobra ik pikseļa NDWI vērtību mediāna;</p></li>
<li><p><code>NDWI_IQR</code> - aprīļa līdz oktobra ik pikseļa NDWI starpkvartiļu apgabala vērtību katram gadam no 2017. līdz 2023. mediāna.</p></li>
</ul>
<p>Pēc komandrindu izpildes un rezultātu sagatavošanas Google Drive diskā, ir redzams, ka katrs visu Latviju aptverošais slānis ir sadalīts vairākās lapās. Tas ir tādēļ, ka slāņi kodēti kā <em>Float</em> un pirms komprecijas GeoTIFF pārsniedz 4 GB izmēru. Visas šīs lapas ir nepieciešams lejuplādēt, sekojošās R komandrindas tās apvieno, nodrošinot koordinātu sistēmas un pikseļu atbilstību references rastram.</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb9-1"><a href="Chapter3.html#cb9-1" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(tidyverse)) {<span class="fu">install.packages</span>(<span class="st">&quot;tidyverse&quot;</span>); <span class="fu">require</span>(tidyverse)}</span>
<span id="cb9-2"><a href="Chapter3.html#cb9-2" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(terra)) {<span class="fu">install.packages</span>(<span class="st">&quot;terra&quot;</span>); <span class="fu">require</span>(terra)}</span>
<span id="cb9-3"><a href="Chapter3.html#cb9-3" tabindex="-1"></a></span>
<span id="cb9-4"><a href="Chapter3.html#cb9-4" tabindex="-1"></a><span class="co"># reference</span></span>
<span id="cb9-5"><a href="Chapter3.html#cb9-5" tabindex="-1"></a>paraugs<span class="ot">=</span><span class="fu">rast</span>(<span class="st">&quot;./LV10m_10km.tif&quot;</span>)</span>
<span id="cb9-6"><a href="Chapter3.html#cb9-6" tabindex="-1"></a></span>
<span id="cb9-7"><a href="Chapter3.html#cb9-7" tabindex="-1"></a><span class="co"># saraksts ar lejupielādētajiem failiem, pieņemot, ka tie atrodas direktorijas </span></span>
<span id="cb9-8"><a href="Chapter3.html#cb9-8" tabindex="-1"></a><span class="co"># &quot;S2indices&quot; apakšdirektorijā &quot;RAW&quot;</span></span>
<span id="cb9-9"><a href="Chapter3.html#cb9-9" tabindex="-1"></a>faili<span class="ot">=</span><span class="fu">data.frame</span>(<span class="at">fails=</span><span class="fu">list.files</span>(<span class="st">&quot;./S2indices/RAW/&quot;</span>))</span>
<span id="cb9-10"><a href="Chapter3.html#cb9-10" tabindex="-1"></a>faili<span class="sc">$</span>celi_sakums<span class="ot">=</span><span class="fu">paste0</span>(<span class="st">&quot;./S2indices/RAW/&quot;</span>,faili<span class="sc">$</span>fails)</span>
<span id="cb9-11"><a href="Chapter3.html#cb9-11" tabindex="-1"></a></span>
<span id="cb9-12"><a href="Chapter3.html#cb9-12" tabindex="-1"></a><span class="co"># Korekti projektētu mozaīku sagatavošana</span></span>
<span id="cb9-13"><a href="Chapter3.html#cb9-13" tabindex="-1"></a><span class="co"># failu nosaukumi un ceļš saglabāšanai</span></span>
<span id="cb9-14"><a href="Chapter3.html#cb9-14" tabindex="-1"></a>faili<span class="ot">=</span>faili <span class="sc">%&gt;%</span> </span>
<span id="cb9-15"><a href="Chapter3.html#cb9-15" tabindex="-1"></a>  <span class="fu">separate</span>(fails,<span class="at">into=</span><span class="fu">c</span>(<span class="st">&quot;nosaukums&quot;</span>,<span class="st">&quot;vidus&quot;</span>,<span class="st">&quot;beigas&quot;</span>),<span class="at">sep=</span><span class="st">&quot;-&quot;</span>,<span class="at">remove =</span> <span class="cn">FALSE</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb9-16"><a href="Chapter3.html#cb9-16" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">mosaic_name=</span><span class="fu">paste0</span>(nosaukums,<span class="st">&quot;.tif&quot;</span>),</span>
<span id="cb9-17"><a href="Chapter3.html#cb9-17" tabindex="-1"></a>         <span class="at">masaic_cels=</span><span class="fu">paste0</span>(<span class="st">&quot;./S2indices/mozaikas/&quot;</span>,mosaic_name))</span>
<span id="cb9-18"><a href="Chapter3.html#cb9-18" tabindex="-1"></a></span>
<span id="cb9-19"><a href="Chapter3.html#cb9-19" tabindex="-1"></a><span class="co"># unikālie failu nosaukumi cikla vadībai</span></span>
<span id="cb9-20"><a href="Chapter3.html#cb9-20" tabindex="-1"></a>unikalie<span class="ot">=</span><span class="fu">levels</span>(<span class="fu">factor</span>(faili<span class="sc">$</span>nosaukums))</span>
<span id="cb9-21"><a href="Chapter3.html#cb9-21" tabindex="-1"></a></span>
<span id="cb9-22"><a href="Chapter3.html#cb9-22" tabindex="-1"></a><span class="co"># cikls uzdevuma veikšanai</span></span>
<span id="cb9-23"><a href="Chapter3.html#cb9-23" tabindex="-1"></a><span class="cf">for</span>(i <span class="cf">in</span> <span class="fu">seq_along</span>(unikalie)){</span>
<span id="cb9-24"><a href="Chapter3.html#cb9-24" tabindex="-1"></a>  unikalais<span class="ot">=</span>faili <span class="sc">%&gt;%</span> <span class="fu">filter</span>(nosaukums<span class="sc">==</span>unikalie[i])</span>
<span id="cb9-25"><a href="Chapter3.html#cb9-25" tabindex="-1"></a>  beigu_cels<span class="ot">=</span><span class="fu">unique</span>(unikalais<span class="sc">$</span>masaic_cels)</span>
<span id="cb9-26"><a href="Chapter3.html#cb9-26" tabindex="-1"></a>  </span>
<span id="cb9-27"><a href="Chapter3.html#cb9-27" tabindex="-1"></a>  <span class="co"># ik slānis sastāv no divām lapām</span></span>
<span id="cb9-28"><a href="Chapter3.html#cb9-28" tabindex="-1"></a>  viens<span class="ot">=</span><span class="fu">rast</span>(unikalais<span class="sc">$</span>celi_sakums[<span class="dv">1</span>])</span>
<span id="cb9-29"><a href="Chapter3.html#cb9-29" tabindex="-1"></a>  divi<span class="ot">=</span><span class="fu">rast</span>(unikalais<span class="sc">$</span>celi_sakums[<span class="dv">2</span>])</span>
<span id="cb9-30"><a href="Chapter3.html#cb9-30" tabindex="-1"></a>  </span>
<span id="cb9-31"><a href="Chapter3.html#cb9-31" tabindex="-1"></a>  viens2<span class="ot">=</span>terra<span class="sc">::</span><span class="fu">project</span>(viens,paraugs)</span>
<span id="cb9-32"><a href="Chapter3.html#cb9-32" tabindex="-1"></a>  divi2<span class="ot">=</span>terra<span class="sc">::</span><span class="fu">project</span>(divi,paraugs)</span>
<span id="cb9-33"><a href="Chapter3.html#cb9-33" tabindex="-1"></a>  </span>
<span id="cb9-34"><a href="Chapter3.html#cb9-34" tabindex="-1"></a>  mozaika<span class="ot">=</span>terra<span class="sc">::</span><span class="fu">merge</span>(viens2,divi2)</span>
<span id="cb9-35"><a href="Chapter3.html#cb9-35" tabindex="-1"></a>  maskets<span class="ot">=</span><span class="fu">mask</span>(mozaika,paraugs,<span class="at">filename=</span>beigu_cels,<span class="at">overwrite=</span><span class="cn">TRUE</span>)</span>
<span id="cb9-36"><a href="Chapter3.html#cb9-36" tabindex="-1"></a>}</span></code></pre></div>
</div>
<div id="Chapter3.1.8" class="section level3 hasAnchor" number="4.1.8">
<h3><span class="header-section-number">4.1.8</span> <em>Dynamic World</em><a href="Chapter3.html#Chapter3.1.8" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p><em>Dynamic World</em> (DW) ir relatīvi nesens Zemes novērošanas sistēmu produkts, kurš klasificē zemes segumu un lietojumu (LULC) deviņās kategorijās (0=water, 1=trees, 2=grass, 3=flooded_vegetation, 4=crops, 5=shrub_and_scrub, 6=built, 7=bare, 8=snow_and_ice), katram ESA Copernicus Sentinel-2 attēlam ar identificēto mākoņainību <span class="math inline">\(\le35%\)</span>, pieļaujot filtrēšanu un dažādu agregāciju veidošanu <span class="citation">(<a href="#ref-DynWorld">Brown et al., 2022</a>)</span> (nedaudz vairāk nodaļā <a href="Chapter4.html#Chapter4"><em>Dynamic World</em> izpēte</a>).</p>
<p>DW ievades informācija - rastra slānis katrai sezonai katrā gadā - sagtavots <em>Google Earth Engine</em> platformā <span class="citation">(<a href="#ref-GEEpaper">Gorelick et al., 2017</a>)</span>, izmantojot <a href="https://code.earthengine.google.com/941bb1a16331727787bb3fc1bbbda95b?noload=true">replicēšanas skriptu</a>. Lai izmantotu šo skriptu, ir nepieciešams <a href="https://code.earthengine.google.com/register">GEE konts un projekts</a> un pietiekošs apjoms vietas Google Drive diskā. Izpildot komandrindas tiks piedāvāta lejuplāde failam, kas aptver laika periodu no vērtības 7. rindā līdz vērtībai 8. rindā (faila nosaukums norādāms 32. rindā, tā apraksts - 33. rindā un direktorija Google diskā - 31. rindā vai tas viss norādāms apstiprinot saglabāšanau) - šis skripts nav optimizēts visu sezonālo griezumu visiem gadiem sagatavošanai, lai reproducētu vai paplašinātu šo izpēti, tās nepieciešams manuāli izmainīt.</p>
<p>Pēc komandrindu izpildes un rezultātu sagatavošanas Google Drive diskā, ir redzams, ka katrs visu Latviju aptverošais slānis ir sadalīts vairākās lapās. Tas ir tādēļ, ka, lai nodrošinātu nulles patieso vērtību (klase “water”, nevis fons), slāņi kodēti kā <em>Float</em>, nevis veselie skaitļi. Visas šīs lapas ir nepieciešams lejuplādēt, sekojošās R komandrindas tās apvieno, nodrošinot koordinātu sistēmas un pikseļu atbilstību references rastram.</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb10-1"><a href="Chapter3.html#cb10-1" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(tidyverse)) {<span class="fu">install.packages</span>(<span class="st">&quot;tidyverse&quot;</span>); <span class="fu">require</span>(tidyverse)}</span>
<span id="cb10-2"><a href="Chapter3.html#cb10-2" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(terra)) {<span class="fu">install.packages</span>(<span class="st">&quot;terra&quot;</span>); <span class="fu">require</span>(terra)}</span>
<span id="cb10-3"><a href="Chapter3.html#cb10-3" tabindex="-1"></a></span>
<span id="cb10-4"><a href="Chapter3.html#cb10-4" tabindex="-1"></a><span class="co"># reference</span></span>
<span id="cb10-5"><a href="Chapter3.html#cb10-5" tabindex="-1"></a>paraugs<span class="ot">=</span><span class="fu">rast</span>(<span class="st">&quot;./LV10m_10km.tif&quot;</span>)</span>
<span id="cb10-6"><a href="Chapter3.html#cb10-6" tabindex="-1"></a></span>
<span id="cb10-7"><a href="Chapter3.html#cb10-7" tabindex="-1"></a><span class="co"># saraksts ar lejupielādētajiem failiem, pieņemot, ka tie atrodas direktorijā </span></span>
<span id="cb10-8"><a href="Chapter3.html#cb10-8" tabindex="-1"></a><span class="co"># &quot;DWE_float&quot;</span></span>
<span id="cb10-9"><a href="Chapter3.html#cb10-9" tabindex="-1"></a>faili<span class="ot">=</span><span class="fu">data.frame</span>(<span class="at">faili=</span><span class="fu">list.files</span>(<span class="st">&quot;./DWE_float/&quot;</span>))</span>
<span id="cb10-10"><a href="Chapter3.html#cb10-10" tabindex="-1"></a>faili<span class="sc">$</span>celi_sakums<span class="ot">=</span><span class="fu">paste0</span>(<span class="st">&quot;./DWE_float/&quot;</span>,faili<span class="sc">$</span>faili)</span>
<span id="cb10-11"><a href="Chapter3.html#cb10-11" tabindex="-1"></a></span>
<span id="cb10-12"><a href="Chapter3.html#cb10-12" tabindex="-1"></a><span class="co"># Korekti projektētu mozaīku sagatavošana</span></span>
<span id="cb10-13"><a href="Chapter3.html#cb10-13" tabindex="-1"></a><span class="co"># failu nosaukumi un ceļš saglabāšanai</span></span>
<span id="cb10-14"><a href="Chapter3.html#cb10-14" tabindex="-1"></a>faili<span class="ot">=</span>faili <span class="sc">%&gt;%</span> </span>
<span id="cb10-15"><a href="Chapter3.html#cb10-15" tabindex="-1"></a>  <span class="fu">separate</span>(faili,<span class="at">into=</span><span class="fu">c</span>(<span class="st">&quot;DW&quot;</span>,<span class="st">&quot;gads&quot;</span>,<span class="st">&quot;periods&quot;</span>,<span class="st">&quot;parejais&quot;</span>),<span class="at">sep=</span><span class="st">&quot;_&quot;</span>,<span class="at">remove =</span> <span class="cn">FALSE</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb10-16"><a href="Chapter3.html#cb10-16" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">unikalais=</span><span class="fu">paste0</span>(DW,<span class="st">&quot;_&quot;</span>,gads,<span class="st">&quot;_&quot;</span>,periods),</span>
<span id="cb10-17"><a href="Chapter3.html#cb10-17" tabindex="-1"></a>         <span class="at">mosaic_name=</span><span class="fu">paste0</span>(unikalais,<span class="st">&quot;.tif&quot;</span>),</span>
<span id="cb10-18"><a href="Chapter3.html#cb10-18" tabindex="-1"></a>         <span class="at">masaic_cels=</span><span class="fu">paste0</span>(<span class="st">&quot;./DWE_mosaic/&quot;</span>,mosaic_name))</span>
<span id="cb10-19"><a href="Chapter3.html#cb10-19" tabindex="-1"></a></span>
<span id="cb10-20"><a href="Chapter3.html#cb10-20" tabindex="-1"></a><span class="co"># unikālie failu nosaukumi cikla vadībai</span></span>
<span id="cb10-21"><a href="Chapter3.html#cb10-21" tabindex="-1"></a>unikalie<span class="ot">=</span><span class="fu">levels</span>(<span class="fu">factor</span>(faili<span class="sc">$</span>unikalais))</span>
<span id="cb10-22"><a href="Chapter3.html#cb10-22" tabindex="-1"></a></span>
<span id="cb10-23"><a href="Chapter3.html#cb10-23" tabindex="-1"></a><span class="co"># cikls uzdevuma veikšanai</span></span>
<span id="cb10-24"><a href="Chapter3.html#cb10-24" tabindex="-1"></a><span class="cf">for</span>(i <span class="cf">in</span> <span class="fu">seq_along</span>(unikalie)){</span>
<span id="cb10-25"><a href="Chapter3.html#cb10-25" tabindex="-1"></a>  unikalais<span class="ot">=</span>faili <span class="sc">%&gt;%</span> <span class="fu">filter</span>(unikalais<span class="sc">==</span>unikalie[i])</span>
<span id="cb10-26"><a href="Chapter3.html#cb10-26" tabindex="-1"></a>  beigu_cels<span class="ot">=</span><span class="fu">unique</span>(unikalais<span class="sc">$</span>masaic_cels)</span>
<span id="cb10-27"><a href="Chapter3.html#cb10-27" tabindex="-1"></a>  </span>
<span id="cb10-28"><a href="Chapter3.html#cb10-28" tabindex="-1"></a>  <span class="co"># ik slānis sastāv no divām lapām</span></span>
<span id="cb10-29"><a href="Chapter3.html#cb10-29" tabindex="-1"></a>  viens<span class="ot">=</span><span class="fu">rast</span>(unikalais<span class="sc">$</span>celi_sakums[<span class="dv">1</span>])</span>
<span id="cb10-30"><a href="Chapter3.html#cb10-30" tabindex="-1"></a>  divi<span class="ot">=</span><span class="fu">rast</span>(unikalais<span class="sc">$</span>celi_sakums[<span class="dv">2</span>])</span>
<span id="cb10-31"><a href="Chapter3.html#cb10-31" tabindex="-1"></a>  </span>
<span id="cb10-32"><a href="Chapter3.html#cb10-32" tabindex="-1"></a>  viens2<span class="ot">=</span><span class="fu">project</span>(viens,paraugs)</span>
<span id="cb10-33"><a href="Chapter3.html#cb10-33" tabindex="-1"></a>  divi2<span class="ot">=</span><span class="fu">project</span>(divi,paraugs)</span>
<span id="cb10-34"><a href="Chapter3.html#cb10-34" tabindex="-1"></a>  </span>
<span id="cb10-35"><a href="Chapter3.html#cb10-35" tabindex="-1"></a>  mozaika<span class="ot">=</span><span class="fu">mosaic</span>(viens2,divi2,<span class="at">fun=</span><span class="st">&quot;first&quot;</span>)</span>
<span id="cb10-36"><a href="Chapter3.html#cb10-36" tabindex="-1"></a>  maskets<span class="ot">=</span><span class="fu">mask</span>(mozaika,paraugs,<span class="at">filename=</span>beigu_cels,<span class="at">overwrite=</span><span class="cn">TRUE</span>)</span>
<span id="cb10-37"><a href="Chapter3.html#cb10-37" tabindex="-1"></a>}</span></code></pre></div>
</div>
<div id="Chapter3.1.9" class="section level3 hasAnchor" number="4.1.9">
<h3><span class="header-section-number">4.1.9</span> <em>The Global Forest Watch</em><a href="Chapter3.html#Chapter3.1.9" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p><em>The Global Forest Watch</em> (GFW) ir plaši pazīstam produkts, kurš raksturo koku vainagu segumu 2000. gadā, tā ikgadējo pieaugumu no 2001. gada līdz 2012. gadam un zudumu katrā gadā kopš 2001. gada līdz aktuālajai versijai, kas ik gadu tiek papildināta <span class="citation">(<a href="#ref-theGFW">Hansen et al., 2013</a>)</span>. Dati ir pieejami gan <a href="https://data.globalforestwatch.org/documents/941f17325a494ed78c4817f9bb20f33a/explore">projekta mājaslapā</a>, gan <a href="https://developers.google.com/earth-engine/datasets/catalog/UMD_hansen_global_forest_change_2023_v1_11">GEE</a>, kurā tie ir izstrādāti. Šajā projektā izmantota v1.11, kurā pēdējais koku izzušanas datēšanas gads ir 2023, to sagatavojot lejupielādei GEE platformā ar <a href="https://code.earthengine.google.com/1878026f59c5118080cac0a8c976c744?noload=true">šo replicēšanas skriptu</a>. Lai izmantotu šo skriptu, ir nepieciešams <a href="https://code.earthengine.google.com/register">GEE konts un projekts</a> un pietiekošs apjoms vietas Google Drive diskā. Izpildot komandrindas tiks piedāvāta lejuplāde failam, kuru nepieciešams saglabāt Google diskā.</p>
<p>Pēc komandrindu izpildes un rezultātu sagatavošanas Google Drive diskā, darba cietajā diskā ir lejupielādējams viens fails un tas pielāgojams references rastram.</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb11-1"><a href="Chapter3.html#cb11-1" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(tidyverse)) {<span class="fu">install.packages</span>(<span class="st">&quot;tidyverse&quot;</span>); <span class="fu">require</span>(tidyverse)}</span>
<span id="cb11-2"><a href="Chapter3.html#cb11-2" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(terra)) {<span class="fu">install.packages</span>(<span class="st">&quot;terra&quot;</span>); <span class="fu">require</span>(terra)}</span>
<span id="cb11-3"><a href="Chapter3.html#cb11-3" tabindex="-1"></a></span>
<span id="cb11-4"><a href="Chapter3.html#cb11-4" tabindex="-1"></a><span class="co"># reference</span></span>
<span id="cb11-5"><a href="Chapter3.html#cb11-5" tabindex="-1"></a>paraugs<span class="ot">=</span><span class="fu">rast</span>(<span class="st">&quot;./LV10m_10km.tif&quot;</span>)</span>
<span id="cb11-6"><a href="Chapter3.html#cb11-6" tabindex="-1"></a></span>
<span id="cb11-7"><a href="Chapter3.html#cb11-7" tabindex="-1"></a><span class="co"># TreeCoverLoss</span></span>
<span id="cb11-8"><a href="Chapter3.html#cb11-8" tabindex="-1"></a>treecoverloss<span class="ot">=</span><span class="fu">rast</span>(<span class="st">&quot;./RAW/TreeCoverLoss.tif&quot;</span>)</span>
<span id="cb11-9"><a href="Chapter3.html#cb11-9" tabindex="-1"></a></span>
<span id="cb11-10"><a href="Chapter3.html#cb11-10" tabindex="-1"></a><span class="co"># Fona aivietošana ar iztrūkstošajām vērtībām</span></span>
<span id="cb11-11"><a href="Chapter3.html#cb11-11" tabindex="-1"></a>tcl<span class="ot">=</span><span class="fu">ifel</span>(treecoverloss<span class="sc">&lt;</span><span class="dv">1</span>,<span class="cn">NA</span>,treecoverloss)</span>
<span id="cb11-12"><a href="Chapter3.html#cb11-12" tabindex="-1"></a></span>
<span id="cb11-13"><a href="Chapter3.html#cb11-13" tabindex="-1"></a><span class="co"># projektēšana un maskēšana ar faila saglabāšanu</span></span>
<span id="cb11-14"><a href="Chapter3.html#cb11-14" tabindex="-1"></a>tcl2<span class="ot">=</span>terra<span class="sc">::</span><span class="fu">project</span>(tcl,paraugs)</span>
<span id="cb11-15"><a href="Chapter3.html#cb11-15" tabindex="-1"></a>tcl3<span class="ot">=</span><span class="fu">mask</span>(tcl2,paraugs,<span class="at">filename=</span><span class="st">&quot;./TreeCoverLossYear.tif&quot;</span>,<span class="at">overwrite=</span><span class="cn">TRUE</span>)</span></code></pre></div>
</div>
<div id="Chapter3.1.10" class="section level3 hasAnchor" number="4.1.10">
<h3><span class="header-section-number">4.1.10</span> Palsar Forests<a href="Chapter3.html#Chapter3.1.10" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p><em>Palsar Forests</em> resurss ir balstīts PALSAR-2 sintētiskās aprertūras radara (SAR) atstarojumu klasifikācijā meža un nemeža zemēs ar 25 m pikseļa izšķirtspēju. Par mežu tiek klasificētas vismaz 0.5 ha plašas ar kokiem klātas teritorijas, kurās koku (vismaz 5 m augstu) seguma ir vismaz 10% <span class="citation">(<a href="#ref-PALSARForest">Shimada et al., 2013</a>)</span>. Dati ir pieejami <a href="https://developers.google.com/earth-engine/datasets/catalog/JAXA_ALOS_PALSAR_YEARLY_FNF4">GEE</a>. Šajā projektā izmantota 4-klašu versija (1=Dense Forest, 2=Non-dense Forest, 3=Non-Forest, 4=Water), kurā pēdējais koku seguma datēšanas gads ir 2020, to sagatavojot lejupielādei GEE platformā ar <a href="https://code.earthengine.google.com/3ec78ab057e6c8910cb1546002132b34?noload=true">šo replicēšanas skriptu</a>. Lai izmantotu šo skriptu, ir nepieciešams <a href="https://code.earthengine.google.com/register">GEE konts un projekts</a> un pietiekošs apjoms vietas Google Drive diskā. Izpildot komandrindas tiks piedāvāta lejuplāde failam, kuru nepieciešams saglabāt Google diskā.</p>
<p>Pēc komandrindu izpildes un rezultātu sagatavošanas Google Drive diskā, ir lejupielādējami četri faili. Tos nepieciešams projektēt atbilstībai references rastram un apvienot. Šajā resursā koki ir kodēti divās grupās: 1=Dense Forest un 2=Non-dense Forest, kuras nepieciešams apvienot un pārējo pārvērst par iztrūkstošajām vērtībām.</p>
<p>Lai gan šī resursa dati raksturo situāciju 2020. nevis 2023. gadā, tie ir izmantoti, jo koku vainagu seguma izzušanu raksturošanai ir pieejami <a href="Chapter3.html#Chapter3.1.9"><em>The Global Forest Watch</em></a> dati, bet vainagu parādīšanās nav tik strauja, lai būtu nozīmīgas izmaiņas trīs gadu laikā, un šis gads atrodas pa vidu ar novērojumiem aptvertajam laika periodam (2017.-2023. gadi).</p>
<div class="sourceCode" id="cb12"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb12-1"><a href="Chapter3.html#cb12-1" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(tidyverse)) {<span class="fu">install.packages</span>(<span class="st">&quot;tidyverse&quot;</span>); <span class="fu">require</span>(tidyverse)}</span>
<span id="cb12-2"><a href="Chapter3.html#cb12-2" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(terra)) {<span class="fu">install.packages</span>(<span class="st">&quot;terra&quot;</span>); <span class="fu">require</span>(terra)}</span>
<span id="cb12-3"><a href="Chapter3.html#cb12-3" tabindex="-1"></a></span>
<span id="cb12-4"><a href="Chapter3.html#cb12-4" tabindex="-1"></a><span class="co"># reference</span></span>
<span id="cb12-5"><a href="Chapter3.html#cb12-5" tabindex="-1"></a>paraugs<span class="ot">=</span><span class="fu">rast</span>(<span class="st">&quot;./LV10m_10km.tif&quot;</span>)</span>
<span id="cb12-6"><a href="Chapter3.html#cb12-6" tabindex="-1"></a></span>
<span id="cb12-7"><a href="Chapter3.html#cb12-7" tabindex="-1"></a><span class="co"># Palsar Trees</span></span>
<span id="cb12-8"><a href="Chapter3.html#cb12-8" tabindex="-1"></a>fnf1<span class="ot">=</span><span class="fu">rast</span>(<span class="st">&quot;./RAW/ForestNonForest-0000023296-0000023296.tif&quot;</span>)</span>
<span id="cb12-9"><a href="Chapter3.html#cb12-9" tabindex="-1"></a>fnf2<span class="ot">=</span><span class="fu">rast</span>(<span class="st">&quot;./RAW/ForestNonForest-0000023296-0000000000.tif&quot;</span>)</span>
<span id="cb12-10"><a href="Chapter3.html#cb12-10" tabindex="-1"></a>fnf3<span class="ot">=</span><span class="fu">rast</span>(<span class="st">&quot;./RAW/ForestNonForest-0000000000-0000023296.tif&quot;</span>)</span>
<span id="cb12-11"><a href="Chapter3.html#cb12-11" tabindex="-1"></a>fnf4<span class="ot">=</span><span class="fu">rast</span>(<span class="st">&quot;./RAW/ForestNonForest-0000000000-0000000000.tif&quot;</span>)</span>
<span id="cb12-12"><a href="Chapter3.html#cb12-12" tabindex="-1"></a></span>
<span id="cb12-13"><a href="Chapter3.html#cb12-13" tabindex="-1"></a><span class="co"># projektēšana</span></span>
<span id="cb12-14"><a href="Chapter3.html#cb12-14" tabindex="-1"></a>fnf1p<span class="ot">=</span>terra<span class="sc">::</span><span class="fu">project</span>(fnf1,paraugs)</span>
<span id="cb12-15"><a href="Chapter3.html#cb12-15" tabindex="-1"></a>fnf2p<span class="ot">=</span>terra<span class="sc">::</span><span class="fu">project</span>(fnf2,paraugs)</span>
<span id="cb12-16"><a href="Chapter3.html#cb12-16" tabindex="-1"></a>fnf3p<span class="ot">=</span>terra<span class="sc">::</span><span class="fu">project</span>(fnf3,paraugs)</span>
<span id="cb12-17"><a href="Chapter3.html#cb12-17" tabindex="-1"></a>fnf4p<span class="ot">=</span>terra<span class="sc">::</span><span class="fu">project</span>(fnf4,paraugs)</span>
<span id="cb12-18"><a href="Chapter3.html#cb12-18" tabindex="-1"></a></span>
<span id="cb12-19"><a href="Chapter3.html#cb12-19" tabindex="-1"></a><span class="co"># Apvienošana</span></span>
<span id="cb12-20"><a href="Chapter3.html#cb12-20" tabindex="-1"></a>fnfA<span class="ot">=</span>terra<span class="sc">::</span><span class="fu">merge</span>(fnf1p,fnf2p)</span>
<span id="cb12-21"><a href="Chapter3.html#cb12-21" tabindex="-1"></a>fnfB<span class="ot">=</span>terra<span class="sc">::</span><span class="fu">merge</span>(fnfA,fnf3p)</span>
<span id="cb12-22"><a href="Chapter3.html#cb12-22" tabindex="-1"></a>fnfC<span class="ot">=</span>terra<span class="sc">::</span><span class="fu">merge</span>(fnfB,fnf4p)</span>
<span id="cb12-23"><a href="Chapter3.html#cb12-23" tabindex="-1"></a></span>
<span id="cb12-24"><a href="Chapter3.html#cb12-24" tabindex="-1"></a><span class="co"># Reklasificēšana</span></span>
<span id="cb12-25"><a href="Chapter3.html#cb12-25" tabindex="-1"></a>fnf_X<span class="ot">=</span><span class="fu">ifel</span>(fnfC<span class="sc">&lt;=</span><span class="dv">2</span><span class="sc">&amp;</span>fnfC<span class="sc">&gt;=</span><span class="dv">1</span>,<span class="dv">1</span>,<span class="cn">NA</span>)</span>
<span id="cb12-26"><a href="Chapter3.html#cb12-26" tabindex="-1"></a></span>
<span id="cb12-27"><a href="Chapter3.html#cb12-27" tabindex="-1"></a><span class="co"># Maskēšana un saglabāšana</span></span>
<span id="cb12-28"><a href="Chapter3.html#cb12-28" tabindex="-1"></a>fnf_XX<span class="ot">=</span><span class="fu">mask</span>(fnf_X,paraugs,<span class="at">filename=</span><span class="st">&quot;./Palsar_Forests.tif&quot;</span>,<span class="at">overwrite=</span><span class="cn">TRUE</span>)</span></code></pre></div>
</div>
<div id="Chapter3.1.11" class="section level3 hasAnchor" number="4.1.11">
<h3><span class="header-section-number">4.1.11</span> ERA5 Land<a href="Chapter3.html#Chapter3.1.11" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>ERA5-Land ir sauszemei veikta klimata (laika apstākļu) pazīmju reanalīze sauszemei 0.1° izšķirtspējā un aptver laika periodu kopš 1950. gada janvāra līdz mūsdienām (datu kopa tiek nepārtraukti papildināta) ar stundas temporālo izšķirtspēju <span class="citation">(<a href="#ref-ERA5Land">Sabater, n.d.</a>)</span>. Oriģināldati lejupielādei ir pieejami <em>ESA Copernicus Clima Data Store</em> (<a href="https://cds.climate.copernicus.eu/datasets/reanalysis-era5-land?tab=download" class="uri">https://cds.climate.copernicus.eu/datasets/reanalysis-era5-land?tab=download</a>), tie pieejami arī <em>Google Earth Engine</em> platformā <span class="citation">(<a href="#ref-GEEpaper">Gorelick et al., 2017</a>)</span> kā <a href="https://developers.google.com/earth-engine/datasets/catalog/ECMWF_ERA5_LAND_DAILY_AGGR">dienas</a> un <a href="https://developers.google.com/earth-engine/datasets/catalog/ECMWF_ERA5_LAND_MONTHLY_AGGR">mēneša</a> līmeņu agregāti. Šie agregāti izmantoti sugu izplatības modelēšanai nepieciešamo pazīmju jēladatu sagatavošanai - <a href="https://code.earthengine.google.com/4f1597f749ad4296ca46b373d8c4bd2f?noload=true">izmantotās komandu rindas</a>. Piedāvātais skripts aprēķina vairākas pazīmes un piedāvā to lejupielādi <em>Google Drive direktorijā</em>. Lai izmantotu šo skriptu, ir nepieciešams <a href="https://code.earthengine.google.com/register">GEE konts un projekts</a> un pietiekošs apjoms vietas Google Drive diskā. Skripta izpildīšana lejupielādei piedāvās sekojošus failus:</p>
<ul>
<li><p><code>FebPrec</code>, kas raksturo ik pikseļa mediānu starp ik februāra (gada aukstākais mēnesis Latvijā) kopējo nokrišņu summām ik gadā no 2015. līdz 2023.;</p></li>
<li><p><code>FebTempSum</code>, kas raksturo ik pikseļa mediānu starp ik februāra (gada aukstākais mēnesis Latvijā) ikdienas vidējo gaisa temperatūru (2 m virs zemes) summām ik gadā no 2015. līdz 2023.;</p></li>
<li><p><code>JulPrec</code>, kas raksturo ik pikseļa mediānu starp ik jūlija (gada siltākais mēnesis Latvijā) kopējo nokrišņu summām ik gadā no 2015. līdz 2023.;</p></li>
<li><p><code>PosTempDays</code>, kas raksturo ik pikseļa mediānu starp dienu, kuru vidējā gaisa temperatūra (2 m virs zemes) ir vismaz 275°K (~0°C), skaitu ik gadā no 2015. līdz 2023.;</p></li>
<li><p><code>VegTempSums</code>, kas raksturo ik pikseļa mediānu starp ik dienas, kuras vidējā gaisa temperatūra (2 m virs zemes) ir vismaz 279°K (~5°C), summu ik gadā no 2015. līdz 2023.;</p></li>
<li><p><code>YearPrecSum</code>, kas raksturo ik pikseļa mediānu starp ik mēneša kopējo nokrišņu daudzuma summām ik gadā no 2015. līdz 2023..</p></li>
</ul>
<p>Tā kā klimata datu kodējums ir <em>Float</em>, tie tiek sagatavoti kā no četrām lapām (katram slānim) sastāvoši GeoTIFF faili, kurua nepieciešams lejupielādēt darba cietajā diskā. Sekojošās komandu rindas nodrošina šo lapu apvienošanu un projektēšu atbilstībai references rastram.</p>
<div class="sourceCode" id="cb13"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb13-1"><a href="Chapter3.html#cb13-1" tabindex="-1"></a><span class="co"># libs</span></span>
<span id="cb13-2"><a href="Chapter3.html#cb13-2" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(terra)) {<span class="fu">install.packages</span>(<span class="st">&quot;terra&quot;</span>); <span class="fu">require</span>(terra)}</span>
<span id="cb13-3"><a href="Chapter3.html#cb13-3" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(sf)) {<span class="fu">install.packages</span>(<span class="st">&quot;sf&quot;</span>); <span class="fu">require</span>(sf)}</span>
<span id="cb13-4"><a href="Chapter3.html#cb13-4" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(tidyverse)) {<span class="fu">install.packages</span>(<span class="st">&quot;tidyverse&quot;</span>); <span class="fu">require</span>(tidyverse)}</span>
<span id="cb13-5"><a href="Chapter3.html#cb13-5" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(arrow)) {<span class="fu">install.packages</span>(<span class="st">&quot;arrow&quot;</span>); <span class="fu">require</span>(arrow)}</span>
<span id="cb13-6"><a href="Chapter3.html#cb13-6" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(sfarrow)) {<span class="fu">install.packages</span>(<span class="st">&quot;sfarrow&quot;</span>); <span class="fu">require</span>(sfarrow)}</span>
<span id="cb13-7"><a href="Chapter3.html#cb13-7" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(exactextractr)){<span class="fu">install.packages</span>(<span class="st">&quot;exactextractr&quot;</span>);<span class="fu">require</span>(exactextractr)}</span>
<span id="cb13-8"><a href="Chapter3.html#cb13-8" tabindex="-1"></a></span>
<span id="cb13-9"><a href="Chapter3.html#cb13-9" tabindex="-1"></a><span class="co"># reference</span></span>
<span id="cb13-10"><a href="Chapter3.html#cb13-10" tabindex="-1"></a>template<span class="ot">=</span><span class="fu">rast</span>(<span class="st">&quot;./LV10m_10km.tif&quot;</span>)</span>
<span id="cb13-11"><a href="Chapter3.html#cb13-11" tabindex="-1"></a></span>
<span id="cb13-12"><a href="Chapter3.html#cb13-12" tabindex="-1"></a><span class="co"># DW export no GEE </span></span>
<span id="cb13-13"><a href="Chapter3.html#cb13-13" tabindex="-1"></a>faili<span class="ot">=</span><span class="fu">data.frame</span>(<span class="at">fails=</span><span class="fu">list.files</span>(<span class="st">&quot;./RAW/&quot;</span>))</span>
<span id="cb13-14"><a href="Chapter3.html#cb13-14" tabindex="-1"></a>faili<span class="sc">$</span>celi_sakums<span class="ot">=</span><span class="fu">paste0</span>(<span class="st">&quot;./RAW/&quot;</span>,faili<span class="sc">$</span>fails)</span>
<span id="cb13-15"><a href="Chapter3.html#cb13-15" tabindex="-1"></a></span>
<span id="cb13-16"><a href="Chapter3.html#cb13-16" tabindex="-1"></a><span class="co"># Sagatavošana</span></span>
<span id="cb13-17"><a href="Chapter3.html#cb13-17" tabindex="-1"></a>faili<span class="ot">=</span>faili <span class="sc">%&gt;%</span> </span>
<span id="cb13-18"><a href="Chapter3.html#cb13-18" tabindex="-1"></a>  <span class="fu">separate</span>(fails,<span class="at">into=</span><span class="fu">c</span>(<span class="st">&quot;nosaukums&quot;</span>,<span class="st">&quot;vidus&quot;</span>,<span class="st">&quot;beigas&quot;</span>),<span class="at">sep=</span><span class="st">&quot;-&quot;</span>,<span class="at">remove =</span> <span class="cn">FALSE</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb13-19"><a href="Chapter3.html#cb13-19" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">mosaic_name=</span><span class="fu">paste0</span>(nosaukums,<span class="st">&quot;.tif&quot;</span>),</span>
<span id="cb13-20"><a href="Chapter3.html#cb13-20" tabindex="-1"></a>         <span class="at">masaic_cels=</span><span class="fu">paste0</span>(<span class="st">&quot;./mozaikas/&quot;</span>,mosaic_name))</span>
<span id="cb13-21"><a href="Chapter3.html#cb13-21" tabindex="-1"></a></span>
<span id="cb13-22"><a href="Chapter3.html#cb13-22" tabindex="-1"></a>unikalie<span class="ot">=</span><span class="fu">levels</span>(<span class="fu">factor</span>(faili<span class="sc">$</span>nosaukums))</span>
<span id="cb13-23"><a href="Chapter3.html#cb13-23" tabindex="-1"></a><span class="cf">for</span>(i <span class="cf">in</span> <span class="fu">seq_along</span>(unikalie)){</span>
<span id="cb13-24"><a href="Chapter3.html#cb13-24" tabindex="-1"></a>  unikalais<span class="ot">=</span>faili <span class="sc">%&gt;%</span> <span class="fu">filter</span>(nosaukums<span class="sc">==</span>unikalie[i])</span>
<span id="cb13-25"><a href="Chapter3.html#cb13-25" tabindex="-1"></a>  beigu_cels<span class="ot">=</span><span class="fu">unique</span>(unikalais<span class="sc">$</span>masaic_cels)</span>
<span id="cb13-26"><a href="Chapter3.html#cb13-26" tabindex="-1"></a>  <span class="co"># katrs slānis sastāv no četrām lapām</span></span>
<span id="cb13-27"><a href="Chapter3.html#cb13-27" tabindex="-1"></a>  viens<span class="ot">=</span><span class="fu">rast</span>(unikalais<span class="sc">$</span>celi_sakums[<span class="dv">1</span>])</span>
<span id="cb13-28"><a href="Chapter3.html#cb13-28" tabindex="-1"></a>  divi<span class="ot">=</span><span class="fu">rast</span>(unikalais<span class="sc">$</span>celi_sakums[<span class="dv">2</span>])</span>
<span id="cb13-29"><a href="Chapter3.html#cb13-29" tabindex="-1"></a>  tris<span class="ot">=</span><span class="fu">rast</span>(unikalais<span class="sc">$</span>celi_sakums[<span class="dv">3</span>])</span>
<span id="cb13-30"><a href="Chapter3.html#cb13-30" tabindex="-1"></a>  cetri<span class="ot">=</span><span class="fu">rast</span>(unikalais<span class="sc">$</span>celi_sakums[<span class="dv">4</span>])</span>
<span id="cb13-31"><a href="Chapter3.html#cb13-31" tabindex="-1"></a>  </span>
<span id="cb13-32"><a href="Chapter3.html#cb13-32" tabindex="-1"></a>  viens2<span class="ot">=</span>terra<span class="sc">::</span><span class="fu">project</span>(viens,paraugs)</span>
<span id="cb13-33"><a href="Chapter3.html#cb13-33" tabindex="-1"></a>  divi2<span class="ot">=</span>terra<span class="sc">::</span><span class="fu">project</span>(divi,paraugs)</span>
<span id="cb13-34"><a href="Chapter3.html#cb13-34" tabindex="-1"></a>  tris2<span class="ot">=</span>terra<span class="sc">::</span><span class="fu">project</span>(tris,paraugs)</span>
<span id="cb13-35"><a href="Chapter3.html#cb13-35" tabindex="-1"></a>  cetri2<span class="ot">=</span>terra<span class="sc">::</span><span class="fu">project</span>(cetri,paraugs)</span>
<span id="cb13-36"><a href="Chapter3.html#cb13-36" tabindex="-1"></a>  </span>
<span id="cb13-37"><a href="Chapter3.html#cb13-37" tabindex="-1"></a>  mozaika<span class="ot">=</span>terra<span class="sc">::</span><span class="fu">merge</span>(viens2,divi2,tris2,cetri2)</span>
<span id="cb13-38"><a href="Chapter3.html#cb13-38" tabindex="-1"></a>  maskets<span class="ot">=</span><span class="fu">mask</span>(mozaika,paraugs,<span class="at">filename=</span>beigu_cels,<span class="at">overwrite=</span><span class="cn">TRUE</span>)</span>
<span id="cb13-39"><a href="Chapter3.html#cb13-39" tabindex="-1"></a>}</span></code></pre></div>
</div>
<div id="Chapter3.1.12" class="section level3 hasAnchor" number="4.1.12">
<h3><span class="header-section-number">4.1.12</span> Augsnes auglīgums<a href="Chapter3.html#Chapter3.1.12" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p><strong>Jāpieprasa Ivo sniegt ieguves informāciju</strong></p>
</div>
<div id="Chapter3.1.13" class="section level3 hasAnchor" number="4.1.13">
<h3><span class="header-section-number">4.1.13</span> Digitālie reljefa modeļi<a href="Chapter3.html#Chapter3.1.13" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Līdz ar Latvijas teritorijas vienlaidus aerolāzerskenēšanas datu publiskošanu (<a href="https://www.lgia.gov.lv/lv/digitalie-augstuma-modeli-0" class="uri">https://www.lgia.gov.lv/lv/digitalie-augstuma-modeli-0</a>) ir izstrādāti dažādi augstas izšķirtspējas (1 m un augstāka) digitālie virsmas modeļi (DSM) un digitālie reljefa modeļi (DEM). Tā kā ievades dati visos gadījumos ir vieni un tie paši, gandrīz visā valsts teritorijā šo (atbilstošo) modeļu vērtības ir vienādas. Tomēr, ne visai valsts teritorijai ir pieejami aerolāzerskenēšanas dati (1), starp modeļiem ir novērojamas atšķirības aizpildījumā (vērtību pieejamībā) ārpus iekšzemes ūdeņiem (2) un pašu ūdensobjektu aizpildījums (3), tomēr, attiecībā uz ar datiem nosegtajām vietām uz sauszemes, vērtības ir gandrīz identiskas (Pīrsona korelācijas koeficienti starp LU ĢZZF, LVMI Silava un LĢIA izstrādātajiem DEM ir lielāki par 0.999999).</p>
<p>Kā pamata DEM izmantots LU projektā “Ilgtspējīgas augsnes resursu pārvaldības uzlabošana lauksaimniecībā” sagatavotais vidējais aritmētiskais starp LU ĢZZF un LVMI Silava izstrādātajiem DEM. Šī DEM izšķirtspēja ir 1 m, kas nav nepieciešama sugu izplatības modelēšanas ievades datiem, tādēļ slānis projektēts atbilstībai references 10 m rastram.</p>
<p>Salīdzinot projektēto DEM ar referenci, ir skaidri izdalāmas vietas, kurās nav datu. Tas risināts, izmantojot Māra Nartiša (LU ĢZZF) 2018. gadā izstrādāto visu Latvijas teritoriju bez pārrāvumiem aptverošais DEM ar 10 m izšķirtspēju. Lai novērstu asu malu veidošanās aizpildījuma vietās (izlīdzinātu pārejas), veidots vidējais aritmētiskais slānis, kurš aptver visu Latvijas teritoriju un sakrīt ar references rastru.</p>
<p>No šī rastra izveidots arī nogāžu slīpuma slānis, kurš projektēts atbilstoši referencei. Slīpums izteikts grādos un rēķināts ar 8-kaimiņu pieeju.</p>
<div class="sourceCode" id="cb14"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb14-1"><a href="Chapter3.html#cb14-1" tabindex="-1"></a><span class="co"># libs</span></span>
<span id="cb14-2"><a href="Chapter3.html#cb14-2" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(terra)) {<span class="fu">install.packages</span>(<span class="st">&quot;terra&quot;</span>); <span class="fu">require</span>(terra)}</span>
<span id="cb14-3"><a href="Chapter3.html#cb14-3" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(sf)) {<span class="fu">install.packages</span>(<span class="st">&quot;sf&quot;</span>); <span class="fu">require</span>(sf)}</span>
<span id="cb14-4"><a href="Chapter3.html#cb14-4" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(tidyverse)) {<span class="fu">install.packages</span>(<span class="st">&quot;tidyverse&quot;</span>); <span class="fu">require</span>(tidyverse)}</span>
<span id="cb14-5"><a href="Chapter3.html#cb14-5" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(arrow)) {<span class="fu">install.packages</span>(<span class="st">&quot;arrow&quot;</span>); <span class="fu">require</span>(arrow)}</span>
<span id="cb14-6"><a href="Chapter3.html#cb14-6" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(sfarrow)) {<span class="fu">install.packages</span>(<span class="st">&quot;sfarrow&quot;</span>); <span class="fu">require</span>(sfarrow)}</span>
<span id="cb14-7"><a href="Chapter3.html#cb14-7" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(exactextractr)){<span class="fu">install.packages</span>(<span class="st">&quot;exactextractr&quot;</span>);<span class="fu">require</span>(exactextractr)}</span>
<span id="cb14-8"><a href="Chapter3.html#cb14-8" tabindex="-1"></a></span>
<span id="cb14-9"><a href="Chapter3.html#cb14-9" tabindex="-1"></a><span class="co"># reference</span></span>
<span id="cb14-10"><a href="Chapter3.html#cb14-10" tabindex="-1"></a>template<span class="ot">=</span><span class="fu">rast</span>(<span class="st">&quot;./LV10m_10km.tif&quot;</span>)</span>
<span id="cb14-11"><a href="Chapter3.html#cb14-11" tabindex="-1"></a></span>
<span id="cb14-12"><a href="Chapter3.html#cb14-12" tabindex="-1"></a><span class="co"># LiDAR DEM uz 10 m </span></span>
<span id="cb14-13"><a href="Chapter3.html#cb14-13" tabindex="-1"></a></span>
<span id="cb14-14"><a href="Chapter3.html#cb14-14" tabindex="-1"></a>lapas_1m<span class="ot">=</span><span class="fu">data.frame</span>(<span class="at">faili=</span><span class="fu">list.files</span>(<span class="st">&quot;./meanDEM_1mOLD/&quot;</span>,<span class="at">pattern=</span><span class="st">&quot;*.tif$&quot;</span>))</span>
<span id="cb14-15"><a href="Chapter3.html#cb14-15" tabindex="-1"></a>lapas_1m<span class="sc">$</span>numurs<span class="ot">=</span><span class="fu">substr</span>(lapas_1m<span class="sc">$</span>faili,<span class="dv">10</span>,<span class="dv">13</span>)</span>
<span id="cb14-16"><a href="Chapter3.html#cb14-16" tabindex="-1"></a>lapas_1m<span class="sc">$</span>cels1<span class="ot">=</span><span class="fu">paste0</span>(<span class="st">&quot;./meanDEM_1mOLD/&quot;</span>,lapas_1m<span class="sc">$</span>faili)</span>
<span id="cb14-17"><a href="Chapter3.html#cb14-17" tabindex="-1"></a>lapas_1m<span class="sc">$</span>cels2<span class="ot">=</span><span class="fu">paste0</span>(<span class="st">&quot;./meanDEM_10mOLD/&quot;</span>,lapas_1m<span class="sc">$</span>faili)</span>
<span id="cb14-18"><a href="Chapter3.html#cb14-18" tabindex="-1"></a></span>
<span id="cb14-19"><a href="Chapter3.html#cb14-19" tabindex="-1"></a>kvadrati<span class="ot">=</span><span class="fu">st_read</span>(<span class="at">dsn=</span><span class="st">&quot;GIS_Latvija10.2.gdb&quot;</span>,<span class="at">layer=</span><span class="st">&quot;tks93_50000&quot;</span>)</span>
<span id="cb14-20"><a href="Chapter3.html#cb14-20" tabindex="-1"></a>kvadrati<span class="sc">$</span>name<span class="ot">=</span><span class="fu">as.character</span>(kvadrati<span class="sc">$</span>num50tk)</span>
<span id="cb14-21"><a href="Chapter3.html#cb14-21" tabindex="-1"></a></span>
<span id="cb14-22"><a href="Chapter3.html#cb14-22" tabindex="-1"></a>moz2<span class="ot">=</span><span class="fu">rast</span>(<span class="st">&quot;./dem10_20_kopa.tif&quot;</span>)</span>
<span id="cb14-23"><a href="Chapter3.html#cb14-23" tabindex="-1"></a></span>
<span id="cb14-24"><a href="Chapter3.html#cb14-24" tabindex="-1"></a><span class="cf">for</span>(i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="fu">length</span>(kvadrati<span class="sc">$</span>name)){</span>
<span id="cb14-25"><a href="Chapter3.html#cb14-25" tabindex="-1"></a>  kvadrats<span class="ot">=</span>kvadrati[i,]</span>
<span id="cb14-26"><a href="Chapter3.html#cb14-26" tabindex="-1"></a>  nosaukums<span class="ot">=</span>kvadrats<span class="sc">$</span>name</span>
<span id="cb14-27"><a href="Chapter3.html#cb14-27" tabindex="-1"></a>  telpa<span class="ot">=</span>terra<span class="sc">::</span><span class="fu">ext</span>(kvadrats)</span>
<span id="cb14-28"><a href="Chapter3.html#cb14-28" tabindex="-1"></a>  </span>
<span id="cb14-29"><a href="Chapter3.html#cb14-29" tabindex="-1"></a>  paraugs<span class="ot">=</span><span class="fu">crop</span>(template,telpa)</span>
<span id="cb14-30"><a href="Chapter3.html#cb14-30" tabindex="-1"></a>  nart<span class="ot">=</span><span class="fu">crop</span>(moz2,telpa)</span>
<span id="cb14-31"><a href="Chapter3.html#cb14-31" tabindex="-1"></a>  nart2<span class="ot">=</span><span class="fu">project</span>(nart,paraugs,<span class="at">mask=</span><span class="cn">TRUE</span>)</span>
<span id="cb14-32"><a href="Chapter3.html#cb14-32" tabindex="-1"></a>  </span>
<span id="cb14-33"><a href="Chapter3.html#cb14-33" tabindex="-1"></a>  dem1m<span class="ot">=</span>lapas_1m[lapas_1m<span class="sc">$</span>numurs<span class="sc">==</span>kvadrats<span class="sc">$</span>name,]</span>
<span id="cb14-34"><a href="Chapter3.html#cb14-34" tabindex="-1"></a>  <span class="cf">if</span>(<span class="fu">nrow</span>(dem1m)<span class="sc">&gt;</span><span class="dv">0</span>){</span>
<span id="cb14-35"><a href="Chapter3.html#cb14-35" tabindex="-1"></a>    sakumcels<span class="ot">=</span>dem1m<span class="sc">$</span>cels1</span>
<span id="cb14-36"><a href="Chapter3.html#cb14-36" tabindex="-1"></a>    dem<span class="ot">=</span><span class="fu">rast</span>(sakumcels)</span>
<span id="cb14-37"><a href="Chapter3.html#cb14-37" tabindex="-1"></a>    reproj<span class="ot">=</span><span class="fu">project</span>(dem,paraugs,<span class="at">mask=</span><span class="cn">TRUE</span>,<span class="at">method=</span><span class="st">&quot;bilinear&quot;</span>,<span class="at">use_gdal=</span><span class="cn">TRUE</span>)</span>
<span id="cb14-38"><a href="Chapter3.html#cb14-38" tabindex="-1"></a>    videjais <span class="ot">&lt;-</span> <span class="fu">ifel</span>(<span class="fu">is.na</span>(nart2),nart2,<span class="fu">ifel</span>(<span class="fu">is.na</span>(reproj),nart2,</span>
<span id="cb14-39"><a href="Chapter3.html#cb14-39" tabindex="-1"></a>                                             <span class="fu">app</span>(<span class="fu">c</span>(nart2,reproj), mean)))</span>
<span id="cb14-40"><a href="Chapter3.html#cb14-40" tabindex="-1"></a>    <span class="fu">writeRaster</span>(videjais,<span class="at">overwrite=</span><span class="cn">TRUE</span>,</span>
<span id="cb14-41"><a href="Chapter3.html#cb14-41" tabindex="-1"></a>                <span class="at">filename=</span><span class="fu">paste0</span>(<span class="st">&quot;./meanDEM_10m/&quot;</span>,<span class="st">&quot;vidDEM_&quot;</span>,</span>
<span id="cb14-42"><a href="Chapter3.html#cb14-42" tabindex="-1"></a>                                nosaukums,<span class="st">&quot;.tif&quot;</span>))</span>
<span id="cb14-43"><a href="Chapter3.html#cb14-43" tabindex="-1"></a>  }</span>
<span id="cb14-44"><a href="Chapter3.html#cb14-44" tabindex="-1"></a>  <span class="cf">else</span>{</span>
<span id="cb14-45"><a href="Chapter3.html#cb14-45" tabindex="-1"></a>    <span class="fu">writeRaster</span>(nart2,<span class="at">overwrite=</span><span class="cn">TRUE</span>,</span>
<span id="cb14-46"><a href="Chapter3.html#cb14-46" tabindex="-1"></a>                <span class="at">filename=</span><span class="fu">paste0</span>(<span class="st">&quot;./meanDEM_10m/&quot;</span>,<span class="st">&quot;vidDEM_&quot;</span>,</span>
<span id="cb14-47"><a href="Chapter3.html#cb14-47" tabindex="-1"></a>                                nosaukums,<span class="st">&quot;.tif&quot;</span>))</span>
<span id="cb14-48"><a href="Chapter3.html#cb14-48" tabindex="-1"></a>  }</span>
<span id="cb14-49"><a href="Chapter3.html#cb14-49" tabindex="-1"></a>}</span>
<span id="cb14-50"><a href="Chapter3.html#cb14-50" tabindex="-1"></a></span>
<span id="cb14-51"><a href="Chapter3.html#cb14-51" tabindex="-1"></a><span class="co"># vrt un mozaika</span></span>
<span id="cb14-52"><a href="Chapter3.html#cb14-52" tabindex="-1"></a>lapas_10<span class="ot">=</span><span class="fu">data.frame</span>(<span class="at">faili=</span><span class="fu">list.files</span>(<span class="st">&quot;./meanDEM_10m/&quot;</span>,<span class="at">pattern=</span><span class="st">&quot;*.tif$&quot;</span>))</span>
<span id="cb14-53"><a href="Chapter3.html#cb14-53" tabindex="-1"></a>lapas_10<span class="sc">$</span>celi1<span class="ot">=</span><span class="fu">paste0</span>(<span class="st">&quot;./meanDEM_10m/&quot;</span>,lapas_10<span class="sc">$</span>faili)</span>
<span id="cb14-54"><a href="Chapter3.html#cb14-54" tabindex="-1"></a>mozaikai<span class="ot">=</span><span class="fu">vrt</span>(lapas_10<span class="sc">$</span>celi1,<span class="at">overwrite=</span><span class="cn">TRUE</span>,</span>
<span id="cb14-55"><a href="Chapter3.html#cb14-55" tabindex="-1"></a>             <span class="at">filename=</span><span class="st">&quot;./vrtDEM_10m.tif&quot;</span>)</span>
<span id="cb14-56"><a href="Chapter3.html#cb14-56" tabindex="-1"></a>mozaika<span class="ot">=</span><span class="fu">rast</span>(<span class="st">&quot;./vrtDEM_10m.tif&quot;</span>)</span>
<span id="cb14-57"><a href="Chapter3.html#cb14-57" tabindex="-1"></a><span class="fu">writeRaster</span>(mozaika,<span class="st">&quot;./mozDEM_10m.tif&quot;</span>)</span>
<span id="cb14-58"><a href="Chapter3.html#cb14-58" tabindex="-1"></a></span>
<span id="cb14-59"><a href="Chapter3.html#cb14-59" tabindex="-1"></a></span>
<span id="cb14-60"><a href="Chapter3.html#cb14-60" tabindex="-1"></a><span class="do">## slope</span></span>
<span id="cb14-61"><a href="Chapter3.html#cb14-61" tabindex="-1"></a>reljefs<span class="ot">=</span><span class="fu">rast</span>(<span class="st">&quot;./mozDEM_10m.tif&quot;</span>)</span>
<span id="cb14-62"><a href="Chapter3.html#cb14-62" tabindex="-1"></a>slipumi<span class="ot">=</span><span class="fu">terrain</span>(reljefs, <span class="at">v=</span><span class="st">&quot;slope&quot;</span>, <span class="at">neighbors=</span><span class="dv">8</span>, <span class="at">unit=</span><span class="st">&quot;degrees&quot;</span>, </span>
<span id="cb14-63"><a href="Chapter3.html#cb14-63" tabindex="-1"></a>                <span class="at">filename=</span><span class="st">&quot;./Slope_10m.tif&quot;</span>, <span class="at">overwrite=</span><span class="cn">TRUE</span>)  </span></code></pre></div>
</div>
</div>
<div id="Chapter3.2" class="section level2 hasAnchor" number="4.2">
<h2><span class="header-section-number">4.2</span> Ievades produkti<a href="Chapter3.html#Chapter3.2" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Atsevišķos gadījumos ievades datiem veikta relatīvi apjomīga apstrāde (sagatavojot ievades produktus), kas nepieciešama turpmākajam darbam - ekoģeogrāfisko mainīgu sagatavošanai un novērojumu filtrēšanai. Šie produkti un to izstrādes gaita raksturota atbilstošajās apakšnodaļās.</p>
<div id="Chapter3.2.1" class="section level3 hasAnchor" number="4.2.1">
<h3><span class="header-section-number">4.2.1</span> Reljefa produkti<a href="Chapter3.html#Chapter3.2.1" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Lai izstrādātu daļu ar reljefu saistīto EGV, piemēram, topogrāfisko mitruma indeksu (TWI) un beznotekas depresijas, ir nepieciešams risināt ūdens plūsmu vidē. Tā vairāku soļu procedūra, kas ir loģiska un uzticama kalnu apvidos un vidē ar maz ietekmētu hidroloģiju. Tātad, Latvijas apstākļos tas ir izaicinoši. Šos izaicinājumus var risināt dažādi, piemēram, ja būtu pieejama uzticama (precīza) informācija par upju un grāvji precīzām atrašanās vietām, to varētu iestrādāt reljefā. Diemžēl, pietiekoši precīzas informāicjas nav. Tādēļ izaicinājumu risināšanai izmantota informācija par transporta būvēm no <a href="Chapter3.html#Chapter3.1.4">Meliorācijas Kadastra Informācijas Sistēmas datubāze</a> un tiltiem no <a href="Chapter3.html#Chapter3.1.3">LĢIA topogrāfiskā karte</a> - 30 m buferī ap šīm vietām iestrādāta minimālā augstuma virs jūras līmeņa informācija tālāk izmantojamajā DEM.</p>
<div class="sourceCode" id="cb15"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb15-1"><a href="Chapter3.html#cb15-1" tabindex="-1"></a><span class="co"># libs</span></span>
<span id="cb15-2"><a href="Chapter3.html#cb15-2" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(terra)) {<span class="fu">install.packages</span>(<span class="st">&quot;terra&quot;</span>); <span class="fu">require</span>(terra)}</span>
<span id="cb15-3"><a href="Chapter3.html#cb15-3" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(sf)) {<span class="fu">install.packages</span>(<span class="st">&quot;sf&quot;</span>); <span class="fu">require</span>(sf)}</span>
<span id="cb15-4"><a href="Chapter3.html#cb15-4" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(tidyverse)) {<span class="fu">install.packages</span>(<span class="st">&quot;tidyverse&quot;</span>); <span class="fu">require</span>(tidyverse)}</span>
<span id="cb15-5"><a href="Chapter3.html#cb15-5" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(arrow)) {<span class="fu">install.packages</span>(<span class="st">&quot;arrow&quot;</span>); <span class="fu">require</span>(arrow)}</span>
<span id="cb15-6"><a href="Chapter3.html#cb15-6" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(sfarrow)) {<span class="fu">install.packages</span>(<span class="st">&quot;sfarrow&quot;</span>); <span class="fu">require</span>(sfarrow)}</span>
<span id="cb15-7"><a href="Chapter3.html#cb15-7" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(exactextractr)){<span class="fu">install.packages</span>(<span class="st">&quot;exactextractr&quot;</span>);<span class="fu">require</span>(exactextractr)}</span>
<span id="cb15-8"><a href="Chapter3.html#cb15-8" tabindex="-1"></a></span>
<span id="cb15-9"><a href="Chapter3.html#cb15-9" tabindex="-1"></a><span class="co"># reference</span></span>
<span id="cb15-10"><a href="Chapter3.html#cb15-10" tabindex="-1"></a>template<span class="ot">=</span><span class="fu">rast</span>(<span class="st">&quot;./LV10m_10km.tif&quot;</span>)</span>
<span id="cb15-11"><a href="Chapter3.html#cb15-11" tabindex="-1"></a></span>
<span id="cb15-12"><a href="Chapter3.html#cb15-12" tabindex="-1"></a><span class="co"># reljefs</span></span>
<span id="cb15-13"><a href="Chapter3.html#cb15-13" tabindex="-1"></a>reljefs<span class="ot">=</span><span class="fu">rast</span>(<span class="st">&quot;./mozDEM_10m.tif&quot;</span>)</span>
<span id="cb15-14"><a href="Chapter3.html#cb15-14" tabindex="-1"></a></span>
<span id="cb15-15"><a href="Chapter3.html#cb15-15" tabindex="-1"></a><span class="co"># caurtekas</span></span>
<span id="cb15-16"><a href="Chapter3.html#cb15-16" tabindex="-1"></a>caurtekas<span class="ot">=</span><span class="fu">st_read</span>(<span class="at">dsn=</span><span class="st">&quot;./MKIS_20180612.gdb/&quot;</span>,<span class="at">layer=</span><span class="st">&quot;TransportStructures&quot;</span>)</span>
<span id="cb15-17"><a href="Chapter3.html#cb15-17" tabindex="-1"></a>caurtekas_buffer<span class="ot">=</span><span class="fu">st_buffer</span>(caurtekas,<span class="at">dist=</span><span class="dv">30</span>)</span>
<span id="cb15-18"><a href="Chapter3.html#cb15-18" tabindex="-1"></a></span>
<span id="cb15-19"><a href="Chapter3.html#cb15-19" tabindex="-1"></a><span class="co"># tilti </span></span>
<span id="cb15-20"><a href="Chapter3.html#cb15-20" tabindex="-1"></a>tiltiL<span class="ot">=</span><span class="fu">st_read</span>(<span class="at">dsn=</span><span class="st">&quot;./Topo10_v3_12_07_2016.gdb/&quot;</span>,<span class="at">layer=</span><span class="st">&quot;bridge_L&quot;</span>)</span>
<span id="cb15-21"><a href="Chapter3.html#cb15-21" tabindex="-1"></a>tiltiL_buffer<span class="ot">=</span><span class="fu">st_buffer</span>(tiltiL,<span class="at">dist=</span><span class="dv">30</span>)</span>
<span id="cb15-22"><a href="Chapter3.html#cb15-22" tabindex="-1"></a>tiltiP<span class="ot">=</span><span class="fu">st_read</span>(<span class="at">dsn=</span><span class="st">&quot;./Topo10_v3_12_07_2016.gdb/&quot;</span>,<span class="at">layer=</span><span class="st">&quot;bridge_P&quot;</span>)</span>
<span id="cb15-23"><a href="Chapter3.html#cb15-23" tabindex="-1"></a>tiltiP_buffer<span class="ot">=</span><span class="fu">st_buffer</span>(tiltiP,<span class="at">dist=</span><span class="dv">30</span>)</span>
<span id="cb15-24"><a href="Chapter3.html#cb15-24" tabindex="-1"></a></span>
<span id="cb15-25"><a href="Chapter3.html#cb15-25" tabindex="-1"></a><span class="co"># visi buferi </span></span>
<span id="cb15-26"><a href="Chapter3.html#cb15-26" tabindex="-1"></a>caurtekas_buffer<span class="ot">=</span>caurtekas_buffer[,<span class="st">&quot;Shape&quot;</span>]</span>
<span id="cb15-27"><a href="Chapter3.html#cb15-27" tabindex="-1"></a>tiltiL_buffer<span class="ot">=</span>tiltiL_buffer[,<span class="st">&quot;Shape&quot;</span>]</span>
<span id="cb15-28"><a href="Chapter3.html#cb15-28" tabindex="-1"></a>tiltiP_buffer<span class="ot">=</span>tiltiP_buffer[,<span class="st">&quot;Shape&quot;</span>]</span>
<span id="cb15-29"><a href="Chapter3.html#cb15-29" tabindex="-1"></a>visi_buferi<span class="ot">=</span><span class="fu">rbind</span>(caurtekas_buffer,tiltiL_buffer,tiltiP_buffer)</span>
<span id="cb15-30"><a href="Chapter3.html#cb15-30" tabindex="-1"></a></span>
<span id="cb15-31"><a href="Chapter3.html#cb15-31" tabindex="-1"></a><span class="co"># caurumosana</span></span>
<span id="cb15-32"><a href="Chapter3.html#cb15-32" tabindex="-1"></a>visi_buferi<span class="sc">$</span>vertiba<span class="ot">=</span>exactextractr<span class="sc">::</span><span class="fu">exact_extract</span>(reljefs,visi_buferi,<span class="st">&quot;min&quot;</span>)</span>
<span id="cb15-33"><a href="Chapter3.html#cb15-33" tabindex="-1"></a></span>
<span id="cb15-34"><a href="Chapter3.html#cb15-34" tabindex="-1"></a>templis<span class="ot">=</span>raster<span class="sc">::</span><span class="fu">raster</span>(template)</span>
<span id="cb15-35"><a href="Chapter3.html#cb15-35" tabindex="-1"></a>caurumi<span class="ot">=</span>fasterize<span class="sc">::</span><span class="fu">fasterize</span>(visi_buferi,templis,<span class="at">field=</span><span class="st">&quot;vertiba&quot;</span>)</span>
<span id="cb15-36"><a href="Chapter3.html#cb15-36" tabindex="-1"></a>caurumi2<span class="ot">=</span><span class="fu">rast</span>(caurumi)</span>
<span id="cb15-37"><a href="Chapter3.html#cb15-37" tabindex="-1"></a>caurumains<span class="ot">=</span><span class="fu">app</span>(<span class="fu">c</span>(reljefs,caurumi2),<span class="at">fun=</span><span class="st">&quot;min&quot;</span>,<span class="at">na.rm=</span><span class="cn">TRUE</span>,</span>
<span id="cb15-38"><a href="Chapter3.html#cb15-38" tabindex="-1"></a>               <span class="at">overwrite=</span><span class="cn">TRUE</span>,</span>
<span id="cb15-39"><a href="Chapter3.html#cb15-39" tabindex="-1"></a>               <span class="at">filename=</span><span class="st">&quot;./caurtDEM_10m.tif&quot;</span>)</span></code></pre></div>
</div>
<div id="Chapter3.2.2" class="section level3 hasAnchor" number="4.2.2">
<h3><span class="header-section-number">4.2.2</span> Ainava<a href="Chapter3.html#Chapter3.2.2" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<ul>
<li><p>ceļi</p></li>
<li><p>ūdeņi</p></li>
<li><p>koki un izcirtumi (izcirtumi, mežaudzes, palsar, parki-kapi-alejas)</p></li>
<li><p>mitrāji</p></li>
<li><p>krūmāji no topo</p></li>
<li><p>LIZ</p></li>
<li><p>smiltāji utml</p></li>
<li><p>robu aizpildījums ar DW, kur klase “trees” pārsaukta par krūmiem</p></li>
</ul>
</div>
<div id="Chapter3.2.3" class="section level3 hasAnchor" number="4.2.3">
<h3><span class="header-section-number">4.2.3</span> Vides pārmaiņas<a href="Chapter3.html#Chapter3.2.3" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Vides pārmaiņas nepieciešamas novērojumu filtrēšanai. Daļēji tās būtu iegūstamas no <a href="Chapter3.html#Chapter3.1.1">Meža Valsts reģistrs</a> un <a href="Chapter3.html#Chapter3.1.2">LAD lauku informācija</a> datiem, tomēr projekta darba grupā nav pieejami ik gada raksturojumi (1) un šīs datubāzes neaptver visu valsts teritoriju (2), tādēļ nepieciešams neatkarīgs vērtējums. Tāda izstrādāšanai izmantojām <a href="Chapter4.html#Chapter4"><em>Dynamic World</em> izpēte</a> aprīļa līdz augusta ik gadam no 2017. līdz 2023. rezultātus un <a href="Chapter3.html#Chapter3.1.9"><em>Global Forest Watch</em></a> datus, raksturojot pārmaiņu apjomus analīzes šūnā (nodaļa <a href="Chapter2.html#Chapter2.1">100 m režģis Latvijā</a>) un putnu ligzdošanas iecirkņu rādiusu grupu (<a href="Chapter1.html#fig:AinavTelpas">2.1</a> att.) buferos ap analīzes šūnu centriem.</p>
<p>Saskaņā ar <a href="Chapter4.html#Chapter4"><em>Dynamic World</em> izpēte</a> rezultātiem, ir vērts izmantot šo resursu vides kopējo pārmaiņu analīzē kopš 2017. gada. Par kopējām pārmaiņām uzskatīta jebkura izmaiņa Dynamic World klasē, to salīdzinot ik 10 m pikselim aprīļa-augusta sezonā starp katriem diviem secīgiem gadiem. Pārmaiņu apjoms raksturots kā platības īpatsvars 100 m šūnā vai putnu ligzdošanas iecirkņu rādiusu grupu buferos ap šīs šūnas centru. Tā kā pārmaiņas analizētas vienos un tajos pašos rastros, izmantojot dažādus laukumveida objektus, kurus nepieciešams apvienot vienā failā, katras ģeometrijas raksturojums iestrādāts lauku nosaukumos.</p>
<p>Kopumā līdzīga procedūra veikta koku vainagu seguma izzušanas apjoma (īpatsvara no telpas kopumā) raksturošanai. Tomēr šī informācija ir iestrādāta vienā rastra slānī, notikuma gadu norādot kā pikseļa vērtību. Tas ikgadējā samazinājuma apjoma aprēķināšanu apgrūtina, tomēr nepadara par neiespējamu (skatīt komandu rindas zemāk, specifiski - funkciju <code>darbiba</code>). Līdz ar ik gadu zudušā koku vainagu seguma īpatsvara no analīzes telpas platības iegūšanu, tā pievienota analizētajai ģeometrijai kā atsevišķs lauks katram notikuma gadam. Tāpat kā iepriekš - lauku nosaukumi harmonizēti, tajos iestrādājot analīzes telpas raksturojumu, un rezultāti pievienoti 100 m režģa atbilstošajām šūnām.</p>
<div class="sourceCode" id="cb16"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb16-1"><a href="Chapter3.html#cb16-1" tabindex="-1"></a><span class="co"># libs</span></span>
<span id="cb16-2"><a href="Chapter3.html#cb16-2" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(terra)) {<span class="fu">install.packages</span>(<span class="st">&quot;terra&quot;</span>); <span class="fu">require</span>(terra)}</span>
<span id="cb16-3"><a href="Chapter3.html#cb16-3" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(sf)) {<span class="fu">install.packages</span>(<span class="st">&quot;sf&quot;</span>); <span class="fu">require</span>(sf)}</span>
<span id="cb16-4"><a href="Chapter3.html#cb16-4" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(tidyverse)) {<span class="fu">install.packages</span>(<span class="st">&quot;tidyverse&quot;</span>); <span class="fu">require</span>(tidyverse)}</span>
<span id="cb16-5"><a href="Chapter3.html#cb16-5" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(arrow)) {<span class="fu">install.packages</span>(<span class="st">&quot;arrow&quot;</span>); <span class="fu">require</span>(arrow)}</span>
<span id="cb16-6"><a href="Chapter3.html#cb16-6" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(sfarrow)) {<span class="fu">install.packages</span>(<span class="st">&quot;sfarrow&quot;</span>); <span class="fu">require</span>(sfarrow)}</span>
<span id="cb16-7"><a href="Chapter3.html#cb16-7" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(exactextractr)){<span class="fu">install.packages</span>(<span class="st">&quot;exactextractr&quot;</span>);<span class="fu">require</span>(exactextractr)}</span>
<span id="cb16-8"><a href="Chapter3.html#cb16-8" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(foreach)) {<span class="fu">install.packages</span>(<span class="st">&quot;foreach&quot;</span>); <span class="fu">require</span>(foreach)}</span>
<span id="cb16-9"><a href="Chapter3.html#cb16-9" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(doParallel)) {<span class="fu">install.packages</span>(<span class="st">&quot;doParallel&quot;</span>); <span class="fu">require</span>(doParallel)}</span>
<span id="cb16-10"><a href="Chapter3.html#cb16-10" tabindex="-1"></a></span>
<span id="cb16-11"><a href="Chapter3.html#cb16-11" tabindex="-1"></a></span>
<span id="cb16-12"><a href="Chapter3.html#cb16-12" tabindex="-1"></a><span class="co"># režģis un buferi</span></span>
<span id="cb16-13"><a href="Chapter3.html#cb16-13" tabindex="-1"></a>lapas_tikls<span class="ot">=</span><span class="fu">data.frame</span>(<span class="at">fails_c=</span><span class="fu">list.files</span>(<span class="st">&quot;./lapas/&quot;</span>))</span>
<span id="cb16-14"><a href="Chapter3.html#cb16-14" tabindex="-1"></a>lapas_tikls<span class="sc">$</span>cels_grid<span class="ot">=</span><span class="fu">paste0</span>(<span class="st">&quot;./lapas/&quot;</span>,lapas_tikls<span class="sc">$</span>fails_c)</span>
<span id="cb16-15"><a href="Chapter3.html#cb16-15" tabindex="-1"></a>lapas_tikls<span class="sc">$</span>lapa<span class="ot">=</span><span class="fu">substr</span>(lapas_tikls<span class="sc">$</span>fails,<span class="dv">10</span>,<span class="dv">13</span>)</span>
<span id="cb16-16"><a href="Chapter3.html#cb16-16" tabindex="-1"></a>lapas_radiusi<span class="ot">=</span><span class="fu">data.frame</span>(<span class="at">fails_r=</span><span class="fu">list.files</span>(<span class="st">&quot;./lapas/&quot;</span>))</span>
<span id="cb16-17"><a href="Chapter3.html#cb16-17" tabindex="-1"></a>lapas_radiusi<span class="sc">$</span>cels_radiuss<span class="ot">=</span><span class="fu">paste0</span>(<span class="st">&quot;./lapas/&quot;</span>,lapas_radiusi<span class="sc">$</span>fails_r)</span>
<span id="cb16-18"><a href="Chapter3.html#cb16-18" tabindex="-1"></a>lapas_radiusi<span class="ot">=</span><span class="fu">separate</span>(lapas_radiusi,fails_r,</span>
<span id="cb16-19"><a href="Chapter3.html#cb16-19" tabindex="-1"></a>                       <span class="at">into=</span><span class="fu">c</span>(<span class="st">&quot;sakums&quot;</span>,<span class="st">&quot;veids&quot;</span>,<span class="st">&quot;lapa&quot;</span>,<span class="st">&quot;beigas&quot;</span>),<span class="at">remove =</span> <span class="cn">FALSE</span>)</span>
<span id="cb16-20"><a href="Chapter3.html#cb16-20" tabindex="-1"></a></span>
<span id="cb16-21"><a href="Chapter3.html#cb16-21" tabindex="-1"></a>lapas_r500<span class="ot">=</span>lapas_radiusi <span class="sc">%&gt;%</span> </span>
<span id="cb16-22"><a href="Chapter3.html#cb16-22" tabindex="-1"></a>  <span class="fu">filter</span>(veids<span class="sc">==</span><span class="st">&quot;r500&quot;</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb16-23"><a href="Chapter3.html#cb16-23" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">fails_r500=</span>fails_r,</span>
<span id="cb16-24"><a href="Chapter3.html#cb16-24" tabindex="-1"></a>         <span class="at">cels_r500=</span>cels_radiuss) <span class="sc">%&gt;%</span> </span>
<span id="cb16-25"><a href="Chapter3.html#cb16-25" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">select</span>(<span class="sc">-</span>sakums,<span class="sc">-</span>beigas,<span class="sc">-</span>fails_r,<span class="sc">-</span>cels_radiuss,<span class="sc">-</span>veids)</span>
<span id="cb16-26"><a href="Chapter3.html#cb16-26" tabindex="-1"></a></span>
<span id="cb16-27"><a href="Chapter3.html#cb16-27" tabindex="-1"></a>lapas_r1250<span class="ot">=</span>lapas_radiusi <span class="sc">%&gt;%</span> </span>
<span id="cb16-28"><a href="Chapter3.html#cb16-28" tabindex="-1"></a>  <span class="fu">filter</span>(veids<span class="sc">==</span><span class="st">&quot;r1250&quot;</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb16-29"><a href="Chapter3.html#cb16-29" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">fails_r1250=</span>fails_r,</span>
<span id="cb16-30"><a href="Chapter3.html#cb16-30" tabindex="-1"></a>         <span class="at">cels_r1250=</span>cels_radiuss) <span class="sc">%&gt;%</span> </span>
<span id="cb16-31"><a href="Chapter3.html#cb16-31" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">select</span>(<span class="sc">-</span>sakums,<span class="sc">-</span>beigas,<span class="sc">-</span>fails_r,<span class="sc">-</span>cels_radiuss,<span class="sc">-</span>veids)</span>
<span id="cb16-32"><a href="Chapter3.html#cb16-32" tabindex="-1"></a></span>
<span id="cb16-33"><a href="Chapter3.html#cb16-33" tabindex="-1"></a>lapas_r3000<span class="ot">=</span>lapas_radiusi <span class="sc">%&gt;%</span> </span>
<span id="cb16-34"><a href="Chapter3.html#cb16-34" tabindex="-1"></a>  <span class="fu">filter</span>(veids<span class="sc">==</span><span class="st">&quot;r3000&quot;</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb16-35"><a href="Chapter3.html#cb16-35" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">fails_r3000=</span>fails_r,</span>
<span id="cb16-36"><a href="Chapter3.html#cb16-36" tabindex="-1"></a>         <span class="at">cels_r3000=</span>cels_radiuss) <span class="sc">%&gt;%</span> </span>
<span id="cb16-37"><a href="Chapter3.html#cb16-37" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">select</span>(<span class="sc">-</span>sakums,<span class="sc">-</span>beigas,<span class="sc">-</span>fails_r,<span class="sc">-</span>cels_radiuss,<span class="sc">-</span>veids)</span>
<span id="cb16-38"><a href="Chapter3.html#cb16-38" tabindex="-1"></a></span>
<span id="cb16-39"><a href="Chapter3.html#cb16-39" tabindex="-1"></a>lapas<span class="ot">=</span>lapas_tikls <span class="sc">%&gt;%</span> </span>
<span id="cb16-40"><a href="Chapter3.html#cb16-40" tabindex="-1"></a>  <span class="fu">left_join</span>(lapas_r500) <span class="sc">%&gt;%</span> </span>
<span id="cb16-41"><a href="Chapter3.html#cb16-41" tabindex="-1"></a>  <span class="fu">left_join</span>(lapas_r1250) <span class="sc">%&gt;%</span> </span>
<span id="cb16-42"><a href="Chapter3.html#cb16-42" tabindex="-1"></a>  <span class="fu">left_join</span>(lapas_r3000)</span>
<span id="cb16-43"><a href="Chapter3.html#cb16-43" tabindex="-1"></a></span>
<span id="cb16-44"><a href="Chapter3.html#cb16-44" tabindex="-1"></a><span class="co"># vides rastri</span></span>
<span id="cb16-45"><a href="Chapter3.html#cb16-45" tabindex="-1"></a>tcl<span class="ot">=</span><span class="fu">rast</span>(<span class="st">&quot;./TreeCoverLossYear.tif&quot;</span>)</span>
<span id="cb16-46"><a href="Chapter3.html#cb16-46" tabindex="-1"></a>tcl2<span class="ot">=</span><span class="fu">ifel</span>(tcl<span class="sc">&lt;</span><span class="dv">17</span>,<span class="cn">NA</span>,tcl) <span class="co"># Zudumi tikai kopš 2017. gada</span></span>
<span id="cb16-47"><a href="Chapter3.html#cb16-47" tabindex="-1"></a><span class="fu">writeRaster</span>(tcl2,<span class="st">&quot;./KokuVainagiem.tif&quot;</span>)</span>
<span id="cb16-48"><a href="Chapter3.html#cb16-48" tabindex="-1"></a></span>
<span id="cb16-49"><a href="Chapter3.html#cb16-49" tabindex="-1"></a>dw17<span class="ot">=</span><span class="fu">rast</span>(<span class="st">&quot;./DW_2017_apraug.tif&quot;</span>) </span>
<span id="cb16-50"><a href="Chapter3.html#cb16-50" tabindex="-1"></a>dw18<span class="ot">=</span><span class="fu">rast</span>(<span class="st">&quot;./DW_2018_apraug.tif&quot;</span>)</span>
<span id="cb16-51"><a href="Chapter3.html#cb16-51" tabindex="-1"></a>dw19<span class="ot">=</span><span class="fu">rast</span>(<span class="st">&quot;./DW_2019_apraug.tif&quot;</span>)</span>
<span id="cb16-52"><a href="Chapter3.html#cb16-52" tabindex="-1"></a>dw20<span class="ot">=</span><span class="fu">rast</span>(<span class="st">&quot;./DW_2020_apraug.tif&quot;</span>)</span>
<span id="cb16-53"><a href="Chapter3.html#cb16-53" tabindex="-1"></a>dw21<span class="ot">=</span><span class="fu">rast</span>(<span class="st">&quot;./DW_2021_apraug.tif&quot;</span>)</span>
<span id="cb16-54"><a href="Chapter3.html#cb16-54" tabindex="-1"></a>dw22<span class="ot">=</span><span class="fu">rast</span>(<span class="st">&quot;./DW_2022_apraug.tif&quot;</span>)</span>
<span id="cb16-55"><a href="Chapter3.html#cb16-55" tabindex="-1"></a>dw23<span class="ot">=</span><span class="fu">rast</span>(<span class="st">&quot;./DW_2023_apraug.tif&quot;</span>)</span>
<span id="cb16-56"><a href="Chapter3.html#cb16-56" tabindex="-1"></a></span>
<span id="cb16-57"><a href="Chapter3.html#cb16-57" tabindex="-1"></a>chDWa<span class="ot">=</span><span class="fu">ifel</span>(dw17<span class="sc">==</span>dw18,<span class="dv">0</span>,<span class="dv">1</span>) <span class="co"># Pārmaiņas no 2017. uz 2018. gadu</span></span>
<span id="cb16-58"><a href="Chapter3.html#cb16-58" tabindex="-1"></a><span class="fu">writeRaster</span>(chDWa,<span class="st">&quot;./chDWa.tif&quot;</span>)</span>
<span id="cb16-59"><a href="Chapter3.html#cb16-59" tabindex="-1"></a>chDWb<span class="ot">=</span><span class="fu">ifel</span>(dw18<span class="sc">==</span>dw19,<span class="dv">0</span>,<span class="dv">1</span>) <span class="co"># Pārmaiņas no 2018. uz 2019. gadu</span></span>
<span id="cb16-60"><a href="Chapter3.html#cb16-60" tabindex="-1"></a><span class="fu">writeRaster</span>(chDWb,<span class="st">&quot;./chDWb.tif&quot;</span>)</span>
<span id="cb16-61"><a href="Chapter3.html#cb16-61" tabindex="-1"></a>chDWc<span class="ot">=</span><span class="fu">ifel</span>(dw19<span class="sc">==</span>dw20,<span class="dv">0</span>,<span class="dv">1</span>) <span class="co"># Pārmaiņas no 2019. uz 2020. gadu</span></span>
<span id="cb16-62"><a href="Chapter3.html#cb16-62" tabindex="-1"></a><span class="fu">writeRaster</span>(chDWc,<span class="st">&quot;./chDWc.tif&quot;</span>)</span>
<span id="cb16-63"><a href="Chapter3.html#cb16-63" tabindex="-1"></a>chDWd<span class="ot">=</span><span class="fu">ifel</span>(dw20<span class="sc">==</span>dw21,<span class="dv">0</span>,<span class="dv">1</span>) <span class="co"># Pārmaiņas no 2020. uz 2021. gadu</span></span>
<span id="cb16-64"><a href="Chapter3.html#cb16-64" tabindex="-1"></a><span class="fu">writeRaster</span>(chDWd,<span class="st">&quot;./chDWd.tif&quot;</span>)</span>
<span id="cb16-65"><a href="Chapter3.html#cb16-65" tabindex="-1"></a>chDWe<span class="ot">=</span><span class="fu">ifel</span>(dw21<span class="sc">==</span>dw22,<span class="dv">0</span>,<span class="dv">1</span>) <span class="co"># Pārmaiņas no 2021. uz 2022. gadu</span></span>
<span id="cb16-66"><a href="Chapter3.html#cb16-66" tabindex="-1"></a><span class="fu">writeRaster</span>(chDWe,<span class="st">&quot;./chDWe.tif&quot;</span>)</span>
<span id="cb16-67"><a href="Chapter3.html#cb16-67" tabindex="-1"></a>chDWf<span class="ot">=</span><span class="fu">ifel</span>(dw22<span class="sc">==</span>dw23,<span class="dv">0</span>,<span class="dv">1</span>) <span class="co"># Pārmaiņas no 2022. uz 2023. gadu</span></span>
<span id="cb16-68"><a href="Chapter3.html#cb16-68" tabindex="-1"></a><span class="fu">writeRaster</span>(chDWf,<span class="st">&quot;./chDWf.tif&quot;</span>)</span>
<span id="cb16-69"><a href="Chapter3.html#cb16-69" tabindex="-1"></a><span class="fu">plot</span>(chDWf)</span>
<span id="cb16-70"><a href="Chapter3.html#cb16-70" tabindex="-1"></a></span>
<span id="cb16-71"><a href="Chapter3.html#cb16-71" tabindex="-1"></a><span class="co"># pārmaiņu analīze</span></span>
<span id="cb16-72"><a href="Chapter3.html#cb16-72" tabindex="-1"></a>soli<span class="ot">=</span><span class="fu">levels</span>(<span class="fu">factor</span>(lapas<span class="sc">$</span>lapa))</span>
<span id="cb16-73"><a href="Chapter3.html#cb16-73" tabindex="-1"></a></span>
<span id="cb16-74"><a href="Chapter3.html#cb16-74" tabindex="-1"></a>cl <span class="ot">&lt;-</span> <span class="fu">makeCluster</span>(<span class="dv">12</span>) <span class="co"># jānorāda izmantojamo kodolu (fizisko) skaits</span></span>
<span id="cb16-75"><a href="Chapter3.html#cb16-75" tabindex="-1"></a><span class="fu">registerDoParallel</span>(cl)</span>
<span id="cb16-76"><a href="Chapter3.html#cb16-76" tabindex="-1"></a></span>
<span id="cb16-77"><a href="Chapter3.html#cb16-77" tabindex="-1"></a><span class="fu">foreach</span>(<span class="at">i =</span> <span class="dv">1</span><span class="sc">:</span><span class="fu">length</span>(soli)) <span class="sc">%dopar%</span> {</span>
<span id="cb16-78"><a href="Chapter3.html#cb16-78" tabindex="-1"></a>  <span class="fu">library</span>(terra)</span>
<span id="cb16-79"><a href="Chapter3.html#cb16-79" tabindex="-1"></a>  <span class="fu">library</span>(sf)</span>
<span id="cb16-80"><a href="Chapter3.html#cb16-80" tabindex="-1"></a>  <span class="fu">library</span>(tidyverse)</span>
<span id="cb16-81"><a href="Chapter3.html#cb16-81" tabindex="-1"></a>  <span class="fu">library</span>(arrow)</span>
<span id="cb16-82"><a href="Chapter3.html#cb16-82" tabindex="-1"></a>  <span class="fu">library</span>(sfarrow)</span>
<span id="cb16-83"><a href="Chapter3.html#cb16-83" tabindex="-1"></a>  <span class="fu">library</span>(exactextractr)</span>
<span id="cb16-84"><a href="Chapter3.html#cb16-84" tabindex="-1"></a>  </span>
<span id="cb16-85"><a href="Chapter3.html#cb16-85" tabindex="-1"></a>  <span class="co"># funkcija platībaīpatsvarā kurā noticis koku vainagu seguma zudums</span></span>
<span id="cb16-86"><a href="Chapter3.html#cb16-86" tabindex="-1"></a>  <span class="co"># noteikšanai katrā gadā (2017-2023)</span></span>
<span id="cb16-87"><a href="Chapter3.html#cb16-87" tabindex="-1"></a>  darbiba <span class="ot">&lt;-</span> <span class="cf">function</span>(raster, vector) {</span>
<span id="cb16-88"><a href="Chapter3.html#cb16-88" tabindex="-1"></a>    <span class="fu">exact_extract</span>(raster, vector, <span class="cf">function</span>(value, coverage_fraction) {</span>
<span id="cb16-89"><a href="Chapter3.html#cb16-89" tabindex="-1"></a>      <span class="fu">data.frame</span>(<span class="at">value =</span> value,</span>
<span id="cb16-90"><a href="Chapter3.html#cb16-90" tabindex="-1"></a>                 <span class="at">frac =</span> coverage_fraction<span class="sc">/</span><span class="fu">sum</span>(coverage_fraction,<span class="at">na.rm =</span> <span class="cn">TRUE</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb16-91"><a href="Chapter3.html#cb16-91" tabindex="-1"></a>        <span class="fu">arrange</span>(value) <span class="sc">%&gt;%</span> </span>
<span id="cb16-92"><a href="Chapter3.html#cb16-92" tabindex="-1"></a>        <span class="fu">group_by</span>(value) <span class="sc">%&gt;%</span></span>
<span id="cb16-93"><a href="Chapter3.html#cb16-93" tabindex="-1"></a>        <span class="fu">summarize</span>(<span class="at">freq =</span> <span class="fu">sum</span>(frac, <span class="at">na.rm =</span> <span class="cn">TRUE</span>), <span class="at">.groups =</span> <span class="st">&#39;drop&#39;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb16-94"><a href="Chapter3.html#cb16-94" tabindex="-1"></a>        <span class="fu">pivot_wider</span>(<span class="at">names_from =</span> <span class="st">&#39;value&#39;</span>,</span>
<span id="cb16-95"><a href="Chapter3.html#cb16-95" tabindex="-1"></a>                    <span class="at">names_prefix =</span> <span class="st">&#39;freq_&#39;</span>,</span>
<span id="cb16-96"><a href="Chapter3.html#cb16-96" tabindex="-1"></a>                    <span class="at">values_from =</span> <span class="st">&#39;freq&#39;</span>)</span>
<span id="cb16-97"><a href="Chapter3.html#cb16-97" tabindex="-1"></a>    }) <span class="sc">%&gt;%</span></span>
<span id="cb16-98"><a href="Chapter3.html#cb16-98" tabindex="-1"></a>      <span class="fu">mutate</span>(<span class="fu">across</span>(<span class="fu">starts_with</span>(<span class="st">&#39;freq&#39;</span>), <span class="sc">~</span><span class="fu">replace_na</span>(., <span class="dv">0</span>)))</span>
<span id="cb16-99"><a href="Chapter3.html#cb16-99" tabindex="-1"></a>  }</span>
<span id="cb16-100"><a href="Chapter3.html#cb16-100" tabindex="-1"></a>  </span>
<span id="cb16-101"><a href="Chapter3.html#cb16-101" tabindex="-1"></a>  <span class="co"># darba lapas</span></span>
<span id="cb16-102"><a href="Chapter3.html#cb16-102" tabindex="-1"></a>  solis<span class="ot">=</span>soli[i]</span>
<span id="cb16-103"><a href="Chapter3.html#cb16-103" tabindex="-1"></a>  celi<span class="ot">=</span>lapas <span class="sc">%&gt;%</span> <span class="fu">filter</span>(lapa<span class="sc">==</span>solis)</span>
<span id="cb16-104"><a href="Chapter3.html#cb16-104" tabindex="-1"></a>  </span>
<span id="cb16-105"><a href="Chapter3.html#cb16-105" tabindex="-1"></a>  <span class="co"># poligonu ielasīšana</span></span>
<span id="cb16-106"><a href="Chapter3.html#cb16-106" tabindex="-1"></a>  sunas<span class="ot">=</span><span class="fu">st_read_parquet</span>(celi<span class="sc">$</span>cels_grid)</span>
<span id="cb16-107"><a href="Chapter3.html#cb16-107" tabindex="-1"></a>  sunas<span class="ot">=</span>sunas <span class="sc">%&gt;%</span> dplyr<span class="sc">::</span><span class="fu">select</span>(id,yes,tks50km,X,Y)</span>
<span id="cb16-108"><a href="Chapter3.html#cb16-108" tabindex="-1"></a>  r500<span class="ot">=</span><span class="fu">st_read_parquet</span>(celi<span class="sc">$</span>cels_r500)</span>
<span id="cb16-109"><a href="Chapter3.html#cb16-109" tabindex="-1"></a>  r500<span class="ot">=</span>r500 <span class="sc">%&gt;%</span> dplyr<span class="sc">::</span><span class="fu">select</span>(id,yes,tks50km,X,Y)</span>
<span id="cb16-110"><a href="Chapter3.html#cb16-110" tabindex="-1"></a>  r1250<span class="ot">=</span><span class="fu">st_read_parquet</span>(celi<span class="sc">$</span>cels_r1250)</span>
<span id="cb16-111"><a href="Chapter3.html#cb16-111" tabindex="-1"></a>  r1250<span class="ot">=</span>r1250 <span class="sc">%&gt;%</span> dplyr<span class="sc">::</span><span class="fu">select</span>(id,yes,tks50km,X,Y)</span>
<span id="cb16-112"><a href="Chapter3.html#cb16-112" tabindex="-1"></a>  r3000<span class="ot">=</span><span class="fu">st_read_parquet</span>(celi<span class="sc">$</span>cels_r3000)</span>
<span id="cb16-113"><a href="Chapter3.html#cb16-113" tabindex="-1"></a>  r3000<span class="ot">=</span>r3000 <span class="sc">%&gt;%</span> dplyr<span class="sc">::</span><span class="fu">select</span>(id,yes,tks50km,X,Y)</span>
<span id="cb16-114"><a href="Chapter3.html#cb16-114" tabindex="-1"></a>  </span>
<span id="cb16-115"><a href="Chapter3.html#cb16-115" tabindex="-1"></a>  <span class="co"># konkrētās darba lapas robežas</span></span>
<span id="cb16-116"><a href="Chapter3.html#cb16-116" tabindex="-1"></a>  telpa<span class="ot">=</span><span class="fu">st_as_sfc</span>(<span class="fu">st_bbox</span>(r3000))</span>
<span id="cb16-117"><a href="Chapter3.html#cb16-117" tabindex="-1"></a>  telpa2<span class="ot">=</span><span class="fu">st_buffer</span>(telpa,<span class="at">dist=</span><span class="dv">1000</span>)</span>
<span id="cb16-118"><a href="Chapter3.html#cb16-118" tabindex="-1"></a>  </span>
<span id="cb16-119"><a href="Chapter3.html#cb16-119" tabindex="-1"></a>  <span class="co"># koku vainagu seguma pārmaiņas</span></span>
<span id="cb16-120"><a href="Chapter3.html#cb16-120" tabindex="-1"></a>  tcl2<span class="ot">=</span><span class="fu">rast</span>(<span class="st">&quot;./KokuVainagiem.tif&quot;</span>)</span>
<span id="cb16-121"><a href="Chapter3.html#cb16-121" tabindex="-1"></a>  tcl_telpa<span class="ot">=</span><span class="fu">crop</span>(tcl2,telpa2)</span>
<span id="cb16-122"><a href="Chapter3.html#cb16-122" tabindex="-1"></a>  </span>
<span id="cb16-123"><a href="Chapter3.html#cb16-123" tabindex="-1"></a>  loss_cell<span class="ot">=</span><span class="fu">darbiba</span>(tcl_telpa, sunas)</span>
<span id="cb16-124"><a href="Chapter3.html#cb16-124" tabindex="-1"></a>  sunas<span class="ot">=</span><span class="fu">cbind</span>(sunas,loss_cell)</span>
<span id="cb16-125"><a href="Chapter3.html#cb16-125" tabindex="-1"></a>  loss_r500<span class="ot">=</span><span class="fu">darbiba</span>(tcl_telpa, r500)</span>
<span id="cb16-126"><a href="Chapter3.html#cb16-126" tabindex="-1"></a>  r500<span class="ot">=</span><span class="fu">cbind</span>(r500,loss_r500)</span>
<span id="cb16-127"><a href="Chapter3.html#cb16-127" tabindex="-1"></a>  loss_r1250<span class="ot">=</span><span class="fu">darbiba</span>(tcl_telpa, r1250)</span>
<span id="cb16-128"><a href="Chapter3.html#cb16-128" tabindex="-1"></a>  r1250<span class="ot">=</span><span class="fu">cbind</span>(r1250,loss_r1250)</span>
<span id="cb16-129"><a href="Chapter3.html#cb16-129" tabindex="-1"></a>  loss_r3000<span class="ot">=</span><span class="fu">darbiba</span>(tcl_telpa, r3000)</span>
<span id="cb16-130"><a href="Chapter3.html#cb16-130" tabindex="-1"></a>  r3000<span class="ot">=</span><span class="fu">cbind</span>(r3000,loss_r3000)</span>
<span id="cb16-131"><a href="Chapter3.html#cb16-131" tabindex="-1"></a>  </span>
<span id="cb16-132"><a href="Chapter3.html#cb16-132" tabindex="-1"></a>  <span class="co"># Vides pārmaiņas Dynamic World datos</span></span>
<span id="cb16-133"><a href="Chapter3.html#cb16-133" tabindex="-1"></a>  chDWa<span class="ot">=</span><span class="fu">rast</span>(<span class="st">&quot;./chDWa.tif&quot;</span>)</span>
<span id="cb16-134"><a href="Chapter3.html#cb16-134" tabindex="-1"></a>  chDWb<span class="ot">=</span><span class="fu">rast</span>(<span class="st">&quot;./chDWb.tif&quot;</span>)</span>
<span id="cb16-135"><a href="Chapter3.html#cb16-135" tabindex="-1"></a>  chDWc<span class="ot">=</span><span class="fu">rast</span>(<span class="st">&quot;./chDWc.tif&quot;</span>)</span>
<span id="cb16-136"><a href="Chapter3.html#cb16-136" tabindex="-1"></a>  chDWd<span class="ot">=</span><span class="fu">rast</span>(<span class="st">&quot;./chDWd.tif&quot;</span>)</span>
<span id="cb16-137"><a href="Chapter3.html#cb16-137" tabindex="-1"></a>  chDWe<span class="ot">=</span><span class="fu">rast</span>(<span class="st">&quot;./chDWe.tif&quot;</span>)</span>
<span id="cb16-138"><a href="Chapter3.html#cb16-138" tabindex="-1"></a>  chDWf<span class="ot">=</span><span class="fu">rast</span>(<span class="st">&quot;./chDWf.tif&quot;</span>)</span>
<span id="cb16-139"><a href="Chapter3.html#cb16-139" tabindex="-1"></a>  </span>
<span id="cb16-140"><a href="Chapter3.html#cb16-140" tabindex="-1"></a>  <span class="fu">names</span>(chDWa)<span class="ot">=</span><span class="st">&quot;DWchange_1718&quot;</span></span>
<span id="cb16-141"><a href="Chapter3.html#cb16-141" tabindex="-1"></a>  <span class="fu">names</span>(chDWb)<span class="ot">=</span><span class="st">&quot;DWchange_1819&quot;</span></span>
<span id="cb16-142"><a href="Chapter3.html#cb16-142" tabindex="-1"></a>  <span class="fu">names</span>(chDWc)<span class="ot">=</span><span class="st">&quot;DWchange_1920&quot;</span></span>
<span id="cb16-143"><a href="Chapter3.html#cb16-143" tabindex="-1"></a>  <span class="fu">names</span>(chDWd)<span class="ot">=</span><span class="st">&quot;DWchange_2021&quot;</span></span>
<span id="cb16-144"><a href="Chapter3.html#cb16-144" tabindex="-1"></a>  <span class="fu">names</span>(chDWe)<span class="ot">=</span><span class="st">&quot;DWchange_2122&quot;</span></span>
<span id="cb16-145"><a href="Chapter3.html#cb16-145" tabindex="-1"></a>  <span class="fu">names</span>(chDWf)<span class="ot">=</span><span class="st">&quot;DWchange_2223&quot;</span></span>
<span id="cb16-146"><a href="Chapter3.html#cb16-146" tabindex="-1"></a>  </span>
<span id="cb16-147"><a href="Chapter3.html#cb16-147" tabindex="-1"></a>  mazs_chDWa<span class="ot">=</span><span class="fu">crop</span>(chDWa,telpa2)</span>
<span id="cb16-148"><a href="Chapter3.html#cb16-148" tabindex="-1"></a>  mazs_chDWb<span class="ot">=</span><span class="fu">crop</span>(chDWb,telpa2)</span>
<span id="cb16-149"><a href="Chapter3.html#cb16-149" tabindex="-1"></a>  mazs_chDWc<span class="ot">=</span><span class="fu">crop</span>(chDWc,telpa2)</span>
<span id="cb16-150"><a href="Chapter3.html#cb16-150" tabindex="-1"></a>  mazs_chDWd<span class="ot">=</span><span class="fu">crop</span>(chDWd,telpa2)</span>
<span id="cb16-151"><a href="Chapter3.html#cb16-151" tabindex="-1"></a>  mazs_chDWe<span class="ot">=</span><span class="fu">crop</span>(chDWe,telpa2)</span>
<span id="cb16-152"><a href="Chapter3.html#cb16-152" tabindex="-1"></a>  mazs_chDWf<span class="ot">=</span><span class="fu">crop</span>(chDWf,telpa2)</span>
<span id="cb16-153"><a href="Chapter3.html#cb16-153" tabindex="-1"></a>  </span>
<span id="cb16-154"><a href="Chapter3.html#cb16-154" tabindex="-1"></a>  mazas_DW<span class="ot">=</span>raster<span class="sc">::</span><span class="fu">stack</span>(<span class="fu">c</span>(mazs_chDWa,mazs_chDWb,mazs_chDWc,</span>
<span id="cb16-155"><a href="Chapter3.html#cb16-155" tabindex="-1"></a>                           mazs_chDWd,mazs_chDWe,mazs_chDWf))</span>
<span id="cb16-156"><a href="Chapter3.html#cb16-156" tabindex="-1"></a>  </span>
<span id="cb16-157"><a href="Chapter3.html#cb16-157" tabindex="-1"></a>  sunam<span class="ot">=</span><span class="fu">exact_extract</span>(mazas_DW,sunas,<span class="st">&quot;mean&quot;</span>)</span>
<span id="cb16-158"><a href="Chapter3.html#cb16-158" tabindex="-1"></a>  r500am<span class="ot">=</span><span class="fu">exact_extract</span>(mazas_DW,r500,<span class="st">&quot;mean&quot;</span>)</span>
<span id="cb16-159"><a href="Chapter3.html#cb16-159" tabindex="-1"></a>  r1250am<span class="ot">=</span><span class="fu">exact_extract</span>(mazas_DW,r1250,<span class="st">&quot;mean&quot;</span>)</span>
<span id="cb16-160"><a href="Chapter3.html#cb16-160" tabindex="-1"></a>  r3000am<span class="ot">=</span><span class="fu">exact_extract</span>(mazas_DW,r3000,<span class="st">&quot;mean&quot;</span>)</span>
<span id="cb16-161"><a href="Chapter3.html#cb16-161" tabindex="-1"></a>  </span>
<span id="cb16-162"><a href="Chapter3.html#cb16-162" tabindex="-1"></a>  <span class="co"># iegūto rezultātu apvienošana</span></span>
<span id="cb16-163"><a href="Chapter3.html#cb16-163" tabindex="-1"></a>  sunas<span class="ot">=</span><span class="fu">cbind</span>(sunas,sunam)</span>
<span id="cb16-164"><a href="Chapter3.html#cb16-164" tabindex="-1"></a>  r500<span class="ot">=</span><span class="fu">cbind</span>(r500,r500am)</span>
<span id="cb16-165"><a href="Chapter3.html#cb16-165" tabindex="-1"></a>  r1250<span class="ot">=</span><span class="fu">cbind</span>(r1250,r1250am)</span>
<span id="cb16-166"><a href="Chapter3.html#cb16-166" tabindex="-1"></a>  r3000<span class="ot">=</span><span class="fu">cbind</span>(r3000,r3000am)</span>
<span id="cb16-167"><a href="Chapter3.html#cb16-167" tabindex="-1"></a>  </span>
<span id="cb16-168"><a href="Chapter3.html#cb16-168" tabindex="-1"></a>  <span class="co"># rezultējošo failu saglabāšana</span></span>
<span id="cb16-169"><a href="Chapter3.html#cb16-169" tabindex="-1"></a>  <span class="fu">st_write_parquet</span>(sunas,celi<span class="sc">$</span>cels_grid)</span>
<span id="cb16-170"><a href="Chapter3.html#cb16-170" tabindex="-1"></a>  <span class="fu">st_write_parquet</span>(r500,celi<span class="sc">$</span>cels_r500)</span>
<span id="cb16-171"><a href="Chapter3.html#cb16-171" tabindex="-1"></a>  <span class="fu">st_write_parquet</span>(r1250,celi<span class="sc">$</span>cels_r1250)</span>
<span id="cb16-172"><a href="Chapter3.html#cb16-172" tabindex="-1"></a>  <span class="fu">st_write_parquet</span>(r3000,celi<span class="sc">$</span>cels_r3000)</span>
<span id="cb16-173"><a href="Chapter3.html#cb16-173" tabindex="-1"></a>}</span>
<span id="cb16-174"><a href="Chapter3.html#cb16-174" tabindex="-1"></a><span class="fu">stopCluster</span>(cl)</span>
<span id="cb16-175"><a href="Chapter3.html#cb16-175" tabindex="-1"></a></span>
<span id="cb16-176"><a href="Chapter3.html#cb16-176" tabindex="-1"></a><span class="co"># darba lapu apvienošana</span></span>
<span id="cb16-177"><a href="Chapter3.html#cb16-177" tabindex="-1"></a>pirmas_sunas<span class="ot">=</span>sfarrow<span class="sc">::</span><span class="fu">st_read_parquet</span>(lapas<span class="sc">$</span>cels_grid[lapas<span class="sc">$</span>lapa<span class="sc">==</span>soli[<span class="dv">1</span>]])</span>
<span id="cb16-178"><a href="Chapter3.html#cb16-178" tabindex="-1"></a>pirmas_r500<span class="ot">=</span>sfarrow<span class="sc">::</span><span class="fu">st_read_parquet</span>(lapas<span class="sc">$</span>cels_r500[lapas<span class="sc">$</span>lapa<span class="sc">==</span>soli[<span class="dv">1</span>]])</span>
<span id="cb16-179"><a href="Chapter3.html#cb16-179" tabindex="-1"></a>pirmas_r1250<span class="ot">=</span>sfarrow<span class="sc">::</span><span class="fu">st_read_parquet</span>(lapas<span class="sc">$</span>cels_r1250[lapas<span class="sc">$</span>lapa<span class="sc">==</span>soli[<span class="dv">1</span>]])</span>
<span id="cb16-180"><a href="Chapter3.html#cb16-180" tabindex="-1"></a>pirmas_r3000<span class="ot">=</span>sfarrow<span class="sc">::</span><span class="fu">st_read_parquet</span>(lapas<span class="sc">$</span>cels_r3000[lapas<span class="sc">$</span>lapa<span class="sc">==</span>soli[<span class="dv">1</span>]])</span>
<span id="cb16-181"><a href="Chapter3.html#cb16-181" tabindex="-1"></a></span>
<span id="cb16-182"><a href="Chapter3.html#cb16-182" tabindex="-1"></a>dati_c<span class="ot">=</span>pirmas_sunas</span>
<span id="cb16-183"><a href="Chapter3.html#cb16-183" tabindex="-1"></a>dati_r500<span class="ot">=</span>pirmas_r500</span>
<span id="cb16-184"><a href="Chapter3.html#cb16-184" tabindex="-1"></a>dati_r1250<span class="ot">=</span>pirmas_r1250</span>
<span id="cb16-185"><a href="Chapter3.html#cb16-185" tabindex="-1"></a>dati_r3000<span class="ot">=</span>pirmas_r3000</span>
<span id="cb16-186"><a href="Chapter3.html#cb16-186" tabindex="-1"></a></span>
<span id="cb16-187"><a href="Chapter3.html#cb16-187" tabindex="-1"></a><span class="cf">for</span>(i <span class="cf">in</span> <span class="dv">2</span><span class="sc">:</span><span class="fu">length</span>(soli)){</span>
<span id="cb16-188"><a href="Chapter3.html#cb16-188" tabindex="-1"></a>  solis<span class="ot">=</span>soli[i]</span>
<span id="cb16-189"><a href="Chapter3.html#cb16-189" tabindex="-1"></a>  nakosas_sunas<span class="ot">=</span>sfarrow<span class="sc">::</span><span class="fu">st_read_parquet</span>(lapas<span class="sc">$</span>cels_grid[lapas<span class="sc">$</span>lapa<span class="sc">==</span>solis])</span>
<span id="cb16-190"><a href="Chapter3.html#cb16-190" tabindex="-1"></a>  nakosas_r500<span class="ot">=</span>sfarrow<span class="sc">::</span><span class="fu">st_read_parquet</span>(lapas<span class="sc">$</span>cels_r500[lapas<span class="sc">$</span>lapa<span class="sc">==</span>solis])</span>
<span id="cb16-191"><a href="Chapter3.html#cb16-191" tabindex="-1"></a>  nakosas_r1250<span class="ot">=</span>sfarrow<span class="sc">::</span><span class="fu">st_read_parquet</span>(lapas<span class="sc">$</span>cels_r1250[lapas<span class="sc">$</span>lapa<span class="sc">==</span>solis])</span>
<span id="cb16-192"><a href="Chapter3.html#cb16-192" tabindex="-1"></a>  nakosas_r3000<span class="ot">=</span>sfarrow<span class="sc">::</span><span class="fu">st_read_parquet</span>(lapas<span class="sc">$</span>cels_r3000[lapas<span class="sc">$</span>lapa<span class="sc">==</span>solis])</span>
<span id="cb16-193"><a href="Chapter3.html#cb16-193" tabindex="-1"></a>  </span>
<span id="cb16-194"><a href="Chapter3.html#cb16-194" tabindex="-1"></a>  dati_c<span class="ot">=</span><span class="fu">bind_rows</span>(dati_c,nakosas_sunas)</span>
<span id="cb16-195"><a href="Chapter3.html#cb16-195" tabindex="-1"></a>  dati_r500<span class="ot">=</span><span class="fu">bind_rows</span>(dati_r500,nakosas_sunas)</span>
<span id="cb16-196"><a href="Chapter3.html#cb16-196" tabindex="-1"></a>  dati_r1250<span class="ot">=</span><span class="fu">bind_rows</span>(dati_r1250,nakosas_sunas)</span>
<span id="cb16-197"><a href="Chapter3.html#cb16-197" tabindex="-1"></a>  dati_r3000<span class="ot">=</span><span class="fu">bind_rows</span>(dati_r3000,nakosas_sunas)</span>
<span id="cb16-198"><a href="Chapter3.html#cb16-198" tabindex="-1"></a>}</span>
<span id="cb16-199"><a href="Chapter3.html#cb16-199" tabindex="-1"></a></span>
<span id="cb16-200"><a href="Chapter3.html#cb16-200" tabindex="-1"></a><span class="co"># apvienoto lapu saglabāšana</span></span>
<span id="cb16-201"><a href="Chapter3.html#cb16-201" tabindex="-1"></a><span class="fu">st_write_parquet</span>(dati_c,<span class="st">&quot;./VidesParmainas_suna.parquet&quot;</span>)</span>
<span id="cb16-202"><a href="Chapter3.html#cb16-202" tabindex="-1"></a><span class="fu">st_write_parquet</span>(dati_r500,<span class="st">&quot;./VidesParmainas_r500.parquet&quot;</span>)</span>
<span id="cb16-203"><a href="Chapter3.html#cb16-203" tabindex="-1"></a><span class="fu">st_write_parquet</span>(dati_r1250,<span class="st">&quot;./VidesParmainas_r1250.parquet&quot;</span>)</span>
<span id="cb16-204"><a href="Chapter3.html#cb16-204" tabindex="-1"></a><span class="fu">st_write_parquet</span>(dati_r3000,<span class="st">&quot;./VidesParmainas_r3000.parquet&quot;</span>)</span>
<span id="cb16-205"><a href="Chapter3.html#cb16-205" tabindex="-1"></a></span>
<span id="cb16-206"><a href="Chapter3.html#cb16-206" tabindex="-1"></a><span class="co"># lauku nosaukumu harmonizēšana</span></span>
<span id="cb16-207"><a href="Chapter3.html#cb16-207" tabindex="-1"></a>dati_c2<span class="ot">=</span>dati_c <span class="sc">%&gt;%</span> </span>
<span id="cb16-208"><a href="Chapter3.html#cb16-208" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">cell_TCLNaN=</span>freq_NaN,</span>
<span id="cb16-209"><a href="Chapter3.html#cb16-209" tabindex="-1"></a>         <span class="at">cell_TCL17=</span>freq_17,</span>
<span id="cb16-210"><a href="Chapter3.html#cb16-210" tabindex="-1"></a>         <span class="at">cell_TCL18=</span>freq_18,</span>
<span id="cb16-211"><a href="Chapter3.html#cb16-211" tabindex="-1"></a>         <span class="at">cell_TCL19=</span>freq_19,</span>
<span id="cb16-212"><a href="Chapter3.html#cb16-212" tabindex="-1"></a>         <span class="at">cell_TCL20=</span>freq_20,</span>
<span id="cb16-213"><a href="Chapter3.html#cb16-213" tabindex="-1"></a>         <span class="at">cell_TCL21=</span>freq_21,</span>
<span id="cb16-214"><a href="Chapter3.html#cb16-214" tabindex="-1"></a>         <span class="at">cell_TCL22=</span>freq_22,</span>
<span id="cb16-215"><a href="Chapter3.html#cb16-215" tabindex="-1"></a>         <span class="at">cell_TCL23=</span>freq_23,</span>
<span id="cb16-216"><a href="Chapter3.html#cb16-216" tabindex="-1"></a>         <span class="at">cell_DWchange1718=</span>mean.DWchange_1718,</span>
<span id="cb16-217"><a href="Chapter3.html#cb16-217" tabindex="-1"></a>         <span class="at">cell_DWchange1819=</span>mean.DWchange_1819,</span>
<span id="cb16-218"><a href="Chapter3.html#cb16-218" tabindex="-1"></a>         <span class="at">cell_DWchange1920=</span>mean.DWchange_1920,</span>
<span id="cb16-219"><a href="Chapter3.html#cb16-219" tabindex="-1"></a>         <span class="at">cell_DWchange2021=</span>mean.DWchange_2021,</span>
<span id="cb16-220"><a href="Chapter3.html#cb16-220" tabindex="-1"></a>         <span class="at">cell_DWchange2122=</span>mean.DWchange_2122,</span>
<span id="cb16-221"><a href="Chapter3.html#cb16-221" tabindex="-1"></a>         <span class="at">cell_DWchange2223=</span>mean.DWchange_2223) <span class="sc">%&gt;%</span> </span>
<span id="cb16-222"><a href="Chapter3.html#cb16-222" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">select</span>(id,yes,tks50km,X,Y,</span>
<span id="cb16-223"><a href="Chapter3.html#cb16-223" tabindex="-1"></a>                cell_TCLNaN,cell_TCL17,cell_TCL18,cell_TCL19,cell_TCL20,</span>
<span id="cb16-224"><a href="Chapter3.html#cb16-224" tabindex="-1"></a>                cell_TCL21,cell_TCL22,cell_TCL23,</span>
<span id="cb16-225"><a href="Chapter3.html#cb16-225" tabindex="-1"></a>                cell_DWchange1718,cell_DWchange1819,cell_DWchange1920,</span>
<span id="cb16-226"><a href="Chapter3.html#cb16-226" tabindex="-1"></a>                cell_DWchange2021,cell_DWchange2122,cell_DWchange2223)</span>
<span id="cb16-227"><a href="Chapter3.html#cb16-227" tabindex="-1"></a></span>
<span id="cb16-228"><a href="Chapter3.html#cb16-228" tabindex="-1"></a>dati_r500a<span class="ot">=</span><span class="fu">data.frame</span>(dati_r500) <span class="sc">%&gt;%</span> </span>
<span id="cb16-229"><a href="Chapter3.html#cb16-229" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">r500_TCLNaN=</span>freq_NaN,</span>
<span id="cb16-230"><a href="Chapter3.html#cb16-230" tabindex="-1"></a>         <span class="at">r500_TCL17=</span>freq_17,</span>
<span id="cb16-231"><a href="Chapter3.html#cb16-231" tabindex="-1"></a>         <span class="at">r500_TCL18=</span>freq_18,</span>
<span id="cb16-232"><a href="Chapter3.html#cb16-232" tabindex="-1"></a>         <span class="at">r500_TCL19=</span>freq_19,</span>
<span id="cb16-233"><a href="Chapter3.html#cb16-233" tabindex="-1"></a>         <span class="at">r500_TCL20=</span>freq_20,</span>
<span id="cb16-234"><a href="Chapter3.html#cb16-234" tabindex="-1"></a>         <span class="at">r500_TCL21=</span>freq_21,</span>
<span id="cb16-235"><a href="Chapter3.html#cb16-235" tabindex="-1"></a>         <span class="at">r500_TCL22=</span>freq_22,</span>
<span id="cb16-236"><a href="Chapter3.html#cb16-236" tabindex="-1"></a>         <span class="at">r500_TCL23=</span>freq_23,</span>
<span id="cb16-237"><a href="Chapter3.html#cb16-237" tabindex="-1"></a>         <span class="at">r500_DWchange1718=</span>mean.DWchange_1718,</span>
<span id="cb16-238"><a href="Chapter3.html#cb16-238" tabindex="-1"></a>         <span class="at">r500_DWchange1819=</span>mean.DWchange_1819,</span>
<span id="cb16-239"><a href="Chapter3.html#cb16-239" tabindex="-1"></a>         <span class="at">r500_DWchange1920=</span>mean.DWchange_1920,</span>
<span id="cb16-240"><a href="Chapter3.html#cb16-240" tabindex="-1"></a>         <span class="at">r500_DWchange2021=</span>mean.DWchange_2021,</span>
<span id="cb16-241"><a href="Chapter3.html#cb16-241" tabindex="-1"></a>         <span class="at">r500_DWchange2122=</span>mean.DWchange_2122,</span>
<span id="cb16-242"><a href="Chapter3.html#cb16-242" tabindex="-1"></a>         <span class="at">r500_DWchange2223=</span>mean.DWchange_2223) <span class="sc">%&gt;%</span> </span>
<span id="cb16-243"><a href="Chapter3.html#cb16-243" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">select</span>(id,</span>
<span id="cb16-244"><a href="Chapter3.html#cb16-244" tabindex="-1"></a>                r500_TCLNaN,r500_TCL17,r500_TCL18,r500_TCL19,r500_TCL20,</span>
<span id="cb16-245"><a href="Chapter3.html#cb16-245" tabindex="-1"></a>                r500_TCL21,r500_TCL22,r500_TCL23,</span>
<span id="cb16-246"><a href="Chapter3.html#cb16-246" tabindex="-1"></a>                r500_DWchange1718,r500_DWchange1819,r500_DWchange1920,</span>
<span id="cb16-247"><a href="Chapter3.html#cb16-247" tabindex="-1"></a>                r500_DWchange2021,r500_DWchange2122,r500_DWchange2223)</span>
<span id="cb16-248"><a href="Chapter3.html#cb16-248" tabindex="-1"></a></span>
<span id="cb16-249"><a href="Chapter3.html#cb16-249" tabindex="-1"></a>dati_r1250a<span class="ot">=</span><span class="fu">data.frame</span>(dati_r1250) <span class="sc">%&gt;%</span> </span>
<span id="cb16-250"><a href="Chapter3.html#cb16-250" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">r1250_TCLNaN=</span>freq_NaN,</span>
<span id="cb16-251"><a href="Chapter3.html#cb16-251" tabindex="-1"></a>         <span class="at">r1250_TCL17=</span>freq_17,</span>
<span id="cb16-252"><a href="Chapter3.html#cb16-252" tabindex="-1"></a>         <span class="at">r1250_TCL18=</span>freq_18,</span>
<span id="cb16-253"><a href="Chapter3.html#cb16-253" tabindex="-1"></a>         <span class="at">r1250_TCL19=</span>freq_19,</span>
<span id="cb16-254"><a href="Chapter3.html#cb16-254" tabindex="-1"></a>         <span class="at">r1250_TCL20=</span>freq_20,</span>
<span id="cb16-255"><a href="Chapter3.html#cb16-255" tabindex="-1"></a>         <span class="at">r1250_TCL21=</span>freq_21,</span>
<span id="cb16-256"><a href="Chapter3.html#cb16-256" tabindex="-1"></a>         <span class="at">r1250_TCL22=</span>freq_22,</span>
<span id="cb16-257"><a href="Chapter3.html#cb16-257" tabindex="-1"></a>         <span class="at">r1250_TCL23=</span>freq_23,</span>
<span id="cb16-258"><a href="Chapter3.html#cb16-258" tabindex="-1"></a>         <span class="at">r1250_DWchange1718=</span>mean.DWchange_1718,</span>
<span id="cb16-259"><a href="Chapter3.html#cb16-259" tabindex="-1"></a>         <span class="at">r1250_DWchange1819=</span>mean.DWchange_1819,</span>
<span id="cb16-260"><a href="Chapter3.html#cb16-260" tabindex="-1"></a>         <span class="at">r1250_DWchange1920=</span>mean.DWchange_1920,</span>
<span id="cb16-261"><a href="Chapter3.html#cb16-261" tabindex="-1"></a>         <span class="at">r1250_DWchange2021=</span>mean.DWchange_2021,</span>
<span id="cb16-262"><a href="Chapter3.html#cb16-262" tabindex="-1"></a>         <span class="at">r1250_DWchange2122=</span>mean.DWchange_2122,</span>
<span id="cb16-263"><a href="Chapter3.html#cb16-263" tabindex="-1"></a>         <span class="at">r1250_DWchange2223=</span>mean.DWchange_2223) <span class="sc">%&gt;%</span> </span>
<span id="cb16-264"><a href="Chapter3.html#cb16-264" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">select</span>(id,</span>
<span id="cb16-265"><a href="Chapter3.html#cb16-265" tabindex="-1"></a>                r1250_TCLNaN,r1250_TCL17,r1250_TCL18,r1250_TCL19,r1250_TCL20,</span>
<span id="cb16-266"><a href="Chapter3.html#cb16-266" tabindex="-1"></a>                r1250_TCL21,r1250_TCL22,r1250_TCL23,</span>
<span id="cb16-267"><a href="Chapter3.html#cb16-267" tabindex="-1"></a>                r1250_DWchange1718,r1250_DWchange1819,r1250_DWchange1920,</span>
<span id="cb16-268"><a href="Chapter3.html#cb16-268" tabindex="-1"></a>                r1250_DWchange2021,r1250_DWchange2122,r1250_DWchange2223)</span>
<span id="cb16-269"><a href="Chapter3.html#cb16-269" tabindex="-1"></a></span>
<span id="cb16-270"><a href="Chapter3.html#cb16-270" tabindex="-1"></a></span>
<span id="cb16-271"><a href="Chapter3.html#cb16-271" tabindex="-1"></a>dati_r3000a<span class="ot">=</span><span class="fu">data.frame</span>(dati_r3000) <span class="sc">%&gt;%</span> </span>
<span id="cb16-272"><a href="Chapter3.html#cb16-272" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">r3000_TCLNaN=</span>freq_NaN,</span>
<span id="cb16-273"><a href="Chapter3.html#cb16-273" tabindex="-1"></a>         <span class="at">r3000_TCL17=</span>freq_17,</span>
<span id="cb16-274"><a href="Chapter3.html#cb16-274" tabindex="-1"></a>         <span class="at">r3000_TCL18=</span>freq_18,</span>
<span id="cb16-275"><a href="Chapter3.html#cb16-275" tabindex="-1"></a>         <span class="at">r3000_TCL19=</span>freq_19,</span>
<span id="cb16-276"><a href="Chapter3.html#cb16-276" tabindex="-1"></a>         <span class="at">r3000_TCL20=</span>freq_20,</span>
<span id="cb16-277"><a href="Chapter3.html#cb16-277" tabindex="-1"></a>         <span class="at">r3000_TCL21=</span>freq_21,</span>
<span id="cb16-278"><a href="Chapter3.html#cb16-278" tabindex="-1"></a>         <span class="at">r3000_TCL22=</span>freq_22,</span>
<span id="cb16-279"><a href="Chapter3.html#cb16-279" tabindex="-1"></a>         <span class="at">r3000_TCL23=</span>freq_23,</span>
<span id="cb16-280"><a href="Chapter3.html#cb16-280" tabindex="-1"></a>         <span class="at">r3000_DWchange1718=</span>mean.DWchange_1718,</span>
<span id="cb16-281"><a href="Chapter3.html#cb16-281" tabindex="-1"></a>         <span class="at">r3000_DWchange1819=</span>mean.DWchange_1819,</span>
<span id="cb16-282"><a href="Chapter3.html#cb16-282" tabindex="-1"></a>         <span class="at">r3000_DWchange1920=</span>mean.DWchange_1920,</span>
<span id="cb16-283"><a href="Chapter3.html#cb16-283" tabindex="-1"></a>         <span class="at">r3000_DWchange2021=</span>mean.DWchange_2021,</span>
<span id="cb16-284"><a href="Chapter3.html#cb16-284" tabindex="-1"></a>         <span class="at">r3000_DWchange2122=</span>mean.DWchange_2122,</span>
<span id="cb16-285"><a href="Chapter3.html#cb16-285" tabindex="-1"></a>         <span class="at">r3000_DWchange2223=</span>mean.DWchange_2223) <span class="sc">%&gt;%</span> </span>
<span id="cb16-286"><a href="Chapter3.html#cb16-286" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">select</span>(id,</span>
<span id="cb16-287"><a href="Chapter3.html#cb16-287" tabindex="-1"></a>                r3000_TCLNaN,r3000_TCL17,r3000_TCL18,r3000_TCL19,r3000_TCL20,</span>
<span id="cb16-288"><a href="Chapter3.html#cb16-288" tabindex="-1"></a>                r3000_TCL21,r3000_TCL22,r3000_TCL23,</span>
<span id="cb16-289"><a href="Chapter3.html#cb16-289" tabindex="-1"></a>                r3000_DWchange1718,r3000_DWchange1819,r3000_DWchange1920,</span>
<span id="cb16-290"><a href="Chapter3.html#cb16-290" tabindex="-1"></a>                r3000_DWchange2021,r3000_DWchange2122,r3000_DWchange2223)</span>
<span id="cb16-291"><a href="Chapter3.html#cb16-291" tabindex="-1"></a></span>
<span id="cb16-292"><a href="Chapter3.html#cb16-292" tabindex="-1"></a><span class="co"># visu rādiusu pievienošana režģim</span></span>
<span id="cb16-293"><a href="Chapter3.html#cb16-293" tabindex="-1"></a>vides_parmainas<span class="ot">=</span>dati_c2 <span class="sc">%&gt;%</span> </span>
<span id="cb16-294"><a href="Chapter3.html#cb16-294" tabindex="-1"></a>  <span class="fu">left_join</span>(dati_r500a,<span class="at">by=</span><span class="fu">c</span>(<span class="st">&quot;id&quot;</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb16-295"><a href="Chapter3.html#cb16-295" tabindex="-1"></a>  <span class="fu">left_join</span>(dati_r1250a,<span class="at">by=</span><span class="fu">c</span>(<span class="st">&quot;id&quot;</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb16-296"><a href="Chapter3.html#cb16-296" tabindex="-1"></a>  <span class="fu">left_join</span>(dati_r3000a,<span class="at">by=</span><span class="fu">c</span>(<span class="st">&quot;id&quot;</span>))</span>
<span id="cb16-297"><a href="Chapter3.html#cb16-297" tabindex="-1"></a></span>
<span id="cb16-298"><a href="Chapter3.html#cb16-298" tabindex="-1"></a><span class="co"># rezultāta saglabāšana</span></span>
<span id="cb16-299"><a href="Chapter3.html#cb16-299" tabindex="-1"></a><span class="fu">st_write_parquet</span>(vides_parmainas,<span class="st">&quot;./VidesParmainas_visas.parquet&quot;</span>)</span></code></pre></div>

</div>
</div>
</div>
<h3>References<a href="references-1.html#references-1" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<div id="refs" class="references csl-bib-body hanging-indent" entry-spacing="0">
<div id="ref-DynWorld" class="csl-entry">
Brown, C.F., Brumby, S.P., Guzder-Williams, B., Birch, T., Hyde, S.B., Mazzariello, J., Czerwinski, W., Pasquarella, V.J., Haertel, R., Ilyushchenko, S., Schwehr, K., Weisse, M., Stolle, F., Hanson, C., Guinan, O., Moore, R., Tait, A.M., 2022. <span>Dynamic</span> <span>World</span>, <span>Near</span> real-time global 10 m land use land cover mapping, Scientific Data. <a href="https://doi.org/10.1038/s41597-022-01307-4">https://doi.org/10.1038/s41597-022-01307-4</a>
</div>
<div id="ref-GEEpaper" class="csl-entry">
Gorelick, N., Hancher, M., Dixon, M., Ilyushchenko, S., Thau, D., Moore, R., 2017. <span>Google</span> <span>Earth</span> <span>Engine</span>: <span class="nocase">Planetary-scale</span> geospatial analysis for everyone, Remote Sensing of Environment. <a href="https://doi.org/10.1016/j.rse.2017.06.031">https://doi.org/10.1016/j.rse.2017.06.031</a>
</div>
<div id="ref-theGFW" class="csl-entry">
Hansen, M.C., Potapov, P.V., Moore, R., Hancher, M., Turubanova, S.A., Tyukavina, A., Thau, D., Stehman, S.V., Goetz, S.J., Loveland, T.R., Kommareddy, A., Egorov, A., Chini, L., Justice, C.O., Townshend, J.R.G., 2013. <span>High</span>-resolution <span>Global</span> maps of 21st-century forest cover change, Science. <a href="https://doi.org/10.1126/science.1244693">https://doi.org/10.1126/science.1244693</a>
</div>
<div id="ref-ERA5Land" class="csl-entry">
Sabater, J.M., n.d. ERA5-<span>Land</span> hourly data from 1950 to present. <span>Copernicus</span> <span>Climate</span> <span>Change</span> <span>Service</span> <span>(C3S)</span> <span>Climate</span> <span>Data</span> <span>Store</span> <span>(CDS)</span>. <a href="https://doi.org/10.24381/cds.e2161bac">https://doi.org/10.24381/cds.e2161bac</a>
</div>
<div id="ref-PALSARForest" class="csl-entry">
Shimada, M., Itoh, T., Motooka, T., Watanabe, M., Shiraishi, T., Thapa, R., Lucas, R., 2013. New global forest/non-forest maps from <span>ALOS PALSAR</span> data (2007–2010), Remote Sensing of Environment. <a href="https://doi.org/10.1016/j.rse.2014.04.014">https://doi.org/10.1016/j.rse.2014.04.014</a>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="Chapter2.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="Chapter4.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/aavotins/PutnuSDMs_gramata/edit/BRANCH/003-IevadesGeodati.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["PutnuSDMs-gramata.pdf", "PutnuSDMs-gramata.epub"],
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "subsection"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/latest.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
