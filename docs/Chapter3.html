<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>3 Ievades ģeodati | Putnu sugu izplatības modelēšana biodaudzveidības aizsardzībai: materiāli reproducēšanai</title>
  <meta name="description" content="Putnu sugu izplatības modelēšana biodaudzveidības aizsardzībai: materiāli reproducējamības nodrošināšanai." />
  <meta name="generator" content="bookdown 0.41 and GitBook 2.6.7" />

  <meta property="og:title" content="3 Ievades ģeodati | Putnu sugu izplatības modelēšana biodaudzveidības aizsardzībai: materiāli reproducēšanai" />
  <meta property="og:type" content="book" />
  
  <meta property="og:description" content="Putnu sugu izplatības modelēšana biodaudzveidības aizsardzībai: materiāli reproducējamības nodrošināšanai." />
  <meta name="github-repo" content="rstudio/bookdown-demo" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="3 Ievades ģeodati | Putnu sugu izplatības modelēšana biodaudzveidības aizsardzībai: materiāli reproducēšanai" />
  
  <meta name="twitter:description" content="Putnu sugu izplatības modelēšana biodaudzveidības aizsardzībai: materiāli reproducējamības nodrošināšanai." />
  

<meta name="author" content="Andris Avotiņš" />


<meta name="date" content="2025-01-04" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="Chapter2.html"/>
<link rel="next" href="Chapter4.html"/>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/codefolding-lua-1.1/codefolding-lua.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>
<link href="libs/htmltools-fill-0.5.8.1/fill.css" rel="stylesheet" />
<script src="libs/htmlwidgets-1.6.4/htmlwidgets.js"></script>
<script src="libs/viz-1.8.2/viz.js"></script>
<link href="libs/DiagrammeR-styles-0.2/styles.css" rel="stylesheet" />
<script src="libs/grViz-binding-1.0.11/grViz.js"></script>
<script src="libs/kePrint-0.0.1/kePrint.js"></script>
<link href="libs/lightable-0.0.1/lightable.css" rel="stylesheet" />


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<style type="text/css">
  
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
</style>
<style type="text/css">
/* Used with Pandoc 2.11+ new --citeproc when CSL is used */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
  margin-bottom: 0em;
}
.hanging div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Putnu SDMs</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Par šo materiālu</a>
<ul>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#kas-nav-šis-materiāls"><i class="fa fa-check"></i>Kas nav šis materiāls?</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#kas-ir-šis-materiāls-un-kā-to-lietot"><i class="fa fa-check"></i>Kas ir šis materiāls un kā to lietot?</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#direktoriju-koks"><i class="fa fa-check"></i>Direktoriju koks</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#satura-izklāsts-orientācijai"><i class="fa fa-check"></i>Satura izklāsts (orientācijai)</a></li>
</ul></li>
<li class="chapter" data-level="1" data-path="Chapter1.html"><a href="Chapter1.html"><i class="fa fa-check"></i><b>1</b> Sugu saraksts un pamata apraksti</a>
<ul>
<li class="chapter" data-level="1.1" data-path="Chapter1.html"><a href="Chapter1.html#Chapter1.1"><i class="fa fa-check"></i><b>1.1</b> Analizējamo sugu izvēle</a></li>
<li class="chapter" data-level="1.2" data-path="Chapter1.html"><a href="Chapter1.html#Chapter1.2"><i class="fa fa-check"></i><b>1.2</b> Pamata apraksti analīzei</a></li>
<li class="chapter" data-level="1.3" data-path="Chapter1.html"><a href="Chapter1.html#Chapter1.3"><i class="fa fa-check"></i><b>1.3</b> Pamata apraksti novērojumu atlasei</a>
<ul>
<li class="chapter" data-level="1.3.1" data-path="Chapter1.html"><a href="Chapter1.html#Chapter1.3.1"><i class="fa fa-check"></i><b>1.3.1</b> Nepiemērota vide</a></li>
<li class="chapter" data-level="1.3.2" data-path="Chapter1.html"><a href="Chapter1.html#Chapter1.3.2"><i class="fa fa-check"></i><b>1.3.2</b> Ligzdošanas sezona</a></li>
</ul></li>
<li class="chapter" data-level="1.4" data-path="Chapter1.html"><a href="Chapter1.html#Chapter1.4"><i class="fa fa-check"></i><b>1.4</b> Pamata apraksti starpsugu svarošanai</a>
<ul>
<li class="chapter" data-level="1.4.1" data-path="Chapter1.html"><a href="Chapter1.html#Chapter1.4.1"><i class="fa fa-check"></i><b>1.4.1</b> Populācijas lielums un pārmaiņas</a></li>
<li class="chapter" data-level="1.4.2" data-path="Chapter1.html"><a href="Chapter1.html#Chapter1.4.2"><i class="fa fa-check"></i><b>1.4.2</b> Mūža reproduktīvais ieguldījums</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="2" data-path="Chapter2.html"><a href="Chapter2.html"><i class="fa fa-check"></i><b>2</b> Ar modeļiem aptveramā (analīzes) telpa un standartizācijas faili</a>
<ul>
<li class="chapter" data-level="2.1" data-path="Chapter2.html"><a href="Chapter2.html#Chapter2.1"><i class="fa fa-check"></i><b>2.1</b> Vektordatu režģi</a>
<ul>
<li class="chapter" data-level="2.1.1" data-path="Chapter2.html"><a href="Chapter2.html#Chapter2.2"><i class="fa fa-check"></i><b>2.1.1</b> Stratificēšana ģeoprocesēšanas paralelizācijai</a></li>
</ul></li>
<li class="chapter" data-level="2.2" data-path="Chapter2.html"><a href="Chapter2.html#Chapter2.3"><i class="fa fa-check"></i><b>2.2</b> References rastri</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="Chapter3.html"><a href="Chapter3.html"><i class="fa fa-check"></i><b>3</b> Ievades ģeodati</a>
<ul>
<li class="chapter" data-level="3.1" data-path="Chapter3.html"><a href="Chapter3.html#Chapter3.1"><i class="fa fa-check"></i><b>3.1</b> Ievades jēldati</a>
<ul>
<li class="chapter" data-level="3.1.1" data-path="Chapter3.html"><a href="Chapter3.html#Chapter3.1.1"><i class="fa fa-check"></i><b>3.1.1</b> Valsts meža dienesta Meža valsts reģistrs</a></li>
<li class="chapter" data-level="3.1.2" data-path="Chapter3.html"><a href="Chapter3.html#Chapter3.1.2"><i class="fa fa-check"></i><b>3.1.2</b> Lauku Atbalsta Dienesta lauku informācija</a></li>
<li class="chapter" data-level="3.1.3" data-path="Chapter3.html"><a href="Chapter3.html#Chapter3.1.3"><i class="fa fa-check"></i><b>3.1.3</b> LĢIA topogrāfiskā karte</a></li>
<li class="chapter" data-level="3.1.4" data-path="Chapter3.html"><a href="Chapter3.html#Chapter3.1.4"><i class="fa fa-check"></i><b>3.1.4</b> Meliorācijas Kadastra Informācijas Sistēmas datubāze</a></li>
<li class="chapter" data-level="3.1.5" data-path="Chapter3.html"><a href="Chapter3.html#Chapter3.1.5"><i class="fa fa-check"></i><b>3.1.5</b> LVM atvērtie dati</a></li>
<li class="chapter" data-level="3.1.6" data-path="Chapter3.html"><a href="Chapter3.html#Chapter3.1.6"><i class="fa fa-check"></i><b>3.1.6</b> Corine Land Cover</a></li>
<li class="chapter" data-level="3.1.7" data-path="Chapter3.html"><a href="Chapter3.html#Chapter3.1.7"><i class="fa fa-check"></i><b>3.1.7</b> Sentinel-2</a></li>
<li class="chapter" data-level="3.1.8" data-path="Chapter3.html"><a href="Chapter3.html#Chapter3.1.8"><i class="fa fa-check"></i><b>3.1.8</b> <em>Dynamic World</em></a></li>
<li class="chapter" data-level="3.1.9" data-path="Chapter3.html"><a href="Chapter3.html#Chapter3.1.9"><i class="fa fa-check"></i><b>3.1.9</b> <em>The Global Forest Watch</em></a></li>
<li class="chapter" data-level="3.1.10" data-path="Chapter3.html"><a href="Chapter3.html#Chapter3.1.10"><i class="fa fa-check"></i><b>3.1.10</b> Palsar Forests</a></li>
<li class="chapter" data-level="3.1.11" data-path="Chapter3.html"><a href="Chapter3.html#Chapter3.1.11"><i class="fa fa-check"></i><b>3.1.11</b> ERA5 Land</a></li>
<li class="chapter" data-level="3.1.12" data-path="Chapter3.html"><a href="Chapter3.html#Chapter3.1.12"><i class="fa fa-check"></i><b>3.1.12</b> Augsnes auglīgums</a></li>
<li class="chapter" data-level="3.1.13" data-path="Chapter3.html"><a href="Chapter3.html#Chapter3.1.13"><i class="fa fa-check"></i><b>3.1.13</b> Digitālie reljefa modeļi</a></li>
</ul></li>
<li class="chapter" data-level="3.2" data-path="Chapter3.html"><a href="Chapter3.html#Chapter3.2"><i class="fa fa-check"></i><b>3.2</b> Ievades produkti</a>
<ul>
<li class="chapter" data-level="3.2.1" data-path="Chapter3.html"><a href="Chapter3.html#Chapter3.2.1"><i class="fa fa-check"></i><b>3.2.1</b> Reljefa produkti</a></li>
<li class="chapter" data-level="3.2.2" data-path="Chapter3.html"><a href="Chapter3.html#Chapter3.2.2"><i class="fa fa-check"></i><b>3.2.2</b> Ainava</a></li>
<li class="chapter" data-level="3.2.3" data-path="Chapter3.html"><a href="Chapter3.html#Chapter3.2.4"><i class="fa fa-check"></i><b>3.2.3</b> Vides pārmaiņas</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="4" data-path="Chapter4.html"><a href="Chapter4.html"><i class="fa fa-check"></i><b>4</b> <em>Dynamic World</em> izpēte</a>
<ul>
<li class="chapter" data-level="4.1" data-path="Chapter4.html"><a href="Chapter4.html#q0-dw-nosegums"><i class="fa fa-check"></i><b>4.1</b> Q0: DW nosegums</a></li>
<li class="chapter" data-level="4.2" data-path="Chapter4.html"><a href="Chapter4.html#q1-lauksaimniecības-kultūras"><i class="fa fa-check"></i><b>4.2</b> Q1: Lauksaimniecības kultūras</a>
<ul>
<li class="chapter" data-level="4.2.1" data-path="Chapter4.html"><a href="Chapter4.html#q1.1-ziemāji-aramzemēs"><i class="fa fa-check"></i><b>4.2.1</b> Q1.1: Ziemāji aramzemēs</a></li>
<li class="chapter" data-level="4.2.2" data-path="Chapter4.html"><a href="Chapter4.html#q1.2-ziemas-rapsis"><i class="fa fa-check"></i><b>4.2.2</b> Q1.2: Ziemas rapsis</a></li>
<li class="chapter" data-level="4.2.3" data-path="Chapter4.html"><a href="Chapter4.html#q1.3-vasarāji-aramzemēs"><i class="fa fa-check"></i><b>4.2.3</b> Q1.3: Vasarāji aramzemēs</a></li>
<li class="chapter" data-level="4.2.4" data-path="Chapter4.html"><a href="Chapter4.html#q1.4-vasaras-rapsis"><i class="fa fa-check"></i><b>4.2.4</b> Q1.4: Vasaras rapsis</a></li>
<li class="chapter" data-level="4.2.5" data-path="Chapter4.html"><a href="Chapter4.html#q1.5-auzas"><i class="fa fa-check"></i><b>4.2.5</b> Q1.5: Auzas</a></li>
<li class="chapter" data-level="4.2.6" data-path="Chapter4.html"><a href="Chapter4.html#q1.6-kukurūza"><i class="fa fa-check"></i><b>4.2.6</b> Q1.6: Kukurūza</a></li>
<li class="chapter" data-level="4.2.7" data-path="Chapter4.html"><a href="Chapter4.html#q1.7-papuves"><i class="fa fa-check"></i><b>4.2.7</b> Q1.7: Papuves</a></li>
<li class="chapter" data-level="4.2.8" data-path="Chapter4.html"><a href="Chapter4.html#q1.8-ilggadīgie-zālāji"><i class="fa fa-check"></i><b>4.2.8</b> Q1.8: Ilggadīgie zālāji</a></li>
<li class="chapter" data-level="4.2.9" data-path="Chapter4.html"><a href="Chapter4.html#q1.9-kultivētie-zālāji"><i class="fa fa-check"></i><b>4.2.9</b> Q1.9: Kultivētie zālāji</a></li>
<li class="chapter" data-level="4.2.10" data-path="Chapter4.html"><a href="Chapter4.html#q1.10-agļukoki"><i class="fa fa-check"></i><b>4.2.10</b> Q1.10: Agļukoki</a></li>
<li class="chapter" data-level="4.2.11" data-path="Chapter4.html"><a href="Chapter4.html#q1.11-ogu-krūmi"><i class="fa fa-check"></i><b>4.2.11</b> Q1.11: Ogu-krūmi</a></li>
<li class="chapter" data-level="4.2.12" data-path="Chapter4.html"><a href="Chapter4.html#q1.12-zemās-ogas"><i class="fa fa-check"></i><b>4.2.12</b> Q1.12: Zemās ogas</a></li>
<li class="chapter" data-level="4.2.13" data-path="Chapter4.html"><a href="Chapter4.html#q1.13-bezatbalsta-platība"><i class="fa fa-check"></i><b>4.2.13</b> Q1.13: Bezatbalsta platība</a></li>
<li class="chapter" data-level="4.2.14" data-path="Chapter4.html"><a href="Chapter4.html#q1.14-vagu-un-rušināmkultūras"><i class="fa fa-check"></i><b>4.2.14</b> Q1.14: Vagu un rušināmkultūras</a></li>
<li class="chapter" data-level="4.2.15" data-path="Chapter4.html"><a href="Chapter4.html#q1.15-īscirtmeta-atvasāji-un-enerģijas-kultūras"><i class="fa fa-check"></i><b>4.2.15</b> Q1.15: Īscirtmeta atvasāji un enerģijas kultūras</a></li>
<li class="chapter" data-level="4.2.16" data-path="Chapter4.html"><a href="Chapter4.html#chapter4.2.16"><i class="fa fa-check"></i><b>4.2.16</b> Q1: LAD kultūru stratificēšanai</a></li>
</ul></li>
<li class="chapter" data-level="4.3" data-path="Chapter4.html"><a href="Chapter4.html#q2-mežaudzes-augstums-sugu-grupās"><i class="fa fa-check"></i><b>4.3</b> Q2: Mežaudzes augstums sugu grupās</a></li>
<li class="chapter" data-level="4.4" data-path="Chapter4.html"><a href="Chapter4.html#q3-topogrāfiskās-kartes-mitrāji"><i class="fa fa-check"></i><b>4.4</b> Q3: Topogrāfiskās kartes mitrāji</a></li>
<li class="chapter" data-level="4.5" data-path="Chapter4.html"><a href="Chapter4.html#q4-karjeri-kūdras-ieguves-vietas-un-ceļi"><i class="fa fa-check"></i><b>4.5</b> Q4: Karjeri, kūdras ieguves vietas un ceļi</a></li>
<li class="chapter" data-level="4.6" data-path="Chapter4.html"><a href="Chapter4.html#q5-izcirtuma-izmērs-un-forma"><i class="fa fa-check"></i><b>4.6</b> Q5: Izcirtuma izmērs un forma</a>
<ul>
<li class="chapter" data-level="4.6.1" data-path="Chapter4.html"><a href="Chapter4.html#q5.1-2022.-gada-izcirtumi"><i class="fa fa-check"></i><b>4.6.1</b> Q5.1: 2022. gada izcirtumi</a></li>
<li class="chapter" data-level="4.6.2" data-path="Chapter4.html"><a href="Chapter4.html#q5.2-senākas-kailcirtes-bet-vēl-joprojām-izcirtumi"><i class="fa fa-check"></i><b>4.6.2</b> Q5.2: senākas kailcirtes, bet vēl joprojām izcirtumi</a></li>
</ul></li>
<li class="chapter" data-level="4.7" data-path="Chapter4.html"><a href="Chapter4.html#q6-zālāju-transformācija-uz-aramzemēm"><i class="fa fa-check"></i><b>4.7</b> Q6: Zālāju transformācija uz aramzemēm</a></li>
<li class="chapter" data-level="4.8" data-path="Chapter4.html"><a href="Chapter4.html#secinājumi"><i class="fa fa-check"></i><b>4.8</b> Secinājumi</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="Chapter5.html"><a href="Chapter5.html"><i class="fa fa-check"></i><b>5</b> Ekoģeogrāfiskie mainīgie</a>
<ul>
<li class="chapter" data-level="5.1" data-path="Chapter5.html"><a href="Chapter5.html#Chapter5.1"><i class="fa fa-check"></i><b>5.1</b> Reljefs un augsne</a>
<ul>
<li class="chapter" data-level="5.1.1" data-path="Chapter5.html"><a href="Chapter5.html#soils_organiccarbon"><i class="fa fa-check"></i><b>5.1.1</b> soils_OrganicCarbon</a></li>
<li class="chapter" data-level="5.1.2" data-path="Chapter5.html"><a href="Chapter5.html#reljefs_twi_mean_cell"><i class="fa fa-check"></i><b>5.1.2</b> reljefs_TWI_mean_cell</a></li>
<li class="chapter" data-level="5.1.3" data-path="Chapter5.html"><a href="Chapter5.html#reljefs_slope_sd_cell"><i class="fa fa-check"></i><b>5.1.3</b> reljefs_Slope_sd_cell</a></li>
<li class="chapter" data-level="5.1.4" data-path="Chapter5.html"><a href="Chapter5.html#reljefs_slope_mean_cell"><i class="fa fa-check"></i><b>5.1.4</b> reljefs_Slope_mean_cell</a></li>
<li class="chapter" data-level="5.1.5" data-path="Chapter5.html"><a href="Chapter5.html#reljefs_dis_mean_cell"><i class="fa fa-check"></i><b>5.1.5</b> reljefs_DiS_mean_cell</a></li>
<li class="chapter" data-level="5.1.6" data-path="Chapter5.html"><a href="Chapter5.html#reljefs_dis_max_cell"><i class="fa fa-check"></i><b>5.1.6</b> reljefs_DiS_max_cell</a></li>
<li class="chapter" data-level="5.1.7" data-path="Chapter5.html"><a href="Chapter5.html#reljefs_dis_area_r500"><i class="fa fa-check"></i><b>5.1.7</b> reljefs_DiS_area_r500</a></li>
<li class="chapter" data-level="5.1.8" data-path="Chapter5.html"><a href="Chapter5.html#reljefs_dis_area_r1250"><i class="fa fa-check"></i><b>5.1.8</b> reljefs_DiS_area_r1250</a></li>
<li class="chapter" data-level="5.1.9" data-path="Chapter5.html"><a href="Chapter5.html#reljefs_dis_area_r3000"><i class="fa fa-check"></i><b>5.1.9</b> reljefs_DiS_area_r3000</a></li>
<li class="chapter" data-level="5.1.10" data-path="Chapter5.html"><a href="Chapter5.html#reljefs_dis_area_r10000"><i class="fa fa-check"></i><b>5.1.10</b> reljefs_DiS_area_r10000</a></li>
</ul></li>
<li class="chapter" data-level="5.2" data-path="Chapter5.html"><a href="Chapter5.html#Chapter5.2"><i class="fa fa-check"></i><b>5.2</b> Klimats</a>
<ul>
<li class="chapter" data-level="5.2.1" data-path="Chapter5.html"><a href="Chapter5.html#climate_febprec"><i class="fa fa-check"></i><b>5.2.1</b> climate_FebPrec</a></li>
<li class="chapter" data-level="5.2.2" data-path="Chapter5.html"><a href="Chapter5.html#climate_febtempsum"><i class="fa fa-check"></i><b>5.2.2</b> climate_FebTempSum</a></li>
<li class="chapter" data-level="5.2.3" data-path="Chapter5.html"><a href="Chapter5.html#climate_julprec"><i class="fa fa-check"></i><b>5.2.3</b> climate_JulPrec</a></li>
<li class="chapter" data-level="5.2.4" data-path="Chapter5.html"><a href="Chapter5.html#climate_postempdays"><i class="fa fa-check"></i><b>5.2.4</b> climate_PosTempDays</a></li>
<li class="chapter" data-level="5.2.5" data-path="Chapter5.html"><a href="Chapter5.html#climate_vegtempsums"><i class="fa fa-check"></i><b>5.2.5</b> climate_VegTempSums</a></li>
<li class="chapter" data-level="5.2.6" data-path="Chapter5.html"><a href="Chapter5.html#climate_yearprecsum"><i class="fa fa-check"></i><b>5.2.6</b> climate_YearPrecSum</a></li>
<li class="chapter" data-level="5.2.7" data-path="Chapter5.html"><a href="Chapter5.html#attālums-līdz-jūrai"><i class="fa fa-check"></i><b>5.2.7</b> attālums līdz jūrai</a></li>
</ul></li>
<li class="chapter" data-level="5.3" data-path="Chapter5.html"><a href="Chapter5.html#Chapter5.3"><i class="fa fa-check"></i><b>5.3</b> Satelītindeksi</a>
<ul>
<li class="chapter" data-level="5.3.1" data-path="Chapter5.html"><a href="Chapter5.html#eo_ndvi_23_med_sd"><i class="fa fa-check"></i><b>5.3.1</b> EO_NDVI_23_med_sd</a></li>
<li class="chapter" data-level="5.3.2" data-path="Chapter5.html"><a href="Chapter5.html#eo_ndvi_23_med_vid"><i class="fa fa-check"></i><b>5.3.2</b> EO_NDVI_23_med_vid</a></li>
<li class="chapter" data-level="5.3.3" data-path="Chapter5.html"><a href="Chapter5.html#eo_ndvi_ly_iqr_med"><i class="fa fa-check"></i><b>5.3.3</b> EO_NDVI_LY_IQR_med</a></li>
<li class="chapter" data-level="5.3.4" data-path="Chapter5.html"><a href="Chapter5.html#eo_ndvi_ly_med_sd"><i class="fa fa-check"></i><b>5.3.4</b> EO_NDVI_LY_med_sd</a></li>
<li class="chapter" data-level="5.3.5" data-path="Chapter5.html"><a href="Chapter5.html#eo_ndvi_ly_med_vid"><i class="fa fa-check"></i><b>5.3.5</b> EO_NDVI_LY_med_vid</a></li>
<li class="chapter" data-level="5.3.6" data-path="Chapter5.html"><a href="Chapter5.html#eo_ndvi_ly_p25_min"><i class="fa fa-check"></i><b>5.3.6</b> EO_NDVI_LY_p25_min</a></li>
<li class="chapter" data-level="5.3.7" data-path="Chapter5.html"><a href="Chapter5.html#eo_ndvi_ly_p75_max"><i class="fa fa-check"></i><b>5.3.7</b> EO_NDVI_LY_p75_max</a></li>
<li class="chapter" data-level="5.3.8" data-path="Chapter5.html"><a href="Chapter5.html#eo_ndwi_23_med_sd"><i class="fa fa-check"></i><b>5.3.8</b> EO_NDWI_23_med_sd</a></li>
<li class="chapter" data-level="5.3.9" data-path="Chapter5.html"><a href="Chapter5.html#eo_ndwi_23_med_vid"><i class="fa fa-check"></i><b>5.3.9</b> EO_NDWI_23_med_vid</a></li>
<li class="chapter" data-level="5.3.10" data-path="Chapter5.html"><a href="Chapter5.html#eo_ndwi_ly_iqr_med"><i class="fa fa-check"></i><b>5.3.10</b> EO_NDWI_LY_IQR_med</a></li>
<li class="chapter" data-level="5.3.11" data-path="Chapter5.html"><a href="Chapter5.html#eo_ndwi_ly_med_sd"><i class="fa fa-check"></i><b>5.3.11</b> EO_NDWI_LY_med_sd</a></li>
<li class="chapter" data-level="5.3.12" data-path="Chapter5.html"><a href="Chapter5.html#eo_ndwi_ly_med_vid"><i class="fa fa-check"></i><b>5.3.12</b> EO_NDWI_LY_med_vid</a></li>
<li class="chapter" data-level="5.3.13" data-path="Chapter5.html"><a href="Chapter5.html#eo_ndwi_ly_p25_min"><i class="fa fa-check"></i><b>5.3.13</b> EO_NDWI_LY_p25_min</a></li>
<li class="chapter" data-level="5.3.14" data-path="Chapter5.html"><a href="Chapter5.html#eo_ndwi_ly_p75_max"><i class="fa fa-check"></i><b>5.3.14</b> EO_NDWI_LY_p75_max</a></li>
</ul></li>
<li class="chapter" data-level="5.4" data-path="Chapter5.html"><a href="Chapter5.html#Chapter5.4"><i class="fa fa-check"></i><b>5.4</b> Ceļi</a></li>
<li class="chapter" data-level="5.5" data-path="Chapter5.html"><a href="Chapter5.html#Chapter5.5"><i class="fa fa-check"></i><b>5.5</b> Malas</a></li>
<li class="chapter" data-level="5.6" data-path="Chapter5.html"><a href="Chapter5.html#Chapter5.6"><i class="fa fa-check"></i><b>5.6</b> Ūdeņi</a></li>
<li class="chapter" data-level="5.7" data-path="Chapter5.html"><a href="Chapter5.html#Chapter5.7"><i class="fa fa-check"></i><b>5.7</b> Lauki</a></li>
<li class="chapter" data-level="5.8" data-path="Chapter5.html"><a href="Chapter5.html#Chapter5.8"><i class="fa fa-check"></i><b>5.8</b> Meži</a></li>
<li class="chapter" data-level="5.9" data-path="Chapter5.html"><a href="Chapter5.html#Chapter5.9"><i class="fa fa-check"></i><b>5.9</b> Eiklīda distances</a></li>
<li class="chapter" data-level="5.10" data-path="Chapter5.html"><a href="Chapter5.html#Chapter5.10"><i class="fa fa-check"></i><b>5.10</b> Citi</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="Chapter6.html"><a href="Chapter6.html"><i class="fa fa-check"></i><b>6</b> Novērojumu atlase</a>
<ul>
<li class="chapter" data-level="6.1" data-path="Chapter6.html"><a href="Chapter6.html#Chapter6.1"><i class="fa fa-check"></i><b>6.1</b> Datu avoti</a></li>
<li class="chapter" data-level="6.2" data-path="Chapter6.html"><a href="Chapter6.html#Chapter6.2"><i class="fa fa-check"></i><b>6.2</b> Nomenklatūra</a></li>
<li class="chapter" data-level="6.3" data-path="Chapter6.html"><a href="Chapter6.html#Chapter6.3"><i class="fa fa-check"></i><b>6.3</b> Atrašanās Latvijā</a></li>
<li class="chapter" data-level="6.4" data-path="Chapter6.html"><a href="Chapter6.html#Chapter6.4"><i class="fa fa-check"></i><b>6.4</b> Datums un laiks</a></li>
<li class="chapter" data-level="6.5" data-path="Chapter6.html"><a href="Chapter6.html#Chapter6.5"><i class="fa fa-check"></i><b>6.5</b> Ligzdošanas pazīmes</a></li>
<li class="chapter" data-level="6.6" data-path="Chapter6.html"><a href="Chapter6.html#Chapter6.6"><i class="fa fa-check"></i><b>6.6</b> Dublieri</a></li>
<li class="chapter" data-level="6.7" data-path="Chapter6.html"><a href="Chapter6.html#Chapter6.7"><i class="fa fa-check"></i><b>6.7</b> Novietojums</a></li>
<li class="chapter" data-level="6.8" data-path="Chapter6.html"><a href="Chapter6.html#Chapter6.8"><i class="fa fa-check"></i><b>6.8</b> Sezonalitāte</a></li>
<li class="chapter" data-level="6.9" data-path="Chapter6.html"><a href="Chapter6.html#Chapter6.9"><i class="fa fa-check"></i><b>6.9</b> Vides pārmaiņas</a></li>
<li class="chapter" data-level="6.10" data-path="Chapter6.html"><a href="Chapter6.html#Chapter6.10"><i class="fa fa-check"></i><b>6.10</b> Papildkritēriji</a></li>
<li class="chapter" data-level="6.11" data-path="Chapter6.html"><a href="Chapter6.html#Chapter6.11"><i class="fa fa-check"></i><b>6.11</b> Ligzdošanas ticamība</a></li>
<li class="chapter" data-level="6.12" data-path="Chapter6.html"><a href="Chapter6.html#Chapter6.12"><i class="fa fa-check"></i><b>6.12</b> Kvadrātu skaits</a></li>
<li class="chapter" data-level="6.13" data-path="Chapter6.html"><a href="Chapter6.html#Chapter6.13"><i class="fa fa-check"></i><b>6.13</b> Rezultāti</a></li>
<li class="chapter" data-level="6.14" data-path="Chapter6.html"><a href="Chapter6.html#Chapter6.14"><i class="fa fa-check"></i><b>6.14</b> Uzticamās klātbūtnes vietas</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="Chapter7.html"><a href="Chapter7.html"><i class="fa fa-check"></i><b>7</b> Sugu izplatības (dzīvotņu piemērotības) modeļi</a>
<ul>
<li class="chapter" data-level="7.1" data-path="Chapter7.html"><a href="Chapter7.html#sākotnēji-izvēlēto-pazīmju-neatkarība-un-egv-atlases-otrā-kārta-vif"><i class="fa fa-check"></i><b>7.1</b> Sākotnēji izvēlēto pazīmju neatkarība un EGV atlases otrā kārta (VIF)</a></li>
<li class="chapter" data-level="7.2" data-path="Chapter7.html"><a href="Chapter7.html#vidi-kopumā-raksturojoši-fona-punkti"><i class="fa fa-check"></i><b>7.2</b> Vidi kopumā raksturojoši fona punkti</a></li>
<li class="chapter" data-level="7.3" data-path="Chapter7.html"><a href="Chapter7.html#vienkāršots-modelis-egv-noslēguma-atlasei"><i class="fa fa-check"></i><b>7.3</b> Vienkāršots modelis EGV noslēguma atlasei</a></li>
<li class="chapter" data-level="7.4" data-path="Chapter7.html"><a href="Chapter7.html#modeļa-parametrizācija"><i class="fa fa-check"></i><b>7.4</b> Modeļa parametrizācija</a></li>
<li class="chapter" data-level="7.5" data-path="Chapter7.html"><a href="Chapter7.html#labākās-parametrizācijas-izvēle"><i class="fa fa-check"></i><b>7.5</b> Labākās parametrizācijas izvēle</a></li>
<li class="chapter" data-level="7.6" data-path="Chapter7.html"><a href="Chapter7.html#labākā-modeļa-rezultāti"><i class="fa fa-check"></i><b>7.6</b> Labākā modeļa rezultāti</a></li>
<li class="chapter" data-level="7.7" data-path="Chapter7.html"><a href="Chapter7.html#rezultāta-uzticamības-izvērtējums"><i class="fa fa-check"></i><b>7.7</b> Rezultāta uzticamības izvērtējums</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="Chapter8.html"><a href="Chapter8.html"><i class="fa fa-check"></i><b>8</b> SDM pēcapstrāde</a>
<ul>
<li class="chapter" data-level="8.1" data-path="Chapter8.html"><a href="Chapter8.html#ekoloģiskās-nišas-dziļumi"><i class="fa fa-check"></i><b>8.1</b> Ekoloģiskās nišas dziļumi</a></li>
<li class="chapter" data-level="8.2" data-path="Chapter8.html"><a href="Chapter8.html#saistība-ar-aizsargājamām-teritorijām"><i class="fa fa-check"></i><b>8.2</b> Saistība ar aizsargājamām teritorijām</a></li>
<li class="chapter" data-level="8.3" data-path="Chapter8.html"><a href="Chapter8.html#saistība-ar-aizsardzības-režīmiem"><i class="fa fa-check"></i><b>8.3</b> Saistība ar aizsardzības režīmiem</a></li>
<li class="chapter" data-level="8.4" data-path="Chapter8.html"><a href="Chapter8.html#saistība-ar-ekosistēmām"><i class="fa fa-check"></i><b>8.4</b> Saistība ar ekosistēmām</a></li>
</ul></li>
<li class="chapter" data-level="9" data-path="Chapter9.html"><a href="Chapter9.html"><i class="fa fa-check"></i><b>9</b> Vietu prioritizēšana aizsardzībai</a>
<ul>
<li class="chapter" data-level="9.1" data-path="Chapter9.html"><a href="Chapter9.html#ik-sugas-aizsardzībai-prioritārās-vietas"><i class="fa fa-check"></i><b>9.1</b> Ik sugas aizsardzībai prioritārās vietas</a></li>
<li class="chapter" data-level="9.2" data-path="Chapter9.html"><a href="Chapter9.html#daudzsugu-pieeja-dabas-aizsardzības-plānošanai"><i class="fa fa-check"></i><b>9.2</b> Daudzsugu pieeja dabas aizsardzības plānošanai</a>
<ul>
<li class="chapter" data-level="9.2.1" data-path="Chapter9.html"><a href="Chapter9.html#mežu-putnu-aizsardzībai-prioritārās-vietas"><i class="fa fa-check"></i><b>9.2.1</b> Mežu (putnu) aizsardzībai prioritārās vietas</a></li>
<li class="chapter" data-level="9.2.2" data-path="Chapter9.html"><a href="Chapter9.html#lauku-putnu-aizsardzībai-prioritārās-vietas"><i class="fa fa-check"></i><b>9.2.2</b> Lauku (putnu) aizsardzībai prioritārās vietas</a></li>
<li class="chapter" data-level="9.2.3" data-path="Chapter9.html"><a href="Chapter9.html#mitrāju-putnu-aizsardzībai-prioritārās-vietas"><i class="fa fa-check"></i><b>9.2.3</b> Mitrāju (putnu) aizsardzībai prioritārās vietas</a></li>
<li class="chapter" data-level="9.2.4" data-path="Chapter9.html"><a href="Chapter9.html#ūdeņu-putnu-aizsardzībai-prioritārās-vietas"><i class="fa fa-check"></i><b>9.2.4</b> Ūdeņu (putnu) aizsardzībai prioritārās vietas</a></li>
<li class="chapter" data-level="9.2.5" data-path="Chapter9.html"><a href="Chapter9.html#vietu-ar-skraju-veģetāciju-putnu-aizsardzībai-prioritārās-vietas"><i class="fa fa-check"></i><b>9.2.5</b> Vietu ar skraju veģetāciju (putnu) aizsardzībai prioritārās vietas</a></li>
<li class="chapter" data-level="9.2.6" data-path="Chapter9.html"><a href="Chapter9.html#valstī-kopumā"><i class="fa fa-check"></i><b>9.2.6</b> Valstī kopumā</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="10" data-path="Chapter10.html"><a href="Chapter10.html"><i class="fa fa-check"></i><b>10</b> Rezultāti</a>
<ul>
<li class="chapter" data-level="10.1" data-path="Chapter10.html"><a href="Chapter10.html#Chapter10.1"><i class="fa fa-check"></i><b>10.1</b> Individuālu sugu rezultāti</a>
<ul>
<li class="chapter" data-level="10.1.1" data-path="Chapter10.html"><a href="Chapter10.html#cotcot---paipala-coturnix-coturnix"><i class="fa fa-check"></i><b>10.1.1</b> (1) COTCOT - paipala <em>Coturnix coturnix</em></a></li>
<li class="chapter" data-level="10.1.2" data-path="Chapter10.html"><a href="Chapter10.html#perper---laukirbe-perdix-perdix"><i class="fa fa-check"></i><b>10.1.2</b> (2) PERPER - laukirbe <em>Perdix perdix</em></a></li>
</ul></li>
<li class="chapter" data-level="10.2" data-path="Chapter10.html"><a href="Chapter10.html#Chapter10.2"><i class="fa fa-check"></i><b>10.2</b> Kopējie valsts līmeņa rezultāti</a>
<ul>
<li class="chapter" data-level="10.2.1" data-path="Chapter10.html"><a href="Chapter10.html#Chapter10.2.1"><i class="fa fa-check"></i><b>10.2.1</b> Mežu (putnu) aizsardzībai prioritārās vietas</a></li>
<li class="chapter" data-level="10.2.2" data-path="Chapter10.html"><a href="Chapter10.html#Chapter10.2.2"><i class="fa fa-check"></i><b>10.2.2</b> Lauku (putnu) aizsardzībai prioritārās vietas</a></li>
<li class="chapter" data-level="10.2.3" data-path="Chapter10.html"><a href="Chapter10.html#Chapter10.2.3"><i class="fa fa-check"></i><b>10.2.3</b> Mitrāju (putnu) aizsardzībai prioritārās vietas</a></li>
<li class="chapter" data-level="10.2.4" data-path="Chapter10.html"><a href="Chapter10.html#Chapter10.2.4"><i class="fa fa-check"></i><b>10.2.4</b> Ūdeņu (putnu) aizsardzībai prioritārās vietas</a></li>
<li class="chapter" data-level="10.2.5" data-path="Chapter10.html"><a href="Chapter10.html#Chapter10.2.5"><i class="fa fa-check"></i><b>10.2.5</b> Vietu ar skraju veģetāciju (putnu) aizsardzībai prioritārās vietas</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="" data-path="references.html"><a href="references.html"><i class="fa fa-check"></i>References</a></li>
<li class="chapter" data-level="11" data-path="hello-bookdown.html"><a href="hello-bookdown.html"><i class="fa fa-check"></i><b>11</b> Hello bookdown</a>
<ul>
<li class="chapter" data-level="11.1" data-path="hello-bookdown.html"><a href="hello-bookdown.html#a-section"><i class="fa fa-check"></i><b>11.1</b> A section</a>
<ul>
<li class="chapter" data-level="" data-path="hello-bookdown.html"><a href="hello-bookdown.html#an-unnumbered-section"><i class="fa fa-check"></i>An unnumbered section</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="12" data-path="cross.html"><a href="cross.html"><i class="fa fa-check"></i><b>12</b> Cross-references</a>
<ul>
<li class="chapter" data-level="12.1" data-path="cross.html"><a href="cross.html#chapters-and-sub-chapters"><i class="fa fa-check"></i><b>12.1</b> Chapters and sub-chapters</a></li>
<li class="chapter" data-level="12.2" data-path="cross.html"><a href="cross.html#captioned-figures-and-tables"><i class="fa fa-check"></i><b>12.2</b> Captioned figures and tables</a></li>
</ul></li>
<li class="chapter" data-level="13" data-path="parts.html"><a href="parts.html"><i class="fa fa-check"></i><b>13</b> Parts</a></li>
<li class="chapter" data-level="14" data-path="footnotes-and-citations.html"><a href="footnotes-and-citations.html"><i class="fa fa-check"></i><b>14</b> Footnotes and citations</a>
<ul>
<li class="chapter" data-level="14.1" data-path="footnotes-and-citations.html"><a href="footnotes-and-citations.html#footnotes"><i class="fa fa-check"></i><b>14.1</b> Footnotes</a></li>
<li class="chapter" data-level="14.2" data-path="footnotes-and-citations.html"><a href="footnotes-and-citations.html#citations"><i class="fa fa-check"></i><b>14.2</b> Citations</a></li>
</ul></li>
<li class="chapter" data-level="15" data-path="blocks.html"><a href="blocks.html"><i class="fa fa-check"></i><b>15</b> Blocks</a>
<ul>
<li class="chapter" data-level="15.1" data-path="blocks.html"><a href="blocks.html#equations"><i class="fa fa-check"></i><b>15.1</b> Equations</a></li>
<li class="chapter" data-level="15.2" data-path="blocks.html"><a href="blocks.html#theorems-and-proofs"><i class="fa fa-check"></i><b>15.2</b> Theorems and proofs</a></li>
<li class="chapter" data-level="15.3" data-path="blocks.html"><a href="blocks.html#callout-blocks"><i class="fa fa-check"></i><b>15.3</b> Callout blocks</a></li>
</ul></li>
<li class="chapter" data-level="16" data-path="sharing-your-book.html"><a href="sharing-your-book.html"><i class="fa fa-check"></i><b>16</b> Sharing your book</a>
<ul>
<li class="chapter" data-level="16.1" data-path="sharing-your-book.html"><a href="sharing-your-book.html#publishing"><i class="fa fa-check"></i><b>16.1</b> Publishing</a></li>
<li class="chapter" data-level="16.2" data-path="sharing-your-book.html"><a href="sharing-your-book.html#pages"><i class="fa fa-check"></i><b>16.2</b> 404 pages</a></li>
<li class="chapter" data-level="16.3" data-path="sharing-your-book.html"><a href="sharing-your-book.html#metadata-for-sharing"><i class="fa fa-check"></i><b>16.3</b> Metadata for sharing</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="references-1.html"><a href="references-1.html"><i class="fa fa-check"></i>References</a></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Putnu sugu izplatības modelēšana biodaudzveidības aizsardzībai: materiāli reproducēšanai</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="Chapter3" class="section level1 hasAnchor" number="3">
<h1><span class="header-section-number">3</span> Ievades ģeodati<a href="Chapter3.html#Chapter3" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<p>Nozīmīgs solis sugu izplatības modelēšanā ir ģeogrāfiskajai telpai piesaistītu (ģeoreferencētu) vidi raksturojošu un ekoloģiski pamatotu mainīgo jeb ekoģeogrāfisko mainīgo (EGV) sagatavošana. Visbiežāk eksistējošie ģeodati (ģeoreferencēti vides raksturojumi) paši par sevi nespēj raksturot sugu ekoloģiskās vajadzības, gandrīz nekad to noformējums precīzi neatbilst analīzes uzstādījumiem. Tādēļ ģeodatu ir nepieciešams dažādi pārveidot, strukturēt un kombinēt.</p>
<p>Šajā nodaļā ir raksturoti izmantotie ģeodati un to pirmās apstrādes soļi (harmonizēšana EGV sagatavošanai) raksturota apakšnodaļā <a href="Chapter3.html#Chapter3.1">Ievades jēldati</a>, augstāka līmeņa šo datu apstrāde, kas vēl joprojām uzskatāma par soli pirms EGV sagatavošanas, raksturota apakšnodaļā <a href="Chapter3.html#Chapter3.2">Ievades produkti</a></p>
<div id="Chapter3.1" class="section level2 hasAnchor" number="3.1">
<h2><span class="header-section-number">3.1</span> Ievades jēldati<a href="Chapter3.html#Chapter3.1" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Izmantotie ģeodatu avoti, to raksturojums un harmonizēšanas procedūru apraksts.</p>
<div id="Chapter3.1.1" class="section level3 hasAnchor" number="3.1.1">
<h3><span class="header-section-number">3.1.1</span> Valsts meža dienesta Meža valsts reģistrs<a href="Chapter3.html#Chapter3.1.1" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Meža nogabalus raksturojošos rādītājus un telpiskos datus apkopojošā Valsts meža dienesta Meža valsts reģistra datubāzes (ESRI failu ģeodatubāze) 2024. gada 07. jānvāra versija ir 2024. gada janvārī saņemta Latvijas Universitātē studiju un pētniecības procesu nodrošināšanai. Saņemtās datubāzes versijas struktūra sakrīt ar <a href="https://www.vmd.gov.lv/lv/meza-valsts-registra-meza-inventarizacijas-failu-struktura">Meža valsts reģistra Meža inventarizācijas failu struktūru</a>, bet lauku nosaukumos ir lietoti mazie burti.</p>
<p>Pēc lejupielādes nodrošinātas ģeometrijas, tās pārbaudītas un saglabātas <em>geoparquet</em> formātā.</p>
<details class=chunk-details><summary class=chunk-summary><span class=chunk-summary-text>Code</span></summary>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb7-1"><a href="Chapter3.html#cb7-1" tabindex="-1"></a><span class="co"># libs</span></span>
<span id="cb7-2"><a href="Chapter3.html#cb7-2" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(sf)) {<span class="fu">install.packages</span>(<span class="st">&quot;sf&quot;</span>); <span class="fu">require</span>(sf)}</span>
<span id="cb7-3"><a href="Chapter3.html#cb7-3" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(arrow)) {<span class="fu">install.packages</span>(<span class="st">&quot;arrow&quot;</span>); <span class="fu">require</span>(arrow)}</span>
<span id="cb7-4"><a href="Chapter3.html#cb7-4" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(sfarrow)) {<span class="fu">install.packages</span>(<span class="st">&quot;sfarrow&quot;</span>); <span class="fu">require</span>(sfarrow)}</span>
<span id="cb7-5"><a href="Chapter3.html#cb7-5" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(gdalUtilities)) {<span class="fu">install.packages</span>(<span class="st">&quot;gdalUtilities&quot;</span>); <span class="fu">require</span>(gdalUtilities)}</span>
<span id="cb7-6"><a href="Chapter3.html#cb7-6" tabindex="-1"></a></span>
<span id="cb7-7"><a href="Chapter3.html#cb7-7" tabindex="-1"></a><span class="co"># datubāze</span></span>
<span id="cb7-8"><a href="Chapter3.html#cb7-8" tabindex="-1"></a>nog<span class="ot">=</span><span class="fu">read_sf</span>(<span class="st">&quot;./IevadesDati/MVR/VMD.gdb/&quot;</span>,<span class="at">layer=</span><span class="st">&quot;Nogabali_pilna_datubaze&quot;</span>)</span>
<span id="cb7-9"><a href="Chapter3.html#cb7-9" tabindex="-1"></a></span>
<span id="cb7-10"><a href="Chapter3.html#cb7-10" tabindex="-1"></a><span class="co"># ģeometriju nodrošināšana</span></span>
<span id="cb7-11"><a href="Chapter3.html#cb7-11" tabindex="-1"></a>ensure_multipolygons <span class="ot">&lt;-</span> <span class="cf">function</span>(X) {</span>
<span id="cb7-12"><a href="Chapter3.html#cb7-12" tabindex="-1"></a>  tmp1 <span class="ot">&lt;-</span> <span class="fu">tempfile</span>(<span class="at">fileext =</span> <span class="st">&quot;.gpkg&quot;</span>)</span>
<span id="cb7-13"><a href="Chapter3.html#cb7-13" tabindex="-1"></a>  tmp2 <span class="ot">&lt;-</span> <span class="fu">tempfile</span>(<span class="at">fileext =</span> <span class="st">&quot;.gpkg&quot;</span>)</span>
<span id="cb7-14"><a href="Chapter3.html#cb7-14" tabindex="-1"></a>  <span class="fu">st_write</span>(X, tmp1)</span>
<span id="cb7-15"><a href="Chapter3.html#cb7-15" tabindex="-1"></a>  <span class="fu">ogr2ogr</span>(tmp1, tmp2, <span class="at">f =</span> <span class="st">&quot;GPKG&quot;</span>, <span class="at">nlt =</span> <span class="st">&quot;MULTIPOLYGON&quot;</span>)</span>
<span id="cb7-16"><a href="Chapter3.html#cb7-16" tabindex="-1"></a>  Y <span class="ot">&lt;-</span> <span class="fu">st_read</span>(tmp2)</span>
<span id="cb7-17"><a href="Chapter3.html#cb7-17" tabindex="-1"></a>  <span class="fu">st_sf</span>(<span class="fu">st_drop_geometry</span>(X), <span class="at">geom =</span> <span class="fu">st_geometry</span>(Y))</span>
<span id="cb7-18"><a href="Chapter3.html#cb7-18" tabindex="-1"></a>}</span>
<span id="cb7-19"><a href="Chapter3.html#cb7-19" tabindex="-1"></a>nogabali <span class="ot">&lt;-</span> <span class="fu">ensure_multipolygons</span>(nog)</span>
<span id="cb7-20"><a href="Chapter3.html#cb7-20" tabindex="-1"></a></span>
<span id="cb7-21"><a href="Chapter3.html#cb7-21" tabindex="-1"></a><span class="co"># ģeometriju pārbaudes </span></span>
<span id="cb7-22"><a href="Chapter3.html#cb7-22" tabindex="-1"></a>nogabali2 <span class="ot">=</span> nogabali[<span class="sc">!</span><span class="fu">st_is_empty</span>(nogabali),,drop<span class="ot">=</span><span class="cn">FALSE</span>] <span class="co"># 108 tukšas ģeometrijas</span></span>
<span id="cb7-23"><a href="Chapter3.html#cb7-23" tabindex="-1"></a>validity<span class="ot">=</span><span class="fu">st_is_valid</span>(nogabali2) </span>
<span id="cb7-24"><a href="Chapter3.html#cb7-24" tabindex="-1"></a><span class="fu">table</span>(validity) <span class="co"># 1733 invalid ģeometrijas</span></span>
<span id="cb7-25"><a href="Chapter3.html#cb7-25" tabindex="-1"></a>nogabali3<span class="ot">=</span><span class="fu">st_make_valid</span>(nogabali2)</span>
<span id="cb7-26"><a href="Chapter3.html#cb7-26" tabindex="-1"></a></span>
<span id="cb7-27"><a href="Chapter3.html#cb7-27" tabindex="-1"></a><span class="co"># saglabāšana</span></span>
<span id="cb7-28"><a href="Chapter3.html#cb7-28" tabindex="-1"></a>sfarrow<span class="sc">::</span><span class="fu">st_write_parquet</span>(nogabali3, <span class="st">&quot;./IevadesDati/MVR/nogabali.parquet&quot;</span>)</span></code></pre></div>
</details>
<p><br></p>
</div>
<div id="Chapter3.1.2" class="section level3 hasAnchor" number="3.1.2">
<h3><span class="header-section-number">3.1.2</span> Lauku Atbalsta Dienesta lauku informācija<a href="Chapter3.html#Chapter3.1.2" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Lauku Atbalsta Dienests uztur <a href="https://data.gov.lv/dati/lv/organization/lad">regulāri aktualizētu informāciju atvērto datu portālā</a>. Tajā ir pieejams arī arhīvs (kopš 2015. gada), izmantojamās datu kopas satur atslēgvārdu “deklarētās platības”. Šī projekta ietvaros izmantots WFS pieslēgums datu lejupielādei (2023-11-14).</p>
<p>Pēc lejupielādes nodrošinātas ģeometrijas, tās pārbaudītas, dzēšot tukšās un validējot pārējās, un saglabātas <em>geoparquet</em> formātā.</p>
<details class=chunk-details><summary class=chunk-summary><span class=chunk-summary-text>Code</span></summary>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb8-1"><a href="Chapter3.html#cb8-1" tabindex="-1"></a><span class="co"># libs</span></span>
<span id="cb8-2"><a href="Chapter3.html#cb8-2" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(sf)) {<span class="fu">install.packages</span>(<span class="st">&quot;sf&quot;</span>); <span class="fu">require</span>(sf)}</span>
<span id="cb8-3"><a href="Chapter3.html#cb8-3" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(arrow)) {<span class="fu">install.packages</span>(<span class="st">&quot;arrow&quot;</span>); <span class="fu">require</span>(arrow)}</span>
<span id="cb8-4"><a href="Chapter3.html#cb8-4" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(sfarrow)) {<span class="fu">install.packages</span>(<span class="st">&quot;sfarrow&quot;</span>); <span class="fu">require</span>(sfarrow)}</span>
<span id="cb8-5"><a href="Chapter3.html#cb8-5" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(gdalUtilities)) {<span class="fu">install.packages</span>(<span class="st">&quot;gdalUtilities&quot;</span>); <span class="fu">require</span>(gdalUtilities)}</span>
<span id="cb8-6"><a href="Chapter3.html#cb8-6" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(httr)) {<span class="fu">install.packages</span>(<span class="st">&quot;httr&quot;</span>); <span class="fu">require</span>(httr)}</span>
<span id="cb8-7"><a href="Chapter3.html#cb8-7" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(tidyverse)) {<span class="fu">install.packages</span>(<span class="st">&quot;tidyverse&quot;</span>); <span class="fu">require</span>(tidyverse)}</span>
<span id="cb8-8"><a href="Chapter3.html#cb8-8" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(ows4R)) {<span class="fu">install.packages</span>(<span class="st">&quot;ows4R&quot;</span>); <span class="fu">require</span>(ows4R)}</span>
<span id="cb8-9"><a href="Chapter3.html#cb8-9" tabindex="-1"></a></span>
<span id="cb8-10"><a href="Chapter3.html#cb8-10" tabindex="-1"></a><span class="co"># lejupielāde</span></span>
<span id="cb8-11"><a href="Chapter3.html#cb8-11" tabindex="-1"></a>wfs_bwk <span class="ot">&lt;-</span> <span class="st">&quot;https://karte.lad.gov.lv/arcgis/services/lauki/MapServer/WFSServer&quot;</span></span>
<span id="cb8-12"><a href="Chapter3.html#cb8-12" tabindex="-1"></a>url <span class="ot">&lt;-</span> <span class="fu">parse_url</span>(wfs_bwk)</span>
<span id="cb8-13"><a href="Chapter3.html#cb8-13" tabindex="-1"></a>url<span class="sc">$</span>query <span class="ot">&lt;-</span> <span class="fu">list</span>(<span class="at">service =</span> <span class="st">&quot;wfs&quot;</span>,</span>
<span id="cb8-14"><a href="Chapter3.html#cb8-14" tabindex="-1"></a>                  <span class="co">#version = &quot;2.0.0&quot;, # fakultatīvi</span></span>
<span id="cb8-15"><a href="Chapter3.html#cb8-15" tabindex="-1"></a>                  <span class="at">request =</span> <span class="st">&quot;GetCapabilities&quot;</span></span>
<span id="cb8-16"><a href="Chapter3.html#cb8-16" tabindex="-1"></a>)</span>
<span id="cb8-17"><a href="Chapter3.html#cb8-17" tabindex="-1"></a>vaicajums <span class="ot">&lt;-</span> <span class="fu">build_url</span>(url)</span>
<span id="cb8-18"><a href="Chapter3.html#cb8-18" tabindex="-1"></a></span>
<span id="cb8-19"><a href="Chapter3.html#cb8-19" tabindex="-1"></a>bwk_client <span class="ot">&lt;-</span> WFSClient<span class="sc">$</span><span class="fu">new</span>(wfs_bwk, </span>
<span id="cb8-20"><a href="Chapter3.html#cb8-20" tabindex="-1"></a>                            <span class="at">serviceVersion =</span> <span class="st">&quot;2.0.0&quot;</span>)</span>
<span id="cb8-21"><a href="Chapter3.html#cb8-21" tabindex="-1"></a>bwk_client<span class="sc">$</span><span class="fu">getFeatureTypes</span>() <span class="sc">%&gt;%</span></span>
<span id="cb8-22"><a href="Chapter3.html#cb8-22" tabindex="-1"></a>  <span class="fu">map_chr</span>(<span class="cf">function</span>(x){x<span class="sc">$</span><span class="fu">getTitle</span>()})</span>
<span id="cb8-23"><a href="Chapter3.html#cb8-23" tabindex="-1"></a></span>
<span id="cb8-24"><a href="Chapter3.html#cb8-24" tabindex="-1"></a>dati <span class="ot">&lt;-</span> <span class="fu">read_sf</span>(vaicajums)</span>
<span id="cb8-25"><a href="Chapter3.html#cb8-25" tabindex="-1"></a></span>
<span id="cb8-26"><a href="Chapter3.html#cb8-26" tabindex="-1"></a><span class="co"># multipoligoni</span></span>
<span id="cb8-27"><a href="Chapter3.html#cb8-27" tabindex="-1"></a>ensure_multipolygons <span class="ot">&lt;-</span> <span class="cf">function</span>(X) {</span>
<span id="cb8-28"><a href="Chapter3.html#cb8-28" tabindex="-1"></a>  tmp1 <span class="ot">&lt;-</span> <span class="fu">tempfile</span>(<span class="at">fileext =</span> <span class="st">&quot;.gpkg&quot;</span>)</span>
<span id="cb8-29"><a href="Chapter3.html#cb8-29" tabindex="-1"></a>  tmp2 <span class="ot">&lt;-</span> <span class="fu">tempfile</span>(<span class="at">fileext =</span> <span class="st">&quot;.gpkg&quot;</span>)</span>
<span id="cb8-30"><a href="Chapter3.html#cb8-30" tabindex="-1"></a>  <span class="fu">st_write</span>(X, tmp1)</span>
<span id="cb8-31"><a href="Chapter3.html#cb8-31" tabindex="-1"></a>  <span class="fu">ogr2ogr</span>(tmp1, tmp2, <span class="at">f =</span> <span class="st">&quot;GPKG&quot;</span>, <span class="at">nlt =</span> <span class="st">&quot;MULTIPOLYGON&quot;</span>)</span>
<span id="cb8-32"><a href="Chapter3.html#cb8-32" tabindex="-1"></a>  Y <span class="ot">&lt;-</span> <span class="fu">st_read</span>(tmp2)</span>
<span id="cb8-33"><a href="Chapter3.html#cb8-33" tabindex="-1"></a>  <span class="fu">st_sf</span>(<span class="fu">st_drop_geometry</span>(X), <span class="at">geom =</span> <span class="fu">st_geometry</span>(Y))</span>
<span id="cb8-34"><a href="Chapter3.html#cb8-34" tabindex="-1"></a>}</span>
<span id="cb8-35"><a href="Chapter3.html#cb8-35" tabindex="-1"></a>dati2 <span class="ot">&lt;-</span> <span class="fu">ensure_multipolygons</span>(dati)</span>
<span id="cb8-36"><a href="Chapter3.html#cb8-36" tabindex="-1"></a></span>
<span id="cb8-37"><a href="Chapter3.html#cb8-37" tabindex="-1"></a><span class="co"># pārbaudes</span></span>
<span id="cb8-38"><a href="Chapter3.html#cb8-38" tabindex="-1"></a>dati3 <span class="ot">=</span> dati2[<span class="sc">!</span><span class="fu">st_is_empty</span>(dati2),,drop<span class="ot">=</span><span class="cn">FALSE</span>] <span class="co"># OK</span></span>
<span id="cb8-39"><a href="Chapter3.html#cb8-39" tabindex="-1"></a>validity<span class="ot">=</span><span class="fu">st_is_valid</span>(dati3) </span>
<span id="cb8-40"><a href="Chapter3.html#cb8-40" tabindex="-1"></a><span class="fu">table</span>(validity) <span class="co"># OK</span></span>
<span id="cb8-41"><a href="Chapter3.html#cb8-41" tabindex="-1"></a></span>
<span id="cb8-42"><a href="Chapter3.html#cb8-42" tabindex="-1"></a><span class="co"># saglabāšana</span></span>
<span id="cb8-43"><a href="Chapter3.html#cb8-43" tabindex="-1"></a>sfarrow<span class="sc">::</span><span class="fu">st_write_parquet</span>(dati3, <span class="st">&quot;./IevadesDati/LAD/LAD_lauki.parquet&quot;</span>)</span></code></pre></div>
</details>
<p><br></p>
</div>
<div id="Chapter3.1.3" class="section level3 hasAnchor" number="3.1.3">
<h3><span class="header-section-number">3.1.3</span> LĢIA topogrāfiskā karte<a href="Chapter3.html#Chapter3.1.3" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Latvijas Ģeotelpiskās informācijas aģentūras topogrāfiskās kartes M:10000 vekotrodatu ģeodatubāze studiju un pētniecības procesu nodrošināšanai Latvijas Universitātē saņemta 2016. gada jūlijā pēc licences līguma noslēgšanas. Tās aktālizēta (tas ir nepārtraukts process) versija ir pieejama <a href="https://kartes.lgia.gov.lv/karte/">publiskai apskatei</a>, bet vektordatu pieejamība ir ierobežota.</p>
<p>Šajā projektā izmantoti sekojoši slāņi:</p>
<ul>
<li><p><code>bride_L</code>, kurā raksturoti 3928 tilti kā linijveida objekti;</p></li>
<li><p><code>bridge_P</code>, kurā raksturoti 4551 tilti kā punktveida objekti</p></li>
<li><p><code>hidro_A</code>, kurā raksturoti 264439 ūdensobjektu plankumi;</p></li>
<li><p><code>hidro_L</code>, kurā raksturots grāvju tīkls un mazās upes;</p></li>
<li><p><code>landus_A</code>, kurā raksturots zemes segums un lietojums ar 1291781 laukumveida ģeometriju;</p></li>
<li><p><code>road_A</code>, kurā raksturoti 32094 ceļi, kas atzīmēti ar laukumu;</p></li>
<li><p><code>road_L</code>, kurā raksturoti dažāda platuma, tajā skaitā relatīvi šauri ceļi un takas;</p></li>
<li><p><code>swamp_A</code>, kurā raksturoti augstie purvi ar 48105 laukumveida objektu;</p></li>
<li><p><code>flora_L</code>, kurā raksturoti līnijveida koku un krūmu objekti,</p></li>
</ul>
<p>kuri pārveidoti par <em>geoparquet</em>. Failu formāta maiņas ietvaros pārbaudītas ģeometrijas (tukšās, to validitāte, kas nepieciešamības gadījumā labota).</p>
<details class=chunk-details><summary class=chunk-summary><span class=chunk-summary-text>Code</span></summary>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb9-1"><a href="Chapter3.html#cb9-1" tabindex="-1"></a><span class="co"># libs</span></span>
<span id="cb9-2"><a href="Chapter3.html#cb9-2" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(sf)) {<span class="fu">install.packages</span>(<span class="st">&quot;sf&quot;</span>); <span class="fu">require</span>(sf)}</span>
<span id="cb9-3"><a href="Chapter3.html#cb9-3" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(arrow)) {<span class="fu">install.packages</span>(<span class="st">&quot;arrow&quot;</span>); <span class="fu">require</span>(arrow)}</span>
<span id="cb9-4"><a href="Chapter3.html#cb9-4" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(sfarrow)) {<span class="fu">install.packages</span>(<span class="st">&quot;sfarrow&quot;</span>); <span class="fu">require</span>(sfarrow)}</span>
<span id="cb9-5"><a href="Chapter3.html#cb9-5" tabindex="-1"></a></span>
<span id="cb9-6"><a href="Chapter3.html#cb9-6" tabindex="-1"></a></span>
<span id="cb9-7"><a href="Chapter3.html#cb9-7" tabindex="-1"></a><span class="co"># flora_L </span></span>
<span id="cb9-8"><a href="Chapter3.html#cb9-8" tabindex="-1"></a>flora_L<span class="ot">=</span><span class="fu">st_read</span>(<span class="st">&quot;./IevadesDati/topo/Topo10_v3_12_07_2016.gdb/&quot;</span>,<span class="at">layer=</span><span class="st">&quot;flora_L&quot;</span>)</span>
<span id="cb9-9"><a href="Chapter3.html#cb9-9" tabindex="-1"></a>flora2 <span class="ot">=</span> flora_L[<span class="sc">!</span><span class="fu">st_is_empty</span>(flora_L),,drop<span class="ot">=</span><span class="cn">FALSE</span>] <span class="co"># OK</span></span>
<span id="cb9-10"><a href="Chapter3.html#cb9-10" tabindex="-1"></a>validity<span class="ot">=</span><span class="fu">st_is_valid</span>(flora2) </span>
<span id="cb9-11"><a href="Chapter3.html#cb9-11" tabindex="-1"></a><span class="fu">table</span>(validity) <span class="co"># 12 invalid geometrijas</span></span>
<span id="cb9-12"><a href="Chapter3.html#cb9-12" tabindex="-1"></a>sfarrow<span class="sc">::</span><span class="fu">st_write_parquet</span>(flora2, <span class="st">&quot;./IevadesDati/topo/Topo_floraL.parquet&quot;</span>)</span>
<span id="cb9-13"><a href="Chapter3.html#cb9-13" tabindex="-1"></a></span>
<span id="cb9-14"><a href="Chapter3.html#cb9-14" tabindex="-1"></a></span>
<span id="cb9-15"><a href="Chapter3.html#cb9-15" tabindex="-1"></a><span class="co"># hidro A</span></span>
<span id="cb9-16"><a href="Chapter3.html#cb9-16" tabindex="-1"></a>hidro_A<span class="ot">=</span><span class="fu">st_read</span>(<span class="st">&quot;./IevadesDati/topo/Topo10_v3_12_07_2016.gdb/&quot;</span>,<span class="at">layer=</span><span class="st">&quot;hidro_A&quot;</span>)</span>
<span id="cb9-17"><a href="Chapter3.html#cb9-17" tabindex="-1"></a>hidro2 <span class="ot">=</span> hidro_A[<span class="sc">!</span><span class="fu">st_is_empty</span>(hidro_A),,drop<span class="ot">=</span><span class="cn">FALSE</span>] <span class="co"># OK</span></span>
<span id="cb9-18"><a href="Chapter3.html#cb9-18" tabindex="-1"></a>validity<span class="ot">=</span><span class="fu">st_is_valid</span>(hidro2) </span>
<span id="cb9-19"><a href="Chapter3.html#cb9-19" tabindex="-1"></a><span class="fu">table</span>(validity) <span class="co"># 12 invalid geometrijas</span></span>
<span id="cb9-20"><a href="Chapter3.html#cb9-20" tabindex="-1"></a>hidro3<span class="ot">=</span><span class="fu">st_make_valid</span>(hidro2)</span>
<span id="cb9-21"><a href="Chapter3.html#cb9-21" tabindex="-1"></a>sfarrow<span class="sc">::</span><span class="fu">st_write_parquet</span>(hidro3, <span class="st">&quot;./IevadesDati/topo/Topo_hidroA.parquet&quot;</span>)</span>
<span id="cb9-22"><a href="Chapter3.html#cb9-22" tabindex="-1"></a></span>
<span id="cb9-23"><a href="Chapter3.html#cb9-23" tabindex="-1"></a><span class="co"># hidro L</span></span>
<span id="cb9-24"><a href="Chapter3.html#cb9-24" tabindex="-1"></a>hidro_L<span class="ot">=</span><span class="fu">st_read</span>(<span class="st">&quot;./IevadesDati/topo/Topo10_v3_12_07_2016.gdb/&quot;</span>,<span class="at">layer=</span><span class="st">&quot;hidro_L&quot;</span>)</span>
<span id="cb9-25"><a href="Chapter3.html#cb9-25" tabindex="-1"></a><span class="fu">table</span>(hidro_L<span class="sc">$</span>FNAME,<span class="at">useNA=</span><span class="st">&quot;always&quot;</span>)</span>
<span id="cb9-26"><a href="Chapter3.html#cb9-26" tabindex="-1"></a>hidro_Lx<span class="ot">=</span>hidro_L <span class="sc">%&gt;%</span> </span>
<span id="cb9-27"><a href="Chapter3.html#cb9-27" tabindex="-1"></a>  <span class="fu">filter</span>(FNAME<span class="sc">==</span><span class="st">&quot;Ūdenstece līdz 3m&quot;</span>) <span class="co"># grāvji</span></span>
<span id="cb9-28"><a href="Chapter3.html#cb9-28" tabindex="-1"></a>hidro_Lx2 <span class="ot">=</span> hidro_Lx[<span class="sc">!</span><span class="fu">st_is_empty</span>(hidro_Lx),,drop<span class="ot">=</span><span class="cn">FALSE</span>] <span class="co"># OK</span></span>
<span id="cb9-29"><a href="Chapter3.html#cb9-29" tabindex="-1"></a>validity<span class="ot">=</span><span class="fu">st_is_valid</span>(hidro_Lx) </span>
<span id="cb9-30"><a href="Chapter3.html#cb9-30" tabindex="-1"></a><span class="fu">table</span>(validity) <span class="co"># OK</span></span>
<span id="cb9-31"><a href="Chapter3.html#cb9-31" tabindex="-1"></a>sfarrow<span class="sc">::</span><span class="fu">st_write_parquet</span>(hidro_Lx, <span class="st">&quot;./IevadesDati/topo/Topo_hidroL.parquet&quot;</span>)</span>
<span id="cb9-32"><a href="Chapter3.html#cb9-32" tabindex="-1"></a></span>
<span id="cb9-33"><a href="Chapter3.html#cb9-33" tabindex="-1"></a><span class="co"># road A</span></span>
<span id="cb9-34"><a href="Chapter3.html#cb9-34" tabindex="-1"></a>road_A<span class="ot">=</span><span class="fu">st_read</span>(<span class="st">&quot;./IevadesDati/topo/Topo10_v3_12_07_2016.gdb/&quot;</span>,<span class="at">layer=</span><span class="st">&quot;road_A&quot;</span>)</span>
<span id="cb9-35"><a href="Chapter3.html#cb9-35" tabindex="-1"></a>road2 <span class="ot">=</span> road_A[<span class="sc">!</span><span class="fu">st_is_empty</span>(road_A),,drop<span class="ot">=</span><span class="cn">FALSE</span>] <span class="co"># OK</span></span>
<span id="cb9-36"><a href="Chapter3.html#cb9-36" tabindex="-1"></a>validity<span class="ot">=</span><span class="fu">st_is_valid</span>(road2) </span>
<span id="cb9-37"><a href="Chapter3.html#cb9-37" tabindex="-1"></a><span class="fu">table</span>(validity) <span class="co"># 28 invalid geometrijas</span></span>
<span id="cb9-38"><a href="Chapter3.html#cb9-38" tabindex="-1"></a>road3<span class="ot">=</span><span class="fu">st_make_valid</span>(road2)</span>
<span id="cb9-39"><a href="Chapter3.html#cb9-39" tabindex="-1"></a>sfarrow<span class="sc">::</span><span class="fu">st_write_parquet</span>(road3, <span class="st">&quot;./IevadesDati/topo/Topo_roadA.parquet&quot;</span>)</span>
<span id="cb9-40"><a href="Chapter3.html#cb9-40" tabindex="-1"></a></span>
<span id="cb9-41"><a href="Chapter3.html#cb9-41" tabindex="-1"></a><span class="co"># road L</span></span>
<span id="cb9-42"><a href="Chapter3.html#cb9-42" tabindex="-1"></a>road_L<span class="ot">=</span><span class="fu">st_read</span>(<span class="st">&quot;./IevadesDati/topo/Topo10_v3_12_07_2016.gdb/&quot;</span>,<span class="at">layer=</span><span class="st">&quot;road_L&quot;</span>)</span>
<span id="cb9-43"><a href="Chapter3.html#cb9-43" tabindex="-1"></a><span class="fu">table</span>(road_L<span class="sc">$</span>FNAME,<span class="at">useNA=</span><span class="st">&quot;always&quot;</span>)</span>
<span id="cb9-44"><a href="Chapter3.html#cb9-44" tabindex="-1"></a>road_Lx<span class="ot">=</span>road_L <span class="sc">%&gt;%</span> </span>
<span id="cb9-45"><a href="Chapter3.html#cb9-45" tabindex="-1"></a>  <span class="fu">filter</span>(FNAME<span class="sc">!=</span><span class="st">&quot;Gājēju celiņš līdz 3m&quot;</span>) <span class="sc">%&gt;%</span> <span class="co"># ne pavisam sīkie</span></span>
<span id="cb9-46"><a href="Chapter3.html#cb9-46" tabindex="-1"></a>  <span class="fu">filter</span>(FNAME<span class="sc">!=</span><span class="st">&quot;Gājēju celiņš mērogā&quot;</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb9-47"><a href="Chapter3.html#cb9-47" tabindex="-1"></a>  <span class="fu">filter</span>(FNAME<span class="sc">!=</span><span class="st">&quot;Taka&quot;</span>)</span>
<span id="cb9-48"><a href="Chapter3.html#cb9-48" tabindex="-1"></a>roadL2 <span class="ot">=</span> road_Lx[<span class="sc">!</span><span class="fu">st_is_empty</span>(road_Lx),,drop<span class="ot">=</span><span class="cn">FALSE</span>] <span class="co"># OK</span></span>
<span id="cb9-49"><a href="Chapter3.html#cb9-49" tabindex="-1"></a>validity<span class="ot">=</span><span class="fu">st_is_valid</span>(roadL2) </span>
<span id="cb9-50"><a href="Chapter3.html#cb9-50" tabindex="-1"></a><span class="fu">table</span>(validity) <span class="co"># OK</span></span>
<span id="cb9-51"><a href="Chapter3.html#cb9-51" tabindex="-1"></a>sfarrow<span class="sc">::</span><span class="fu">st_write_parquet</span>(roadL2, <span class="st">&quot;./IevadesDati/topo/Topo_roadL.parquet&quot;</span>)</span>
<span id="cb9-52"><a href="Chapter3.html#cb9-52" tabindex="-1"></a></span>
<span id="cb9-53"><a href="Chapter3.html#cb9-53" tabindex="-1"></a><span class="co"># swamp A</span></span>
<span id="cb9-54"><a href="Chapter3.html#cb9-54" tabindex="-1"></a>swamp_A<span class="ot">=</span><span class="fu">st_read</span>(<span class="st">&quot;./IevadesDati/topo/Topo10_v3_12_07_2016.gdb/&quot;</span>,<span class="at">layer=</span><span class="st">&quot;swamp_A&quot;</span>)</span>
<span id="cb9-55"><a href="Chapter3.html#cb9-55" tabindex="-1"></a>swamp2 <span class="ot">=</span> swamp_A[<span class="sc">!</span><span class="fu">st_is_empty</span>(swamp_A),,drop<span class="ot">=</span><span class="cn">FALSE</span>] <span class="co"># OK</span></span>
<span id="cb9-56"><a href="Chapter3.html#cb9-56" tabindex="-1"></a>validity<span class="ot">=</span><span class="fu">st_is_valid</span>(swamp2) </span>
<span id="cb9-57"><a href="Chapter3.html#cb9-57" tabindex="-1"></a><span class="fu">table</span>(validity) <span class="co"># 17 invalid geometrijas</span></span>
<span id="cb9-58"><a href="Chapter3.html#cb9-58" tabindex="-1"></a>swamp3<span class="ot">=</span><span class="fu">st_make_valid</span>(swamp2)</span>
<span id="cb9-59"><a href="Chapter3.html#cb9-59" tabindex="-1"></a>sfarrow<span class="sc">::</span><span class="fu">st_write_parquet</span>(swamp3, <span class="st">&quot;./IevadesDati/topo/Topo_swampA.parquet&quot;</span>)</span>
<span id="cb9-60"><a href="Chapter3.html#cb9-60" tabindex="-1"></a></span>
<span id="cb9-61"><a href="Chapter3.html#cb9-61" tabindex="-1"></a><span class="co"># bridge_L</span></span>
<span id="cb9-62"><a href="Chapter3.html#cb9-62" tabindex="-1"></a>bridge_L<span class="ot">=</span><span class="fu">st_read</span>(<span class="st">&quot;./IevadesDati/topo/Topo10_v3_12_07_2016.gdb/&quot;</span>,<span class="at">layer=</span><span class="st">&quot;bridge_L&quot;</span>)</span>
<span id="cb9-63"><a href="Chapter3.html#cb9-63" tabindex="-1"></a>bridgeL2 <span class="ot">=</span> bridge_L[<span class="sc">!</span><span class="fu">st_is_empty</span>(bridge_L),,drop<span class="ot">=</span><span class="cn">FALSE</span>] <span class="co"># OK</span></span>
<span id="cb9-64"><a href="Chapter3.html#cb9-64" tabindex="-1"></a>validity<span class="ot">=</span><span class="fu">st_is_valid</span>(bridgeL2) </span>
<span id="cb9-65"><a href="Chapter3.html#cb9-65" tabindex="-1"></a><span class="fu">table</span>(validity) <span class="co"># OK</span></span>
<span id="cb9-66"><a href="Chapter3.html#cb9-66" tabindex="-1"></a>sfarrow<span class="sc">::</span><span class="fu">st_write_parquet</span>(bridgeL2, <span class="st">&quot;./IevadesDati/topo/Topo_bridgeL.parquet&quot;</span>)</span>
<span id="cb9-67"><a href="Chapter3.html#cb9-67" tabindex="-1"></a></span>
<span id="cb9-68"><a href="Chapter3.html#cb9-68" tabindex="-1"></a><span class="co"># bridge_P</span></span>
<span id="cb9-69"><a href="Chapter3.html#cb9-69" tabindex="-1"></a>bridge_P<span class="ot">=</span><span class="fu">st_read</span>(<span class="st">&quot;./IevadesDati/topo/Topo10_v3_12_07_2016.gdb/&quot;</span>,<span class="at">layer=</span><span class="st">&quot;bridge_P&quot;</span>)</span>
<span id="cb9-70"><a href="Chapter3.html#cb9-70" tabindex="-1"></a>bridgeP2 <span class="ot">=</span> bridge_P[<span class="sc">!</span><span class="fu">st_is_empty</span>(bridge_P),,drop<span class="ot">=</span><span class="cn">FALSE</span>] <span class="co"># OK</span></span>
<span id="cb9-71"><a href="Chapter3.html#cb9-71" tabindex="-1"></a>validity<span class="ot">=</span><span class="fu">st_is_valid</span>(bridgeP2) </span>
<span id="cb9-72"><a href="Chapter3.html#cb9-72" tabindex="-1"></a><span class="fu">table</span>(validity) <span class="co"># OK</span></span>
<span id="cb9-73"><a href="Chapter3.html#cb9-73" tabindex="-1"></a>sfarrow<span class="sc">::</span><span class="fu">st_write_parquet</span>(bridgeP2, <span class="st">&quot;./IevadesDati/topo/Topo_bridgeP.parquet&quot;</span>)</span>
<span id="cb9-74"><a href="Chapter3.html#cb9-74" tabindex="-1"></a></span>
<span id="cb9-75"><a href="Chapter3.html#cb9-75" tabindex="-1"></a><span class="co"># landus A</span></span>
<span id="cb9-76"><a href="Chapter3.html#cb9-76" tabindex="-1"></a>landus_A<span class="ot">=</span><span class="fu">st_read</span>(<span class="st">&quot;./IevadesDati/topo/Topo10_v3_12_07_2016.gdb/&quot;</span>,<span class="at">layer=</span><span class="st">&quot;landus_A&quot;</span>)</span>
<span id="cb9-77"><a href="Chapter3.html#cb9-77" tabindex="-1"></a>landus2 <span class="ot">=</span> landus_A[<span class="sc">!</span><span class="fu">st_is_empty</span>(landus_A),,drop<span class="ot">=</span><span class="cn">FALSE</span>] <span class="co"># OK</span></span>
<span id="cb9-78"><a href="Chapter3.html#cb9-78" tabindex="-1"></a>validity<span class="ot">=</span><span class="fu">st_is_valid</span>(landus2) </span>
<span id="cb9-79"><a href="Chapter3.html#cb9-79" tabindex="-1"></a><span class="fu">table</span>(validity) <span class="co"># 5734 invalid geometrijas</span></span>
<span id="cb9-80"><a href="Chapter3.html#cb9-80" tabindex="-1"></a>landus3<span class="ot">=</span><span class="fu">st_make_valid</span>(landus2)</span>
<span id="cb9-81"><a href="Chapter3.html#cb9-81" tabindex="-1"></a>sfarrow<span class="sc">::</span><span class="fu">st_write_parquet</span>(landus3, <span class="st">&quot;./IevadesDati/topo/Topo_landusA.parquet&quot;</span>)</span></code></pre></div>
</details>
<p><br></p>
</div>
<div id="Chapter3.1.4" class="section level3 hasAnchor" number="3.1.4">
<h3><span class="header-section-number">3.1.4</span> Meliorācijas Kadastra Informācijas Sistēmas datubāze<a href="Chapter3.html#Chapter3.1.4" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Meliorācijas Kadastra Informācijas Sistēmas datubāze 2018. gada jūnijā pēc pieprasījuma no Latvijas Universitātes studiju un pētniecības procesu nodrošināšanai saņemta no Zemkopības ministrijas nekustamo īpašumu daļas. Tās saturs pieejams <a href="https://www.melioracija.lv/?loc=540414;308053;1">publiskai apskatei</a>.</p>
<p>Sākotnēji papildus apstrāde šiem datiem nav veikta. Tie izmantoti <a href="Chapter3.html#Chapter3.2">Ievades produkti</a> sagatavošanai - gan <a href="Chapter3.html#Chapter3.2.1">Reljefa produkti</a>, gan <a href="Chapter3.html#Chapter3.2.2">Ainava</a> sagatavošanai.</p>
</div>
<div id="Chapter3.1.5" class="section level3 hasAnchor" number="3.1.5">
<h3><span class="header-section-number">3.1.5</span> LVM atvērtie dati<a href="Chapter3.html#Chapter3.1.5" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p><a href="https://data.gov.lv/dati/lv/dataset/as-latvijas-valsts-mezi-mezsaimniecibas-infrastruktura">AS “Latvijas valsts meži” meža infrastruktūras ģeotelpiskie dati un to apraksts</a>. No šīs datu kopas projektā izmantoti:</p>
<ul>
<li><p>ceļi:</p>
<ul>
<li><p>meža ceļi;</p></li>
<li><p>attīstāmie meža ceļi;</p></li>
<li><p>apgriešanās laukumi;</p></li>
<li><p>izmainīšanās vietas;</p></li>
<li><p>nobrauktuves;</p></li>
</ul></li>
<li><p>meliorācijas sistēmas:</p>
<ul>
<li><p>grāvji;</p></li>
<li><p>meliorācijas sistēmas;</p></li>
<li><p>atjaunojamie meliorācijas objekti.</p></li>
</ul></li>
</ul>
<p>Sākotnēji papildus apstrāde šiem datiem nav veikta. Tie izmantoti <a href="Chapter3.html#Chapter3.2">Ievades produkti</a> (specifiskāk, <a href="Chapter3.html#Chapter3.2.2">Ainava</a>) sagatavošanai.</p>
</div>
<div id="Chapter3.1.6" class="section level3 hasAnchor" number="3.1.6">
<h3><span class="header-section-number">3.1.6</span> Corine Land Cover<a href="Chapter3.html#Chapter3.1.6" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Corine Land Cover ir publiski pieejami ģeodati, kas raksturo zemes seguma un lietojuma veidu (LULC) visā aptverot visu Eiropu ilgā laika periodā ar kopumā nemainīgu (salīdzināmu) metodiku (<a href="https://land.copernicus.eu/content/corine-land-cover-nomenclature-guidelines/docs/pdf/CLC2018_Nomenclature_illustrated_guide_20190510.pdf" class="uri">https://land.copernicus.eu/content/corine-land-cover-nomenclature-guidelines/docs/pdf/CLC2018_Nomenclature_illustrated_guide_20190510.pdf</a>), sniedzot rezultātus atsevišķiem gadiem - 1990., 2000., 2006., 2012., 2018. (<a href="https://land.copernicus.eu/en/products/corine-land-cover" class="uri">https://land.copernicus.eu/en/products/corine-land-cover</a>). Lai gan datu kopa ir rupjas izšķirtspēja - kartējamā vienība ir 25 ha laukumi, kas ir vismaz 100 m plati, tā sniedz pietiekošu informāciju vispārīgam lietojumam, piemēram, novērojumu atlasei plašās ainavas klasēs (vairāk nodaļā <a href="Chapter6.html#Chapter6">Novērojumu atlase</a>). Šajā projektā izmantoti 2018. gada dati.</p>
<p>Lejupielādētā datu kopa transformēta Latvijas koordinātu sistēmā (EPSG:3059), turpmākā darba atvieglošanai un paātrināšanai failu formāts mainīts uz <em>geoparquet</em>. Failu formāta maiņas ietvaros pārbaudītas ģeometrijas (tukšās, validitāte).</p>
<details class=chunk-details><summary class=chunk-summary><span class=chunk-summary-text>Code</span></summary>
<div class="sourceCode" id="cb10"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb10-1"><a href="Chapter3.html#cb10-1" tabindex="-1"></a><span class="co"># libs</span></span>
<span id="cb10-2"><a href="Chapter3.html#cb10-2" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(sf)) {<span class="fu">install.packages</span>(<span class="st">&quot;sf&quot;</span>); <span class="fu">require</span>(sf)}</span>
<span id="cb10-3"><a href="Chapter3.html#cb10-3" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(arrow)) {<span class="fu">install.packages</span>(<span class="st">&quot;arrow&quot;</span>); <span class="fu">require</span>(arrow)}</span>
<span id="cb10-4"><a href="Chapter3.html#cb10-4" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(sfarrow)) {<span class="fu">install.packages</span>(<span class="st">&quot;sfarrow&quot;</span>); <span class="fu">require</span>(sfarrow)}</span>
<span id="cb10-5"><a href="Chapter3.html#cb10-5" tabindex="-1"></a></span>
<span id="cb10-6"><a href="Chapter3.html#cb10-6" tabindex="-1"></a><span class="co"># lejupielādētie dati</span></span>
<span id="cb10-7"><a href="Chapter3.html#cb10-7" tabindex="-1"></a>clcLV<span class="ot">=</span><span class="fu">st_read</span>(<span class="st">&quot;./IevadesDati/CLC/clcLV.gpkg&quot;</span>,<span class="at">layer=</span><span class="st">&quot;clcLV&quot;</span>)</span>
<span id="cb10-8"><a href="Chapter3.html#cb10-8" tabindex="-1"></a></span>
<span id="cb10-9"><a href="Chapter3.html#cb10-9" tabindex="-1"></a><span class="co"># tukšās ģeometrijas</span></span>
<span id="cb10-10"><a href="Chapter3.html#cb10-10" tabindex="-1"></a>clcLV2 <span class="ot">=</span> clcLV[<span class="sc">!</span><span class="fu">st_is_empty</span>(clcLV),,drop<span class="ot">=</span><span class="cn">FALSE</span>] <span class="co"># OK</span></span>
<span id="cb10-11"><a href="Chapter3.html#cb10-11" tabindex="-1"></a></span>
<span id="cb10-12"><a href="Chapter3.html#cb10-12" tabindex="-1"></a><span class="co"># ģeometriju validēšana</span></span>
<span id="cb10-13"><a href="Chapter3.html#cb10-13" tabindex="-1"></a>validity<span class="ot">=</span><span class="fu">st_is_valid</span>(clcLV2) </span>
<span id="cb10-14"><a href="Chapter3.html#cb10-14" tabindex="-1"></a><span class="fu">table</span>(validity) <span class="co"># 3 non-valid</span></span>
<span id="cb10-15"><a href="Chapter3.html#cb10-15" tabindex="-1"></a>clcLV3<span class="ot">=</span><span class="fu">st_make_valid</span>(clcLV2)</span>
<span id="cb10-16"><a href="Chapter3.html#cb10-16" tabindex="-1"></a></span>
<span id="cb10-17"><a href="Chapter3.html#cb10-17" tabindex="-1"></a><span class="co"># koordinātu sistēma</span></span>
<span id="cb10-18"><a href="Chapter3.html#cb10-18" tabindex="-1"></a>clcLV3<span class="ot">=</span><span class="fu">st_transform</span>(clcLV3,<span class="at">crs=</span><span class="dv">3059</span>)</span>
<span id="cb10-19"><a href="Chapter3.html#cb10-19" tabindex="-1"></a></span>
<span id="cb10-20"><a href="Chapter3.html#cb10-20" tabindex="-1"></a><span class="co"># saglabāšana</span></span>
<span id="cb10-21"><a href="Chapter3.html#cb10-21" tabindex="-1"></a>sfarrow<span class="sc">::</span><span class="fu">st_write_parquet</span>(clcLV3, <span class="st">&quot;./IevadesDati/CLC/CLC_LV_2018.parquet&quot;</span>)</span></code></pre></div>
</details>
<p><br></p>
</div>
<div id="Chapter3.1.7" class="section level3 hasAnchor" number="3.1.7">
<h3><span class="header-section-number">3.1.7</span> Sentinel-2<a href="Chapter3.html#Chapter3.1.7" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Eiropas Kosmosa Aģentūras (ESA) <em>Copernicus</em> programmas <em>Sentinel-2</em> misija ir divu (trīs kopš 2024-09-05) identisku satelītu, kas riņo tajā pašā orbītā, konstellācija. Pirmais satelīts - <em>Sentinel-2A</em> savu orbītu ieņēma un izgāja kalibrācijas testus 2015-06-23, otrais (<em>Sentinel-2B</em>) - 2017-03-07, pirmie attēli bija pieejami jau iepriekš. Katrs satelīts uzņem augstas izšķirtspējas (no 10 m (pie ekvatora) pikseļa izšķirtspējas) attēlus 13 spektrālajos kanālos ar atgriešanās laiku līdz 5 dienām (tuvāk poliem - biežāk) (<a href="https://www.esa.int/Applications/Observing_the_Earth/Copernicus/Sentinel-2" class="uri">https://www.esa.int/Applications/Observing_the_Earth/Copernicus/Sentinel-2</a>). Šīs misijas dati ir brīvi pieejami, tajā skaitā <em>Google Earth Engine</em> platformā <span class="citation">(<a href="#ref-GEEpaper">Gorelick et al., 2017</a>)</span> dažādas liela apjoma priekšapstrādes un analīžu veikšanai. Šī projekta ietvaros izmantots harmonizētais otrā līmeņa (Level-2A; <a href="https://developers.google.com/earth-engine/datasets/catalog/COPERNICUS_S2_SR_HARMONIZED#description" class="uri">https://developers.google.com/earth-engine/datasets/catalog/COPERNICUS_S2_SR_HARMONIZED#description</a>) produkts, pielietojot mākoņu masku, kura iekļauj ne tikai mākoņu, bet arī to ēnu filtrēšanu, lai katrai pēc filtrēšanas (mākoņu un sezonas - no aprīļa līdz oktobrim un no 2017. līdz 2023. gadam) pieejamajai satelītainais aprēķinātu normalizēto starpības veģetācijas indeksu (NDVI, ) un normalizēto starpības ūdens indeksu (NDWI, ) kā arī dažādas to metrikas. Datu sagatavošanai izmantojams
<a href="https://code.earthengine.google.com/0d0c819780aafc82e8fae371e4afd360?noload=true">replicēšanas skripts</a>. Lai izmantotu šo skriptu, ir nepieciešams <a href="https://code.earthengine.google.com/register">GEE konts un projekts</a> un pietiekošs apjoms vietas Google Drive diskā. Izpildot komandrindas tiks piedāvāta lejuplāde sekojošiem failiem:</p>
<ul>
<li><p><code>NDVI_p25</code> - aprīļa līdz oktobra ik pikseļa NDVI 25. procentiles vērtību katram gadam no 2017. līdz 2023. mediāna;</p></li>
<li><p><code>NDVI_p75</code> - aprīļa līdz oktobra ik pikseļa NDVI 75. procentiles vērtību katram gadam no 2017. līdz 2023. mediāna;</p></li>
<li><p><code>NDVI_median</code> - aprīļa līdz oktobra ik pikseļa NDVI mediānas vērtību katram gadam no 2017. līdz 2023. mediāna;</p></li>
<li><p><code>NDVI_2023_median</code> - 2023. gada aprīļa līdz oktobra ik pikseļa NDVI vērtību mediāna;</p></li>
<li><p><code>NDVI_IQR</code> - aprīļa līdz oktobra ik pikseļa NDVI starpkvartiļu apgabala vērtību katram gadam no 2017. līdz 2023. mediāna;</p></li>
<li><p><code>NDWI_p25</code> - aprīļa līdz oktobra ik pikseļa NDWI 25. procentiles vērtību katram gadam no 2017. līdz 2023. mediāna;</p></li>
<li><p><code>NDWI_p75</code> - aprīļa līdz oktobra ik pikseļa NDWI 75. procentiles vērtību katram gadam no 2017. līdz 2023. mediāna;</p></li>
<li><p><code>NDWI_median</code> - aprīļa līdz oktobra ik pikseļa NDWI mediānas vērtību katram gadam no 2017. līdz 2023. mediāna;</p></li>
<li><p><code>NDWI_2023_median</code> - 2023. gada aprīļa līdz oktobra ik pikseļa NDWI vērtību mediāna;</p></li>
<li><p><code>NDWI_IQR</code> - aprīļa līdz oktobra ik pikseļa NDWI starpkvartiļu apgabala vērtību katram gadam no 2017. līdz 2023. mediāna.</p></li>
</ul>
<p>Pēc komandrindu izpildes un rezultātu sagatavošanas Google Drive diskā, ir redzams, ka katrs visu Latviju aptverošais slānis ir sadalīts vairākās lapās. Tas ir tādēļ, ka slāņi kodēti kā <em>Float</em> un pirms komprecijas GeoTIFF pārsniedz 4 GB izmēru. Visas šīs lapas ir nepieciešams lejuplādēt, sekojošās R komandrindas tās apvieno, nodrošinot koordinātu sistēmas un pikseļu atbilstību references rastram.</p>
<details class=chunk-details><summary class=chunk-summary><span class=chunk-summary-text>Code</span></summary>
<div class="sourceCode" id="cb11"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb11-1"><a href="Chapter3.html#cb11-1" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(tidyverse)) {<span class="fu">install.packages</span>(<span class="st">&quot;tidyverse&quot;</span>); <span class="fu">require</span>(tidyverse)}</span>
<span id="cb11-2"><a href="Chapter3.html#cb11-2" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(terra)) {<span class="fu">install.packages</span>(<span class="st">&quot;terra&quot;</span>); <span class="fu">require</span>(terra)}</span>
<span id="cb11-3"><a href="Chapter3.html#cb11-3" tabindex="-1"></a></span>
<span id="cb11-4"><a href="Chapter3.html#cb11-4" tabindex="-1"></a><span class="co"># reference</span></span>
<span id="cb11-5"><a href="Chapter3.html#cb11-5" tabindex="-1"></a>paraugs<span class="ot">=</span><span class="fu">rast</span>(<span class="st">&quot;./Templates/TemplateRasters/LV10m_10km.tif&quot;</span>)</span>
<span id="cb11-6"><a href="Chapter3.html#cb11-6" tabindex="-1"></a></span>
<span id="cb11-7"><a href="Chapter3.html#cb11-7" tabindex="-1"></a><span class="co"># saraksts ar lejupielādētajiem failiem, pieņemot, ka tie atrodas direktorijas </span></span>
<span id="cb11-8"><a href="Chapter3.html#cb11-8" tabindex="-1"></a><span class="co"># &quot;S2indices&quot; apakšdirektorijā &quot;RAW&quot;</span></span>
<span id="cb11-9"><a href="Chapter3.html#cb11-9" tabindex="-1"></a>faili<span class="ot">=</span><span class="fu">data.frame</span>(<span class="at">fails=</span><span class="fu">list.files</span>(<span class="st">&quot;./IevadesDati/S2indices/RAW/&quot;</span>))</span>
<span id="cb11-10"><a href="Chapter3.html#cb11-10" tabindex="-1"></a>faili<span class="sc">$</span>celi_sakums<span class="ot">=</span><span class="fu">paste0</span>(<span class="st">&quot;./IevadesDati/S2indices/RAW/&quot;</span>,faili<span class="sc">$</span>fails)</span>
<span id="cb11-11"><a href="Chapter3.html#cb11-11" tabindex="-1"></a></span>
<span id="cb11-12"><a href="Chapter3.html#cb11-12" tabindex="-1"></a><span class="co"># Korekti projektētu mozaīku sagatavošana</span></span>
<span id="cb11-13"><a href="Chapter3.html#cb11-13" tabindex="-1"></a><span class="co"># failu nosaukumi un ceļš saglabāšanai</span></span>
<span id="cb11-14"><a href="Chapter3.html#cb11-14" tabindex="-1"></a>faili<span class="ot">=</span>faili <span class="sc">%&gt;%</span> </span>
<span id="cb11-15"><a href="Chapter3.html#cb11-15" tabindex="-1"></a>  <span class="fu">separate</span>(fails,<span class="at">into=</span><span class="fu">c</span>(<span class="st">&quot;nosaukums&quot;</span>,<span class="st">&quot;vidus&quot;</span>,<span class="st">&quot;beigas&quot;</span>),<span class="at">sep=</span><span class="st">&quot;-&quot;</span>,<span class="at">remove =</span> <span class="cn">FALSE</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb11-16"><a href="Chapter3.html#cb11-16" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">mosaic_name=</span><span class="fu">paste0</span>(nosaukums,<span class="st">&quot;.tif&quot;</span>),</span>
<span id="cb11-17"><a href="Chapter3.html#cb11-17" tabindex="-1"></a>         <span class="at">masaic_cels=</span><span class="fu">paste0</span>(<span class="st">&quot;./IevadesDati/S2indices/mozaikas/&quot;</span>,mosaic_name))</span>
<span id="cb11-18"><a href="Chapter3.html#cb11-18" tabindex="-1"></a></span>
<span id="cb11-19"><a href="Chapter3.html#cb11-19" tabindex="-1"></a><span class="co"># unikālie failu nosaukumi cikla vadībai</span></span>
<span id="cb11-20"><a href="Chapter3.html#cb11-20" tabindex="-1"></a>unikalie<span class="ot">=</span><span class="fu">levels</span>(<span class="fu">factor</span>(faili<span class="sc">$</span>nosaukums))</span>
<span id="cb11-21"><a href="Chapter3.html#cb11-21" tabindex="-1"></a></span>
<span id="cb11-22"><a href="Chapter3.html#cb11-22" tabindex="-1"></a><span class="co"># cikls uzdevuma veikšanai</span></span>
<span id="cb11-23"><a href="Chapter3.html#cb11-23" tabindex="-1"></a><span class="cf">for</span>(i <span class="cf">in</span> <span class="fu">seq_along</span>(unikalie)){</span>
<span id="cb11-24"><a href="Chapter3.html#cb11-24" tabindex="-1"></a>  unikalais<span class="ot">=</span>faili <span class="sc">%&gt;%</span> <span class="fu">filter</span>(nosaukums<span class="sc">==</span>unikalie[i])</span>
<span id="cb11-25"><a href="Chapter3.html#cb11-25" tabindex="-1"></a>  beigu_cels<span class="ot">=</span><span class="fu">unique</span>(unikalais<span class="sc">$</span>masaic_cels)</span>
<span id="cb11-26"><a href="Chapter3.html#cb11-26" tabindex="-1"></a>  </span>
<span id="cb11-27"><a href="Chapter3.html#cb11-27" tabindex="-1"></a>  <span class="co"># ik slānis sastāv no divām lapām</span></span>
<span id="cb11-28"><a href="Chapter3.html#cb11-28" tabindex="-1"></a>  viens<span class="ot">=</span><span class="fu">rast</span>(unikalais<span class="sc">$</span>celi_sakums[<span class="dv">1</span>])</span>
<span id="cb11-29"><a href="Chapter3.html#cb11-29" tabindex="-1"></a>  divi<span class="ot">=</span><span class="fu">rast</span>(unikalais<span class="sc">$</span>celi_sakums[<span class="dv">2</span>])</span>
<span id="cb11-30"><a href="Chapter3.html#cb11-30" tabindex="-1"></a>  </span>
<span id="cb11-31"><a href="Chapter3.html#cb11-31" tabindex="-1"></a>  viens2<span class="ot">=</span>terra<span class="sc">::</span><span class="fu">project</span>(viens,paraugs)</span>
<span id="cb11-32"><a href="Chapter3.html#cb11-32" tabindex="-1"></a>  divi2<span class="ot">=</span>terra<span class="sc">::</span><span class="fu">project</span>(divi,paraugs)</span>
<span id="cb11-33"><a href="Chapter3.html#cb11-33" tabindex="-1"></a>  </span>
<span id="cb11-34"><a href="Chapter3.html#cb11-34" tabindex="-1"></a>  mozaika<span class="ot">=</span>terra<span class="sc">::</span><span class="fu">merge</span>(viens2,divi2)</span>
<span id="cb11-35"><a href="Chapter3.html#cb11-35" tabindex="-1"></a>  maskets<span class="ot">=</span><span class="fu">mask</span>(mozaika,paraugs,<span class="at">filename=</span>beigu_cels,<span class="at">overwrite=</span><span class="cn">TRUE</span>)</span>
<span id="cb11-36"><a href="Chapter3.html#cb11-36" tabindex="-1"></a>}</span></code></pre></div>
</details>
<p><br></p>
</div>
<div id="Chapter3.1.8" class="section level3 hasAnchor" number="3.1.8">
<h3><span class="header-section-number">3.1.8</span> <em>Dynamic World</em><a href="Chapter3.html#Chapter3.1.8" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p><em>Dynamic World</em> (DW) ir relatīvi nesens Zemes novērošanas sistēmu produkts, kurš klasificē zemes segumu un lietojumu (LULC) deviņās kategorijās (0=water, 1=trees, 2=grass, 3=flooded_vegetation, 4=crops, 5=shrub_and_scrub, 6=built, 7=bare, 8=snow_and_ice), katram ESA Copernicus Sentinel-2 attēlam ar identificēto mākoņainību <span class="math inline">\(\le35%\)</span>, pieļaujot filtrēšanu un dažādu agregāciju veidošanu <span class="citation">(<a href="#ref-DynWorld">Brown et al., 2022</a>)</span> (nedaudz vairāk nodaļā <a href="Chapter4.html#Chapter4"><em>Dynamic World</em> izpēte</a>).</p>
<p>DW ievades informācija - rastra slānis katrai sezonai katrā gadā - sagtavots <em>Google Earth Engine</em> platformā <span class="citation">(<a href="#ref-GEEpaper">Gorelick et al., 2017</a>)</span>, izmantojot <a href="https://code.earthengine.google.com/941bb1a16331727787bb3fc1bbbda95b?noload=true">replicēšanas skriptu</a>. Lai izmantotu šo skriptu, ir nepieciešams <a href="https://code.earthengine.google.com/register">GEE konts un projekts</a> un pietiekošs apjoms vietas Google Drive diskā. Izpildot komandrindas tiks piedāvāta lejuplāde failam, kas aptver laika periodu no vērtības 7. rindā līdz vērtībai 8. rindā (faila nosaukums norādāms 32. rindā, tā apraksts - 33. rindā un direktorija Google diskā - 31. rindā vai tas viss norādāms apstiprinot saglabāšanau) - šis skripts nav optimizēts visu sezonālo griezumu visiem gadiem sagatavošanai, lai reproducētu vai paplašinātu šo izpēti, tās nepieciešams manuāli izmainīt.</p>
<p>Pēc komandrindu izpildes un rezultātu sagatavošanas Google Drive diskā, ir redzams, ka katrs visu Latviju aptverošais slānis ir sadalīts vairākās lapās. Tas ir tādēļ, ka, lai nodrošinātu nulles patieso vērtību (klase “water”, nevis fons), slāņi kodēti kā <em>Float</em>, nevis veselie skaitļi. Visas šīs lapas ir nepieciešams lejuplādēt, sekojošās R komandrindas tās apvieno, nodrošinot koordinātu sistēmas un pikseļu atbilstību references rastram.</p>
<details class=chunk-details><summary class=chunk-summary><span class=chunk-summary-text>Code</span></summary>
<div class="sourceCode" id="cb12"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb12-1"><a href="Chapter3.html#cb12-1" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(tidyverse)) {<span class="fu">install.packages</span>(<span class="st">&quot;tidyverse&quot;</span>); <span class="fu">require</span>(tidyverse)}</span>
<span id="cb12-2"><a href="Chapter3.html#cb12-2" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(terra)) {<span class="fu">install.packages</span>(<span class="st">&quot;terra&quot;</span>); <span class="fu">require</span>(terra)}</span>
<span id="cb12-3"><a href="Chapter3.html#cb12-3" tabindex="-1"></a></span>
<span id="cb12-4"><a href="Chapter3.html#cb12-4" tabindex="-1"></a><span class="co"># reference</span></span>
<span id="cb12-5"><a href="Chapter3.html#cb12-5" tabindex="-1"></a>paraugs<span class="ot">=</span><span class="fu">rast</span>(<span class="st">&quot;./Templates/TemplateRasters/LV10m_10km.tif&quot;</span>)</span>
<span id="cb12-6"><a href="Chapter3.html#cb12-6" tabindex="-1"></a></span>
<span id="cb12-7"><a href="Chapter3.html#cb12-7" tabindex="-1"></a><span class="co"># saraksts ar lejupielādētajiem failiem, pieņemot, ka tie atrodas direktorijā </span></span>
<span id="cb12-8"><a href="Chapter3.html#cb12-8" tabindex="-1"></a><span class="co"># &quot;DWE_float&quot;</span></span>
<span id="cb12-9"><a href="Chapter3.html#cb12-9" tabindex="-1"></a>faili<span class="ot">=</span><span class="fu">data.frame</span>(<span class="at">faili=</span><span class="fu">list.files</span>(<span class="st">&quot;./IevadesDati/DynamicWorld/DynamicWorld_Eksperimentam/DWE_float/&quot;</span>))</span>
<span id="cb12-10"><a href="Chapter3.html#cb12-10" tabindex="-1"></a>faili<span class="sc">$</span>celi_sakums<span class="ot">=</span><span class="fu">paste0</span>(<span class="st">&quot;./IevadesDati/DynamicWorld/DynamicWorld_Eksperimentam/DWE_float/&quot;</span>,faili<span class="sc">$</span>faili)</span>
<span id="cb12-11"><a href="Chapter3.html#cb12-11" tabindex="-1"></a></span>
<span id="cb12-12"><a href="Chapter3.html#cb12-12" tabindex="-1"></a><span class="co"># Korekti projektētu mozaīku sagatavošana</span></span>
<span id="cb12-13"><a href="Chapter3.html#cb12-13" tabindex="-1"></a><span class="co"># failu nosaukumi un ceļš saglabāšanai</span></span>
<span id="cb12-14"><a href="Chapter3.html#cb12-14" tabindex="-1"></a>faili<span class="ot">=</span>faili <span class="sc">%&gt;%</span> </span>
<span id="cb12-15"><a href="Chapter3.html#cb12-15" tabindex="-1"></a>  <span class="fu">separate</span>(faili,<span class="at">into=</span><span class="fu">c</span>(<span class="st">&quot;DW&quot;</span>,<span class="st">&quot;gads&quot;</span>,<span class="st">&quot;periods&quot;</span>,<span class="st">&quot;parejais&quot;</span>),<span class="at">sep=</span><span class="st">&quot;_&quot;</span>,<span class="at">remove =</span> <span class="cn">FALSE</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb12-16"><a href="Chapter3.html#cb12-16" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">unikalais=</span><span class="fu">paste0</span>(DW,<span class="st">&quot;_&quot;</span>,gads,<span class="st">&quot;_&quot;</span>,periods),</span>
<span id="cb12-17"><a href="Chapter3.html#cb12-17" tabindex="-1"></a>         <span class="at">mosaic_name=</span><span class="fu">paste0</span>(unikalais,<span class="st">&quot;.tif&quot;</span>),</span>
<span id="cb12-18"><a href="Chapter3.html#cb12-18" tabindex="-1"></a>         <span class="at">masaic_cels=</span><span class="fu">paste0</span>(<span class="st">&quot;./IevadesDati/DynamicWorld/DynamicWorld_Eksperimentam/DWE_mosaic/&quot;</span>,mosaic_name))</span>
<span id="cb12-19"><a href="Chapter3.html#cb12-19" tabindex="-1"></a></span>
<span id="cb12-20"><a href="Chapter3.html#cb12-20" tabindex="-1"></a><span class="co"># unikālie failu nosaukumi cikla vadībai</span></span>
<span id="cb12-21"><a href="Chapter3.html#cb12-21" tabindex="-1"></a>unikalie<span class="ot">=</span><span class="fu">levels</span>(<span class="fu">factor</span>(faili<span class="sc">$</span>unikalais))</span>
<span id="cb12-22"><a href="Chapter3.html#cb12-22" tabindex="-1"></a></span>
<span id="cb12-23"><a href="Chapter3.html#cb12-23" tabindex="-1"></a><span class="co"># cikls uzdevuma veikšanai</span></span>
<span id="cb12-24"><a href="Chapter3.html#cb12-24" tabindex="-1"></a><span class="cf">for</span>(i <span class="cf">in</span> <span class="fu">seq_along</span>(unikalie)){</span>
<span id="cb12-25"><a href="Chapter3.html#cb12-25" tabindex="-1"></a>  unikalais<span class="ot">=</span>faili <span class="sc">%&gt;%</span> <span class="fu">filter</span>(unikalais<span class="sc">==</span>unikalie[i])</span>
<span id="cb12-26"><a href="Chapter3.html#cb12-26" tabindex="-1"></a>  beigu_cels<span class="ot">=</span><span class="fu">unique</span>(unikalais<span class="sc">$</span>masaic_cels)</span>
<span id="cb12-27"><a href="Chapter3.html#cb12-27" tabindex="-1"></a>  </span>
<span id="cb12-28"><a href="Chapter3.html#cb12-28" tabindex="-1"></a>  <span class="co"># ik slānis sastāv no divām lapām</span></span>
<span id="cb12-29"><a href="Chapter3.html#cb12-29" tabindex="-1"></a>  viens<span class="ot">=</span><span class="fu">rast</span>(unikalais<span class="sc">$</span>celi_sakums[<span class="dv">1</span>])</span>
<span id="cb12-30"><a href="Chapter3.html#cb12-30" tabindex="-1"></a>  divi<span class="ot">=</span><span class="fu">rast</span>(unikalais<span class="sc">$</span>celi_sakums[<span class="dv">2</span>])</span>
<span id="cb12-31"><a href="Chapter3.html#cb12-31" tabindex="-1"></a>  </span>
<span id="cb12-32"><a href="Chapter3.html#cb12-32" tabindex="-1"></a>  viens2<span class="ot">=</span><span class="fu">project</span>(viens,paraugs)</span>
<span id="cb12-33"><a href="Chapter3.html#cb12-33" tabindex="-1"></a>  divi2<span class="ot">=</span><span class="fu">project</span>(divi,paraugs)</span>
<span id="cb12-34"><a href="Chapter3.html#cb12-34" tabindex="-1"></a>  </span>
<span id="cb12-35"><a href="Chapter3.html#cb12-35" tabindex="-1"></a>  mozaika<span class="ot">=</span><span class="fu">mosaic</span>(viens2,divi2,<span class="at">fun=</span><span class="st">&quot;first&quot;</span>)</span>
<span id="cb12-36"><a href="Chapter3.html#cb12-36" tabindex="-1"></a>  maskets<span class="ot">=</span><span class="fu">mask</span>(mozaika,paraugs,<span class="at">filename=</span>beigu_cels,<span class="at">overwrite=</span><span class="cn">TRUE</span>)</span>
<span id="cb12-37"><a href="Chapter3.html#cb12-37" tabindex="-1"></a>}</span></code></pre></div>
</details>
<p><br></p>
</div>
<div id="Chapter3.1.9" class="section level3 hasAnchor" number="3.1.9">
<h3><span class="header-section-number">3.1.9</span> <em>The Global Forest Watch</em><a href="Chapter3.html#Chapter3.1.9" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p><em>The Global Forest Watch</em> (GFW) ir plaši pazīstam produkts, kurš raksturo koku vainagu segumu 2000. gadā, tā ikgadējo pieaugumu no 2001. gada līdz 2012. gadam un zudumu katrā gadā kopš 2001. gada līdz aktuālajai versijai, kas ik gadu tiek papildināta <span class="citation">(<a href="#ref-theGFW">Hansen et al., 2013</a>)</span>. Dati ir pieejami gan <a href="https://data.globalforestwatch.org/documents/941f17325a494ed78c4817f9bb20f33a/explore">projekta mājaslapā</a>, gan <a href="https://developers.google.com/earth-engine/datasets/catalog/UMD_hansen_global_forest_change_2023_v1_11">GEE</a>, kurā tie ir izstrādāti. Šajā projektā izmantota v1.11, kurā pēdējais koku izzušanas datēšanas gads ir 2023, to sagatavojot lejupielādei GEE platformā ar <a href="https://code.earthengine.google.com/1878026f59c5118080cac0a8c976c744?noload=true">šo replicēšanas skriptu</a>. Lai izmantotu šo skriptu, ir nepieciešams <a href="https://code.earthengine.google.com/register">GEE konts un projekts</a> un pietiekošs apjoms vietas Google Drive diskā. Izpildot komandrindas tiks piedāvāta lejuplāde failam, kuru nepieciešams saglabāt Google diskā.</p>
<p>Pēc komandrindu izpildes un rezultātu sagatavošanas Google Drive diskā, darba cietajā diskā ir lejupielādējams viens fails un tas pielāgojams references rastram.</p>
<details class=chunk-details><summary class=chunk-summary><span class=chunk-summary-text>Code</span></summary>
<div class="sourceCode" id="cb13"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb13-1"><a href="Chapter3.html#cb13-1" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(tidyverse)) {<span class="fu">install.packages</span>(<span class="st">&quot;tidyverse&quot;</span>); <span class="fu">require</span>(tidyverse)}</span>
<span id="cb13-2"><a href="Chapter3.html#cb13-2" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(terra)) {<span class="fu">install.packages</span>(<span class="st">&quot;terra&quot;</span>); <span class="fu">require</span>(terra)}</span>
<span id="cb13-3"><a href="Chapter3.html#cb13-3" tabindex="-1"></a></span>
<span id="cb13-4"><a href="Chapter3.html#cb13-4" tabindex="-1"></a><span class="co"># reference</span></span>
<span id="cb13-5"><a href="Chapter3.html#cb13-5" tabindex="-1"></a>paraugs<span class="ot">=</span><span class="fu">rast</span>(<span class="st">&quot;./Templates/TemplateRasters/LV10m_10km.tif&quot;</span>)</span>
<span id="cb13-6"><a href="Chapter3.html#cb13-6" tabindex="-1"></a></span>
<span id="cb13-7"><a href="Chapter3.html#cb13-7" tabindex="-1"></a><span class="co"># TreeCoverLoss</span></span>
<span id="cb13-8"><a href="Chapter3.html#cb13-8" tabindex="-1"></a>treecoverloss<span class="ot">=</span><span class="fu">rast</span>(<span class="st">&quot;./IevadesDati/koki/RAW/TreeCoverLoss.tif&quot;</span>)</span>
<span id="cb13-9"><a href="Chapter3.html#cb13-9" tabindex="-1"></a></span>
<span id="cb13-10"><a href="Chapter3.html#cb13-10" tabindex="-1"></a><span class="co"># Fona aivietošana ar iztrūkstošajām vērtībām</span></span>
<span id="cb13-11"><a href="Chapter3.html#cb13-11" tabindex="-1"></a>tcl<span class="ot">=</span><span class="fu">ifel</span>(treecoverloss<span class="sc">&lt;</span><span class="dv">1</span>,<span class="cn">NA</span>,treecoverloss)</span>
<span id="cb13-12"><a href="Chapter3.html#cb13-12" tabindex="-1"></a></span>
<span id="cb13-13"><a href="Chapter3.html#cb13-13" tabindex="-1"></a><span class="co"># projektēšana un maskēšana ar faila saglabāšanu</span></span>
<span id="cb13-14"><a href="Chapter3.html#cb13-14" tabindex="-1"></a>tcl2<span class="ot">=</span>terra<span class="sc">::</span><span class="fu">project</span>(tcl,paraugs)</span>
<span id="cb13-15"><a href="Chapter3.html#cb13-15" tabindex="-1"></a>tcl3<span class="ot">=</span><span class="fu">mask</span>(tcl2,paraugs,<span class="at">filename=</span><span class="st">&quot;./IevadesDati/koki/TreeCoverLossYear.tif&quot;</span>,<span class="at">overwrite=</span><span class="cn">TRUE</span>)</span></code></pre></div>
</details>
<p><br></p>
</div>
<div id="Chapter3.1.10" class="section level3 hasAnchor" number="3.1.10">
<h3><span class="header-section-number">3.1.10</span> Palsar Forests<a href="Chapter3.html#Chapter3.1.10" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p><em>Palsar Forests</em> resurss ir balstīts PALSAR-2 sintētiskās aprertūras radara (SAR) atstarojumu klasifikācijā meža un nemeža zemēs ar 25 m pikseļa izšķirtspēju. Par mežu tiek klasificētas vismaz 0.5 ha plašas ar kokiem klātas teritorijas, kurās koku (vismaz 5 m augstu) seguma ir vismaz 10% <span class="citation">(<a href="#ref-PALSARForest">Shimada et al., 2013</a>)</span>. Dati ir pieejami <a href="https://developers.google.com/earth-engine/datasets/catalog/JAXA_ALOS_PALSAR_YEARLY_FNF4">GEE</a>. Šajā projektā izmantota 4-klašu versija (1=Dense Forest, 2=Non-dense Forest, 3=Non-Forest, 4=Water), kurā pēdējais koku seguma datēšanas gads ir 2020, to sagatavojot lejupielādei GEE platformā ar <a href="https://code.earthengine.google.com/3ec78ab057e6c8910cb1546002132b34?noload=true">šo replicēšanas skriptu</a>. Lai izmantotu šo skriptu, ir nepieciešams <a href="https://code.earthengine.google.com/register">GEE konts un projekts</a> un pietiekošs apjoms vietas Google Drive diskā. Izpildot komandrindas tiks piedāvāta lejuplāde failam, kuru nepieciešams saglabāt Google diskā.</p>
<p>Pēc komandrindu izpildes un rezultātu sagatavošanas Google Drive diskā, ir lejupielādējami četri faili. Tos nepieciešams projektēt atbilstībai references rastram un apvienot. Šajā resursā koki ir kodēti divās grupās: 1=Dense Forest un 2=Non-dense Forest, kuras nepieciešams apvienot un pārējo pārvērst par iztrūkstošajām vērtībām.</p>
<p>Lai gan šī resursa dati raksturo situāciju 2020. nevis 2023. gadā, tie ir izmantoti, jo koku vainagu seguma izzušanu raksturošanai ir pieejami <a href="Chapter3.html#Chapter3.1.9"><em>The Global Forest Watch</em></a> dati, bet vainagu parādīšanās nav tik strauja, lai būtu nozīmīgas izmaiņas trīs gadu laikā, un šis gads atrodas pa vidu ar novērojumiem aptvertajam laika periodam (2017.-2023. gadi).</p>
<details class=chunk-details><summary class=chunk-summary><span class=chunk-summary-text>Code</span></summary>
<div class="sourceCode" id="cb14"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb14-1"><a href="Chapter3.html#cb14-1" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(tidyverse)) {<span class="fu">install.packages</span>(<span class="st">&quot;tidyverse&quot;</span>); <span class="fu">require</span>(tidyverse)}</span>
<span id="cb14-2"><a href="Chapter3.html#cb14-2" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(terra)) {<span class="fu">install.packages</span>(<span class="st">&quot;terra&quot;</span>); <span class="fu">require</span>(terra)}</span>
<span id="cb14-3"><a href="Chapter3.html#cb14-3" tabindex="-1"></a></span>
<span id="cb14-4"><a href="Chapter3.html#cb14-4" tabindex="-1"></a><span class="co"># reference</span></span>
<span id="cb14-5"><a href="Chapter3.html#cb14-5" tabindex="-1"></a>paraugs<span class="ot">=</span><span class="fu">rast</span>(<span class="st">&quot;./Templates/TemplateRasters/LV10m_10km.tif&quot;</span>)</span>
<span id="cb14-6"><a href="Chapter3.html#cb14-6" tabindex="-1"></a></span>
<span id="cb14-7"><a href="Chapter3.html#cb14-7" tabindex="-1"></a><span class="co"># Palsar Trees</span></span>
<span id="cb14-8"><a href="Chapter3.html#cb14-8" tabindex="-1"></a>fnf1<span class="ot">=</span><span class="fu">rast</span>(<span class="st">&quot;./IevadesDati/koki/RAW/ForestNonForest-0000023296-0000023296.tif&quot;</span>)</span>
<span id="cb14-9"><a href="Chapter3.html#cb14-9" tabindex="-1"></a>fnf2<span class="ot">=</span><span class="fu">rast</span>(<span class="st">&quot;./IevadesDati/koki/RAW/ForestNonForest-0000023296-0000000000.tif&quot;</span>)</span>
<span id="cb14-10"><a href="Chapter3.html#cb14-10" tabindex="-1"></a>fnf3<span class="ot">=</span><span class="fu">rast</span>(<span class="st">&quot;./IevadesDati/koki/RAW/ForestNonForest-0000000000-0000023296.tif&quot;</span>)</span>
<span id="cb14-11"><a href="Chapter3.html#cb14-11" tabindex="-1"></a>fnf4<span class="ot">=</span><span class="fu">rast</span>(<span class="st">&quot;./IevadesDati/koki/RAW/ForestNonForest-0000000000-0000000000.tif&quot;</span>)</span>
<span id="cb14-12"><a href="Chapter3.html#cb14-12" tabindex="-1"></a></span>
<span id="cb14-13"><a href="Chapter3.html#cb14-13" tabindex="-1"></a><span class="co"># projektēšana</span></span>
<span id="cb14-14"><a href="Chapter3.html#cb14-14" tabindex="-1"></a>fnf1p<span class="ot">=</span>terra<span class="sc">::</span><span class="fu">project</span>(fnf1,paraugs)</span>
<span id="cb14-15"><a href="Chapter3.html#cb14-15" tabindex="-1"></a>fnf2p<span class="ot">=</span>terra<span class="sc">::</span><span class="fu">project</span>(fnf2,paraugs)</span>
<span id="cb14-16"><a href="Chapter3.html#cb14-16" tabindex="-1"></a>fnf3p<span class="ot">=</span>terra<span class="sc">::</span><span class="fu">project</span>(fnf3,paraugs)</span>
<span id="cb14-17"><a href="Chapter3.html#cb14-17" tabindex="-1"></a>fnf4p<span class="ot">=</span>terra<span class="sc">::</span><span class="fu">project</span>(fnf4,paraugs)</span>
<span id="cb14-18"><a href="Chapter3.html#cb14-18" tabindex="-1"></a></span>
<span id="cb14-19"><a href="Chapter3.html#cb14-19" tabindex="-1"></a><span class="co"># Apvienošana</span></span>
<span id="cb14-20"><a href="Chapter3.html#cb14-20" tabindex="-1"></a>fnfA<span class="ot">=</span>terra<span class="sc">::</span><span class="fu">merge</span>(fnf1p,fnf2p)</span>
<span id="cb14-21"><a href="Chapter3.html#cb14-21" tabindex="-1"></a>fnfB<span class="ot">=</span>terra<span class="sc">::</span><span class="fu">merge</span>(fnfA,fnf3p)</span>
<span id="cb14-22"><a href="Chapter3.html#cb14-22" tabindex="-1"></a>fnfC<span class="ot">=</span>terra<span class="sc">::</span><span class="fu">merge</span>(fnfB,fnf4p)</span>
<span id="cb14-23"><a href="Chapter3.html#cb14-23" tabindex="-1"></a></span>
<span id="cb14-24"><a href="Chapter3.html#cb14-24" tabindex="-1"></a><span class="co"># Reklasificēšana</span></span>
<span id="cb14-25"><a href="Chapter3.html#cb14-25" tabindex="-1"></a>fnf_X<span class="ot">=</span><span class="fu">ifel</span>(fnfC<span class="sc">&lt;=</span><span class="dv">2</span><span class="sc">&amp;</span>fnfC<span class="sc">&gt;=</span><span class="dv">1</span>,<span class="dv">1</span>,<span class="cn">NA</span>)</span>
<span id="cb14-26"><a href="Chapter3.html#cb14-26" tabindex="-1"></a></span>
<span id="cb14-27"><a href="Chapter3.html#cb14-27" tabindex="-1"></a><span class="co"># Maskēšana un saglabāšana</span></span>
<span id="cb14-28"><a href="Chapter3.html#cb14-28" tabindex="-1"></a>fnf_XX<span class="ot">=</span><span class="fu">mask</span>(fnf_X,paraugs,<span class="at">filename=</span><span class="st">&quot;./IevadesDati/koki/Palsar_Forests.tif&quot;</span>,<span class="at">overwrite=</span><span class="cn">TRUE</span>)</span></code></pre></div>
</details>
<p><br></p>
</div>
<div id="Chapter3.1.11" class="section level3 hasAnchor" number="3.1.11">
<h3><span class="header-section-number">3.1.11</span> ERA5 Land<a href="Chapter3.html#Chapter3.1.11" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>ERA5-Land ir sauszemei veikta klimata (laika apstākļu) pazīmju reanalīze sauszemei 0.1° izšķirtspējā un aptver laika periodu kopš 1950. gada janvāra līdz mūsdienām (datu kopa tiek nepārtraukti papildināta) ar stundas temporālo izšķirtspēju <span class="citation">(<a href="#ref-ERA5Land">Sabater, n.d.</a>)</span>. Oriģināldati lejupielādei ir pieejami <em>ESA Copernicus Clima Data Store</em> (<a href="https://cds.climate.copernicus.eu/datasets/reanalysis-era5-land?tab=download" class="uri">https://cds.climate.copernicus.eu/datasets/reanalysis-era5-land?tab=download</a>), tie pieejami arī <em>Google Earth Engine</em> platformā <span class="citation">(<a href="#ref-GEEpaper">Gorelick et al., 2017</a>)</span> kā <a href="https://developers.google.com/earth-engine/datasets/catalog/ECMWF_ERA5_LAND_DAILY_AGGR">dienas</a> un <a href="https://developers.google.com/earth-engine/datasets/catalog/ECMWF_ERA5_LAND_MONTHLY_AGGR">mēneša</a> līmeņu agregāti. Šie agregāti izmantoti sugu izplatības modelēšanai nepieciešamo pazīmju jēladatu sagatavošanai - <a href="https://code.earthengine.google.com/4f1597f749ad4296ca46b373d8c4bd2f?noload=true">izmantotās komandu rindas</a>. Piedāvātais skripts aprēķina vairākas pazīmes un piedāvā to lejupielādi <em>Google Drive direktorijā</em>. Lai izmantotu šo skriptu, ir nepieciešams <a href="https://code.earthengine.google.com/register">GEE konts un projekts</a> un pietiekošs apjoms vietas Google Drive diskā. Skripta izpildīšana lejupielādei piedāvās sekojošus failus:</p>
<ul>
<li><p><code>FebPrec</code>, kas raksturo ik pikseļa mediānu starp ik februāra (gada aukstākais mēnesis Latvijā) kopējo nokrišņu summām ik gadā no 2015. līdz 2023.;</p></li>
<li><p><code>FebTempSum</code>, kas raksturo ik pikseļa mediānu starp ik februāra (gada aukstākais mēnesis Latvijā) ikdienas vidējo gaisa temperatūru (2 m virs zemes) summām ik gadā no 2015. līdz 2023.;</p></li>
<li><p><code>JulPrec</code>, kas raksturo ik pikseļa mediānu starp ik jūlija (gada siltākais mēnesis Latvijā) kopējo nokrišņu summām ik gadā no 2015. līdz 2023.;</p></li>
<li><p><code>PosTempDays</code>, kas raksturo ik pikseļa mediānu starp dienu, kuru vidējā gaisa temperatūra (2 m virs zemes) ir vismaz 275°K (~0°C), skaitu ik gadā no 2015. līdz 2023.;</p></li>
<li><p><code>VegTempSums</code>, kas raksturo ik pikseļa mediānu starp ik dienas, kuras vidējā gaisa temperatūra (2 m virs zemes) ir vismaz 279°K (~5°C), summu ik gadā no 2015. līdz 2023.;</p></li>
<li><p><code>YearPrecSum</code>, kas raksturo ik pikseļa mediānu starp ik mēneša kopējo nokrišņu daudzuma summām ik gadā no 2015. līdz 2023..</p></li>
</ul>
<p>Tā kā klimata datu kodējums ir <em>Float</em>, tie tiek sagatavoti kā no četrām lapām (katram slānim) sastāvoši GeoTIFF faili, kurua nepieciešams lejupielādēt darba cietajā diskā. Sekojošās komandu rindas nodrošina šo lapu apvienošanu un projektēšu atbilstībai references rastram.</p>
<details class=chunk-details><summary class=chunk-summary><span class=chunk-summary-text>Code</span></summary>
<div class="sourceCode" id="cb15"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb15-1"><a href="Chapter3.html#cb15-1" tabindex="-1"></a><span class="co"># libs</span></span>
<span id="cb15-2"><a href="Chapter3.html#cb15-2" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(terra)) {<span class="fu">install.packages</span>(<span class="st">&quot;terra&quot;</span>); <span class="fu">require</span>(terra)}</span>
<span id="cb15-3"><a href="Chapter3.html#cb15-3" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(sf)) {<span class="fu">install.packages</span>(<span class="st">&quot;sf&quot;</span>); <span class="fu">require</span>(sf)}</span>
<span id="cb15-4"><a href="Chapter3.html#cb15-4" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(tidyverse)) {<span class="fu">install.packages</span>(<span class="st">&quot;tidyverse&quot;</span>); <span class="fu">require</span>(tidyverse)}</span>
<span id="cb15-5"><a href="Chapter3.html#cb15-5" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(arrow)) {<span class="fu">install.packages</span>(<span class="st">&quot;arrow&quot;</span>); <span class="fu">require</span>(arrow)}</span>
<span id="cb15-6"><a href="Chapter3.html#cb15-6" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(sfarrow)) {<span class="fu">install.packages</span>(<span class="st">&quot;sfarrow&quot;</span>); <span class="fu">require</span>(sfarrow)}</span>
<span id="cb15-7"><a href="Chapter3.html#cb15-7" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(exactextractr)){<span class="fu">install.packages</span>(<span class="st">&quot;exactextractr&quot;</span>);<span class="fu">require</span>(exactextractr)}</span>
<span id="cb15-8"><a href="Chapter3.html#cb15-8" tabindex="-1"></a></span>
<span id="cb15-9"><a href="Chapter3.html#cb15-9" tabindex="-1"></a><span class="co"># reference</span></span>
<span id="cb15-10"><a href="Chapter3.html#cb15-10" tabindex="-1"></a>template<span class="ot">=</span><span class="fu">rast</span>(<span class="st">&quot;./Templates/TemplateRasters/LV10m_10km.tif&quot;</span>)</span>
<span id="cb15-11"><a href="Chapter3.html#cb15-11" tabindex="-1"></a></span>
<span id="cb15-12"><a href="Chapter3.html#cb15-12" tabindex="-1"></a><span class="co"># DW export no GEE </span></span>
<span id="cb15-13"><a href="Chapter3.html#cb15-13" tabindex="-1"></a>faili<span class="ot">=</span><span class="fu">data.frame</span>(<span class="at">fails=</span><span class="fu">list.files</span>(<span class="st">&quot;./IevadesDati/klimats/RAW/&quot;</span>))</span>
<span id="cb15-14"><a href="Chapter3.html#cb15-14" tabindex="-1"></a>faili<span class="sc">$</span>celi_sakums<span class="ot">=</span><span class="fu">paste0</span>(<span class="st">&quot;./IevadesDati/klimats/RAW/&quot;</span>,faili<span class="sc">$</span>fails)</span>
<span id="cb15-15"><a href="Chapter3.html#cb15-15" tabindex="-1"></a></span>
<span id="cb15-16"><a href="Chapter3.html#cb15-16" tabindex="-1"></a><span class="co"># Sagatavošana</span></span>
<span id="cb15-17"><a href="Chapter3.html#cb15-17" tabindex="-1"></a>faili<span class="ot">=</span>faili <span class="sc">%&gt;%</span> </span>
<span id="cb15-18"><a href="Chapter3.html#cb15-18" tabindex="-1"></a>  <span class="fu">separate</span>(fails,<span class="at">into=</span><span class="fu">c</span>(<span class="st">&quot;nosaukums&quot;</span>,<span class="st">&quot;vidus&quot;</span>,<span class="st">&quot;beigas&quot;</span>),<span class="at">sep=</span><span class="st">&quot;-&quot;</span>,<span class="at">remove =</span> <span class="cn">FALSE</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb15-19"><a href="Chapter3.html#cb15-19" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">mosaic_name=</span><span class="fu">paste0</span>(nosaukums,<span class="st">&quot;.tif&quot;</span>),</span>
<span id="cb15-20"><a href="Chapter3.html#cb15-20" tabindex="-1"></a>         <span class="at">masaic_cels=</span><span class="fu">paste0</span>(<span class="st">&quot;./IevadesDati/klimats/mozaikas/&quot;</span>,mosaic_name))</span>
<span id="cb15-21"><a href="Chapter3.html#cb15-21" tabindex="-1"></a></span>
<span id="cb15-22"><a href="Chapter3.html#cb15-22" tabindex="-1"></a>unikalie<span class="ot">=</span><span class="fu">levels</span>(<span class="fu">factor</span>(faili<span class="sc">$</span>nosaukums))</span>
<span id="cb15-23"><a href="Chapter3.html#cb15-23" tabindex="-1"></a><span class="cf">for</span>(i <span class="cf">in</span> <span class="fu">seq_along</span>(unikalie)){</span>
<span id="cb15-24"><a href="Chapter3.html#cb15-24" tabindex="-1"></a>  unikalais<span class="ot">=</span>faili <span class="sc">%&gt;%</span> <span class="fu">filter</span>(nosaukums<span class="sc">==</span>unikalie[i])</span>
<span id="cb15-25"><a href="Chapter3.html#cb15-25" tabindex="-1"></a>  beigu_cels<span class="ot">=</span><span class="fu">unique</span>(unikalais<span class="sc">$</span>masaic_cels)</span>
<span id="cb15-26"><a href="Chapter3.html#cb15-26" tabindex="-1"></a>  <span class="co"># katrs slānis sastāv no četrām lapām</span></span>
<span id="cb15-27"><a href="Chapter3.html#cb15-27" tabindex="-1"></a>  viens<span class="ot">=</span><span class="fu">rast</span>(unikalais<span class="sc">$</span>celi_sakums[<span class="dv">1</span>])</span>
<span id="cb15-28"><a href="Chapter3.html#cb15-28" tabindex="-1"></a>  divi<span class="ot">=</span><span class="fu">rast</span>(unikalais<span class="sc">$</span>celi_sakums[<span class="dv">2</span>])</span>
<span id="cb15-29"><a href="Chapter3.html#cb15-29" tabindex="-1"></a>  tris<span class="ot">=</span><span class="fu">rast</span>(unikalais<span class="sc">$</span>celi_sakums[<span class="dv">3</span>])</span>
<span id="cb15-30"><a href="Chapter3.html#cb15-30" tabindex="-1"></a>  cetri<span class="ot">=</span><span class="fu">rast</span>(unikalais<span class="sc">$</span>celi_sakums[<span class="dv">4</span>])</span>
<span id="cb15-31"><a href="Chapter3.html#cb15-31" tabindex="-1"></a>  </span>
<span id="cb15-32"><a href="Chapter3.html#cb15-32" tabindex="-1"></a>  viens2<span class="ot">=</span>terra<span class="sc">::</span><span class="fu">project</span>(viens,paraugs)</span>
<span id="cb15-33"><a href="Chapter3.html#cb15-33" tabindex="-1"></a>  divi2<span class="ot">=</span>terra<span class="sc">::</span><span class="fu">project</span>(divi,paraugs)</span>
<span id="cb15-34"><a href="Chapter3.html#cb15-34" tabindex="-1"></a>  tris2<span class="ot">=</span>terra<span class="sc">::</span><span class="fu">project</span>(tris,paraugs)</span>
<span id="cb15-35"><a href="Chapter3.html#cb15-35" tabindex="-1"></a>  cetri2<span class="ot">=</span>terra<span class="sc">::</span><span class="fu">project</span>(cetri,paraugs)</span>
<span id="cb15-36"><a href="Chapter3.html#cb15-36" tabindex="-1"></a>  </span>
<span id="cb15-37"><a href="Chapter3.html#cb15-37" tabindex="-1"></a>  mozaika<span class="ot">=</span>terra<span class="sc">::</span><span class="fu">merge</span>(viens2,divi2,tris2,cetri2)</span>
<span id="cb15-38"><a href="Chapter3.html#cb15-38" tabindex="-1"></a>  maskets<span class="ot">=</span><span class="fu">mask</span>(mozaika,paraugs,<span class="at">filename=</span>beigu_cels,<span class="at">overwrite=</span><span class="cn">TRUE</span>)</span>
<span id="cb15-39"><a href="Chapter3.html#cb15-39" tabindex="-1"></a>}</span></code></pre></div>
</details>
<p><br></p>
</div>
<div id="Chapter3.1.12" class="section level3 hasAnchor" number="3.1.12">
<h3><span class="header-section-number">3.1.12</span> Augsnes auglīgums<a href="Chapter3.html#Chapter3.1.12" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Latvijas Universitātē GeoTIFF fails (EPSG:3857, 100 m) ar organiskā oglekļa līmeni augsnes virsējā slāni saņemts 2024. gada februārī no Eiropas vienotā pētījumu centra (<em>European Joint Research Center</em>). Šis slānis tālāk projektēts atbilstībai references rastram un izmantots EGV sagatavošanā.</p>
<details class=chunk-details><summary class=chunk-summary><span class=chunk-summary-text>Code</span></summary>
<div class="sourceCode" id="cb16"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb16-1"><a href="Chapter3.html#cb16-1" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(terra)) {<span class="fu">install.packages</span>(<span class="st">&quot;terra&quot;</span>); <span class="fu">require</span>(terra)}</span>
<span id="cb16-2"><a href="Chapter3.html#cb16-2" tabindex="-1"></a></span>
<span id="cb16-3"><a href="Chapter3.html#cb16-3" tabindex="-1"></a><span class="co"># reference</span></span>
<span id="cb16-4"><a href="Chapter3.html#cb16-4" tabindex="-1"></a>template<span class="ot">=</span><span class="fu">rast</span>(<span class="st">&quot;./Templates/TemplateRasters/LV10m_10km.tif&quot;</span>)</span>
<span id="cb16-5"><a href="Chapter3.html#cb16-5" tabindex="-1"></a></span>
<span id="cb16-6"><a href="Chapter3.html#cb16-6" tabindex="-1"></a><span class="co"># slanis</span></span>
<span id="cb16-7"><a href="Chapter3.html#cb16-7" tabindex="-1"></a>oc<span class="ot">=</span><span class="fu">rast</span>(<span class="st">&quot;./IevadesDati/Augsnes/noIvo/LV_OC.tif&quot;</span>)</span>
<span id="cb16-8"><a href="Chapter3.html#cb16-8" tabindex="-1"></a></span>
<span id="cb16-9"><a href="Chapter3.html#cb16-9" tabindex="-1"></a><span class="co"># projektēšana</span></span>
<span id="cb16-10"><a href="Chapter3.html#cb16-10" tabindex="-1"></a>oc2<span class="ot">=</span><span class="fu">project</span>(oc,template_100m,<span class="at">use_gdal=</span><span class="cn">TRUE</span>,<span class="at">method=</span><span class="st">&quot;bilinear&quot;</span>)</span>
<span id="cb16-11"><a href="Chapter3.html#cb16-11" tabindex="-1"></a><span class="fu">writeRaster</span>(oc2,<span class="st">&quot;./IevadesDati/Augsnes/noIvo/OrganicCarbon.tif&quot;</span>)</span></code></pre></div>
</details>
<p><br></p>
</div>
<div id="Chapter3.1.13" class="section level3 hasAnchor" number="3.1.13">
<h3><span class="header-section-number">3.1.13</span> Digitālie reljefa modeļi<a href="Chapter3.html#Chapter3.1.13" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Līdz ar Latvijas teritorijas vienlaidus aerolāzerskenēšanas datu publiskošanu (<a href="https://www.lgia.gov.lv/lv/digitalie-augstuma-modeli-0" class="uri">https://www.lgia.gov.lv/lv/digitalie-augstuma-modeli-0</a>) ir izstrādāti dažādi augstas izšķirtspējas (1 m un augstāka) digitālie virsmas modeļi (DSM) un digitālie reljefa modeļi (DEM). Tā kā ievades dati visos gadījumos ir vieni un tie paši, gandrīz visā valsts teritorijā šo (atbilstošo) modeļu vērtības ir vienādas. Tomēr, ne visai valsts teritorijai ir pieejami aerolāzerskenēšanas dati (1), starp modeļiem ir novērojamas atšķirības aizpildījumā (vērtību pieejamībā) ārpus iekšzemes ūdeņiem (2) un pašu ūdensobjektu aizpildījums (3), tomēr, attiecībā uz ar datiem nosegtajām vietām uz sauszemes, vērtības ir gandrīz identiskas (Pīrsona korelācijas koeficienti starp LU ĢZZF, LVMI Silava un LĢIA izstrādātajiem DEM ir lielāki par 0.999999).</p>
<p>Kā pamata DEM izmantots LU projektā “Ilgtspējīgas augsnes resursu pārvaldības uzlabošana lauksaimniecībā” sagatavotais vidējais aritmētiskais starp LU ĢZZF un LVMI Silava izstrādātajiem DEM. Šī DEM izšķirtspēja ir 1 m, kas nav nepieciešama sugu izplatības modelēšanas ievades datiem, tādēļ slānis projektēts atbilstībai references 10 m rastram.</p>
<p>Salīdzinot projektēto DEM ar referenci, ir skaidri izdalāmas vietas, kurās nav datu. Tas risināts, izmantojot Māra Nartiša (LU ĢZZF) 2018. gadā izstrādāto visu Latvijas teritoriju bez pārrāvumiem aptverošais DEM ar 10 m izšķirtspēju. Lai novērstu asu malu veidošanās aizpildījuma vietās (izlīdzinātu pārejas), veidots vidējais aritmētiskais slānis, kurš aptver visu Latvijas teritoriju un sakrīt ar references rastru.</p>
<p>No šī rastra izveidots arī nogāžu slīpuma slānis, kurš projektēts atbilstoši referencei. Slīpums izteikts grādos un rēķināts ar 8-kaimiņu pieeju. Tāpat arī aspekts jev nogāzes virziens.</p>
<details class=chunk-details><summary class=chunk-summary><span class=chunk-summary-text>Code</span></summary>
<div class="sourceCode" id="cb17"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb17-1"><a href="Chapter3.html#cb17-1" tabindex="-1"></a><span class="co"># libs</span></span>
<span id="cb17-2"><a href="Chapter3.html#cb17-2" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(terra)) {<span class="fu">install.packages</span>(<span class="st">&quot;terra&quot;</span>); <span class="fu">require</span>(terra)}</span>
<span id="cb17-3"><a href="Chapter3.html#cb17-3" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(sf)) {<span class="fu">install.packages</span>(<span class="st">&quot;sf&quot;</span>); <span class="fu">require</span>(sf)}</span>
<span id="cb17-4"><a href="Chapter3.html#cb17-4" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(tidyverse)) {<span class="fu">install.packages</span>(<span class="st">&quot;tidyverse&quot;</span>); <span class="fu">require</span>(tidyverse)}</span>
<span id="cb17-5"><a href="Chapter3.html#cb17-5" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(arrow)) {<span class="fu">install.packages</span>(<span class="st">&quot;arrow&quot;</span>); <span class="fu">require</span>(arrow)}</span>
<span id="cb17-6"><a href="Chapter3.html#cb17-6" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(sfarrow)) {<span class="fu">install.packages</span>(<span class="st">&quot;sfarrow&quot;</span>); <span class="fu">require</span>(sfarrow)}</span>
<span id="cb17-7"><a href="Chapter3.html#cb17-7" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(exactextractr)){<span class="fu">install.packages</span>(<span class="st">&quot;exactextractr&quot;</span>);<span class="fu">require</span>(exactextractr)}</span>
<span id="cb17-8"><a href="Chapter3.html#cb17-8" tabindex="-1"></a></span>
<span id="cb17-9"><a href="Chapter3.html#cb17-9" tabindex="-1"></a><span class="co"># reference</span></span>
<span id="cb17-10"><a href="Chapter3.html#cb17-10" tabindex="-1"></a>template<span class="ot">=</span><span class="fu">rast</span>(<span class="st">&quot;./Templates/TemplateRasters/LV10m_10km.tif&quot;</span>)</span>
<span id="cb17-11"><a href="Chapter3.html#cb17-11" tabindex="-1"></a></span>
<span id="cb17-12"><a href="Chapter3.html#cb17-12" tabindex="-1"></a><span class="co"># LiDAR DEM uz 10 m </span></span>
<span id="cb17-13"><a href="Chapter3.html#cb17-13" tabindex="-1"></a></span>
<span id="cb17-14"><a href="Chapter3.html#cb17-14" tabindex="-1"></a>lapas_1m<span class="ot">=</span><span class="fu">data.frame</span>(<span class="at">faili=</span><span class="fu">list.files</span>(<span class="st">&quot;./IevadesDati/reljefs/meanDEM_1mOLD/&quot;</span>,<span class="at">pattern=</span><span class="st">&quot;*.tif$&quot;</span>))</span>
<span id="cb17-15"><a href="Chapter3.html#cb17-15" tabindex="-1"></a>lapas_1m<span class="sc">$</span>numurs<span class="ot">=</span><span class="fu">substr</span>(lapas_1m<span class="sc">$</span>faili,<span class="dv">10</span>,<span class="dv">13</span>)</span>
<span id="cb17-16"><a href="Chapter3.html#cb17-16" tabindex="-1"></a>lapas_1m<span class="sc">$</span>cels1<span class="ot">=</span><span class="fu">paste0</span>(<span class="st">&quot;./IevadesDati/reljefs/meanDEM_1mOLD/&quot;</span>,lapas_1m<span class="sc">$</span>faili)</span>
<span id="cb17-17"><a href="Chapter3.html#cb17-17" tabindex="-1"></a>lapas_1m<span class="sc">$</span>cels2<span class="ot">=</span><span class="fu">paste0</span>(<span class="st">&quot;./IevadesDati/reljefs/meanDEM_10mOLD/&quot;</span>,lapas_1m<span class="sc">$</span>faili)</span>
<span id="cb17-18"><a href="Chapter3.html#cb17-18" tabindex="-1"></a></span>
<span id="cb17-19"><a href="Chapter3.html#cb17-19" tabindex="-1"></a>kvadrati<span class="ot">=</span><span class="fu">st_read</span>(<span class="at">dsn=</span><span class="st">&quot;GIS_Latvija10.2.gdb&quot;</span>,<span class="at">layer=</span><span class="st">&quot;tks93_50000&quot;</span>)</span>
<span id="cb17-20"><a href="Chapter3.html#cb17-20" tabindex="-1"></a>kvadrati<span class="sc">$</span>name<span class="ot">=</span><span class="fu">as.character</span>(kvadrati<span class="sc">$</span>num50tk)</span>
<span id="cb17-21"><a href="Chapter3.html#cb17-21" tabindex="-1"></a></span>
<span id="cb17-22"><a href="Chapter3.html#cb17-22" tabindex="-1"></a>moz2<span class="ot">=</span><span class="fu">rast</span>(<span class="st">&quot;./IevadesDati/reljefs/Nartiss_visa_Latvija/dem10_20_kopa.tif&quot;</span>)</span>
<span id="cb17-23"><a href="Chapter3.html#cb17-23" tabindex="-1"></a></span>
<span id="cb17-24"><a href="Chapter3.html#cb17-24" tabindex="-1"></a><span class="cf">for</span>(i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="fu">length</span>(kvadrati<span class="sc">$</span>name)){</span>
<span id="cb17-25"><a href="Chapter3.html#cb17-25" tabindex="-1"></a>  kvadrats<span class="ot">=</span>kvadrati[i,]</span>
<span id="cb17-26"><a href="Chapter3.html#cb17-26" tabindex="-1"></a>  nosaukums<span class="ot">=</span>kvadrats<span class="sc">$</span>name</span>
<span id="cb17-27"><a href="Chapter3.html#cb17-27" tabindex="-1"></a>  telpa<span class="ot">=</span>terra<span class="sc">::</span><span class="fu">ext</span>(kvadrats)</span>
<span id="cb17-28"><a href="Chapter3.html#cb17-28" tabindex="-1"></a>  </span>
<span id="cb17-29"><a href="Chapter3.html#cb17-29" tabindex="-1"></a>  paraugs<span class="ot">=</span><span class="fu">crop</span>(template,telpa)</span>
<span id="cb17-30"><a href="Chapter3.html#cb17-30" tabindex="-1"></a>  nart<span class="ot">=</span><span class="fu">crop</span>(moz2,telpa)</span>
<span id="cb17-31"><a href="Chapter3.html#cb17-31" tabindex="-1"></a>  nart2<span class="ot">=</span><span class="fu">project</span>(nart,paraugs,<span class="at">mask=</span><span class="cn">TRUE</span>)</span>
<span id="cb17-32"><a href="Chapter3.html#cb17-32" tabindex="-1"></a>  </span>
<span id="cb17-33"><a href="Chapter3.html#cb17-33" tabindex="-1"></a>  dem1m<span class="ot">=</span>lapas_1m[lapas_1m<span class="sc">$</span>numurs<span class="sc">==</span>kvadrats<span class="sc">$</span>name,]</span>
<span id="cb17-34"><a href="Chapter3.html#cb17-34" tabindex="-1"></a>  <span class="cf">if</span>(<span class="fu">nrow</span>(dem1m)<span class="sc">&gt;</span><span class="dv">0</span>){</span>
<span id="cb17-35"><a href="Chapter3.html#cb17-35" tabindex="-1"></a>    sakumcels<span class="ot">=</span>dem1m<span class="sc">$</span>cels1</span>
<span id="cb17-36"><a href="Chapter3.html#cb17-36" tabindex="-1"></a>    dem<span class="ot">=</span><span class="fu">rast</span>(sakumcels)</span>
<span id="cb17-37"><a href="Chapter3.html#cb17-37" tabindex="-1"></a>    reproj<span class="ot">=</span><span class="fu">project</span>(dem,paraugs,<span class="at">mask=</span><span class="cn">TRUE</span>,<span class="at">method=</span><span class="st">&quot;bilinear&quot;</span>,<span class="at">use_gdal=</span><span class="cn">TRUE</span>)</span>
<span id="cb17-38"><a href="Chapter3.html#cb17-38" tabindex="-1"></a>    videjais <span class="ot">&lt;-</span> <span class="fu">ifel</span>(<span class="fu">is.na</span>(nart2),nart2,<span class="fu">ifel</span>(<span class="fu">is.na</span>(reproj),nart2,</span>
<span id="cb17-39"><a href="Chapter3.html#cb17-39" tabindex="-1"></a>                                             <span class="fu">app</span>(<span class="fu">c</span>(nart2,reproj), mean)))</span>
<span id="cb17-40"><a href="Chapter3.html#cb17-40" tabindex="-1"></a>    <span class="fu">writeRaster</span>(videjais,<span class="at">overwrite=</span><span class="cn">TRUE</span>,</span>
<span id="cb17-41"><a href="Chapter3.html#cb17-41" tabindex="-1"></a>                <span class="at">filename=</span><span class="fu">paste0</span>(<span class="st">&quot;./IevadesDati/reljefs/meanDEM_10m/&quot;</span>,<span class="st">&quot;vidDEM_&quot;</span>,</span>
<span id="cb17-42"><a href="Chapter3.html#cb17-42" tabindex="-1"></a>                                nosaukums,<span class="st">&quot;.tif&quot;</span>))</span>
<span id="cb17-43"><a href="Chapter3.html#cb17-43" tabindex="-1"></a>  }</span>
<span id="cb17-44"><a href="Chapter3.html#cb17-44" tabindex="-1"></a>  <span class="cf">else</span>{</span>
<span id="cb17-45"><a href="Chapter3.html#cb17-45" tabindex="-1"></a>    <span class="fu">writeRaster</span>(nart2,<span class="at">overwrite=</span><span class="cn">TRUE</span>,</span>
<span id="cb17-46"><a href="Chapter3.html#cb17-46" tabindex="-1"></a>                <span class="at">filename=</span><span class="fu">paste0</span>(<span class="st">&quot;./IevadesDati/reljefs/meanDEM_10m/&quot;</span>,<span class="st">&quot;vidDEM_&quot;</span>,</span>
<span id="cb17-47"><a href="Chapter3.html#cb17-47" tabindex="-1"></a>                                nosaukums,<span class="st">&quot;.tif&quot;</span>))</span>
<span id="cb17-48"><a href="Chapter3.html#cb17-48" tabindex="-1"></a>  }</span>
<span id="cb17-49"><a href="Chapter3.html#cb17-49" tabindex="-1"></a>}</span>
<span id="cb17-50"><a href="Chapter3.html#cb17-50" tabindex="-1"></a></span>
<span id="cb17-51"><a href="Chapter3.html#cb17-51" tabindex="-1"></a><span class="co"># vrt un mozaika</span></span>
<span id="cb17-52"><a href="Chapter3.html#cb17-52" tabindex="-1"></a>lapas_10<span class="ot">=</span><span class="fu">data.frame</span>(<span class="at">faili=</span><span class="fu">list.files</span>(<span class="st">&quot;./IevadesDati/reljefs/meanDEM_10m/&quot;</span>,<span class="at">pattern=</span><span class="st">&quot;*.tif$&quot;</span>))</span>
<span id="cb17-53"><a href="Chapter3.html#cb17-53" tabindex="-1"></a>lapas_10<span class="sc">$</span>celi1<span class="ot">=</span><span class="fu">paste0</span>(<span class="st">&quot;./IevadesDati/reljefs/meanDEM_10m/&quot;</span>,lapas_10<span class="sc">$</span>faili)</span>
<span id="cb17-54"><a href="Chapter3.html#cb17-54" tabindex="-1"></a>mozaikai<span class="ot">=</span><span class="fu">vrt</span>(lapas_10<span class="sc">$</span>celi1,<span class="at">overwrite=</span><span class="cn">TRUE</span>,</span>
<span id="cb17-55"><a href="Chapter3.html#cb17-55" tabindex="-1"></a>             <span class="at">filename=</span><span class="st">&quot;./IevadesDati/reljefs/vrtDEM_10m.tif&quot;</span>)</span>
<span id="cb17-56"><a href="Chapter3.html#cb17-56" tabindex="-1"></a>mozaika<span class="ot">=</span><span class="fu">rast</span>(<span class="st">&quot;./IevadesDati/reljefs/vrtDEM_10m.tif&quot;</span>)</span>
<span id="cb17-57"><a href="Chapter3.html#cb17-57" tabindex="-1"></a><span class="fu">writeRaster</span>(mozaika,<span class="st">&quot;./IevadesDati/reljefs/mozDEM_10m.tif&quot;</span>)</span>
<span id="cb17-58"><a href="Chapter3.html#cb17-58" tabindex="-1"></a></span>
<span id="cb17-59"><a href="Chapter3.html#cb17-59" tabindex="-1"></a></span>
<span id="cb17-60"><a href="Chapter3.html#cb17-60" tabindex="-1"></a><span class="do">## slope</span></span>
<span id="cb17-61"><a href="Chapter3.html#cb17-61" tabindex="-1"></a>reljefs<span class="ot">=</span><span class="fu">rast</span>(<span class="st">&quot;./IevadesDati/reljefs/mozDEM_10m.tif&quot;</span>)</span>
<span id="cb17-62"><a href="Chapter3.html#cb17-62" tabindex="-1"></a>slipumi<span class="ot">=</span><span class="fu">terrain</span>(reljefs, <span class="at">v=</span><span class="st">&quot;slope&quot;</span>, <span class="at">neighbors=</span><span class="dv">8</span>, <span class="at">unit=</span><span class="st">&quot;degrees&quot;</span>, </span>
<span id="cb17-63"><a href="Chapter3.html#cb17-63" tabindex="-1"></a>                <span class="at">filename=</span><span class="st">&quot;./Rastri_10m/Slope_10m.tif&quot;</span>, <span class="at">overwrite=</span><span class="cn">TRUE</span>)  </span>
<span id="cb17-64"><a href="Chapter3.html#cb17-64" tabindex="-1"></a></span>
<span id="cb17-65"><a href="Chapter3.html#cb17-65" tabindex="-1"></a></span>
<span id="cb17-66"><a href="Chapter3.html#cb17-66" tabindex="-1"></a><span class="do">## aspect </span></span>
<span id="cb17-67"><a href="Chapter3.html#cb17-67" tabindex="-1"></a>reljefs<span class="ot">=</span><span class="fu">rast</span>(<span class="st">&quot;./IevadesDati/reljefs/mozDEM_10m.tif&quot;</span>)</span>
<span id="cb17-68"><a href="Chapter3.html#cb17-68" tabindex="-1"></a>virzieni<span class="ot">=</span><span class="fu">terrain</span>(reljefs, <span class="at">v=</span><span class="st">&quot;aspect&quot;</span>, <span class="at">neighbors=</span><span class="dv">8</span>, <span class="at">unit=</span><span class="st">&quot;degrees&quot;</span>, </span>
<span id="cb17-69"><a href="Chapter3.html#cb17-69" tabindex="-1"></a>                 <span class="at">filename=</span><span class="st">&quot;./Rastri_10m/Aspect_10m.tif&quot;</span>, <span class="at">overwrite=</span><span class="cn">TRUE</span>)</span></code></pre></div>
</details>
<p><br></p>
</div>
</div>
<div id="Chapter3.2" class="section level2 hasAnchor" number="3.2">
<h2><span class="header-section-number">3.2</span> Ievades produkti<a href="Chapter3.html#Chapter3.2" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Atsevišķos gadījumos ievades datiem veikta relatīvi apjomīga apstrāde (sagatavojot ievades produktus), kas nepieciešama turpmākajam darbam - ekoģeogrāfisko mainīgu sagatavošanai un novērojumu filtrēšanai. Šie produkti un to izstrādes gaita raksturota atbilstošajās apakšnodaļās.</p>
<div id="Chapter3.2.1" class="section level3 hasAnchor" number="3.2.1">
<h3><span class="header-section-number">3.2.1</span> Reljefa produkti<a href="Chapter3.html#Chapter3.2.1" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Lai izstrādātu daļu ar reljefu saistīto EGV, piemēram, topogrāfisko mitruma indeksu (TWI) un beznotekas depresijas, ir nepieciešams risināt ūdens plūsmu vidē. Tā vairāku soļu procedūra, kas ir loģiska un uzticama kalnu apvidos un vidē ar maz ietekmētu hidroloģiju. Tātad, Latvijas apstākļos tas ir izaicinoši. Šos izaicinājumus var risināt dažādi, piemēram, ja būtu pieejama uzticama (precīza) informācija par upju un grāvji precīzām atrašanās vietām, to varētu iestrādāt reljefā. Diemžēl, pietiekoši precīzas informāicjas nav. Tādēļ izaicinājumu risināšanai izmantota informācija par transporta būvēm no <a href="Chapter3.html#Chapter3.1.4">Meliorācijas Kadastra Informācijas Sistēmas datubāze</a> un tiltiem no <a href="Chapter3.html#Chapter3.1.3">LĢIA topogrāfiskā karte</a> - 30 m buferī ap šīm vietām iestrādāta minimālā augstuma virs jūras līmeņa informācija tālāk izmantojamajā DEM.</p>
<details class=chunk-details><summary class=chunk-summary><span class=chunk-summary-text>Code</span></summary>
<div class="sourceCode" id="cb18"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb18-1"><a href="Chapter3.html#cb18-1" tabindex="-1"></a><span class="co"># libs</span></span>
<span id="cb18-2"><a href="Chapter3.html#cb18-2" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(terra)) {<span class="fu">install.packages</span>(<span class="st">&quot;terra&quot;</span>); <span class="fu">require</span>(terra)}</span>
<span id="cb18-3"><a href="Chapter3.html#cb18-3" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(sf)) {<span class="fu">install.packages</span>(<span class="st">&quot;sf&quot;</span>); <span class="fu">require</span>(sf)}</span>
<span id="cb18-4"><a href="Chapter3.html#cb18-4" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(tidyverse)) {<span class="fu">install.packages</span>(<span class="st">&quot;tidyverse&quot;</span>); <span class="fu">require</span>(tidyverse)}</span>
<span id="cb18-5"><a href="Chapter3.html#cb18-5" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(arrow)) {<span class="fu">install.packages</span>(<span class="st">&quot;arrow&quot;</span>); <span class="fu">require</span>(arrow)}</span>
<span id="cb18-6"><a href="Chapter3.html#cb18-6" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(sfarrow)) {<span class="fu">install.packages</span>(<span class="st">&quot;sfarrow&quot;</span>); <span class="fu">require</span>(sfarrow)}</span>
<span id="cb18-7"><a href="Chapter3.html#cb18-7" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(exactextractr)){<span class="fu">install.packages</span>(<span class="st">&quot;exactextractr&quot;</span>);<span class="fu">require</span>(exactextractr)}</span>
<span id="cb18-8"><a href="Chapter3.html#cb18-8" tabindex="-1"></a></span>
<span id="cb18-9"><a href="Chapter3.html#cb18-9" tabindex="-1"></a><span class="co"># reference</span></span>
<span id="cb18-10"><a href="Chapter3.html#cb18-10" tabindex="-1"></a>template<span class="ot">=</span><span class="fu">rast</span>(<span class="st">&quot;./Templates/TemplateRasters/LV10m_10km.tif&quot;</span>)</span>
<span id="cb18-11"><a href="Chapter3.html#cb18-11" tabindex="-1"></a></span>
<span id="cb18-12"><a href="Chapter3.html#cb18-12" tabindex="-1"></a><span class="co"># reljefs</span></span>
<span id="cb18-13"><a href="Chapter3.html#cb18-13" tabindex="-1"></a>reljefs<span class="ot">=</span><span class="fu">rast</span>(<span class="st">&quot;./IevadesDati/reljefs/mozDEM_10m.tif&quot;</span>)</span>
<span id="cb18-14"><a href="Chapter3.html#cb18-14" tabindex="-1"></a></span>
<span id="cb18-15"><a href="Chapter3.html#cb18-15" tabindex="-1"></a><span class="co"># caurtekas</span></span>
<span id="cb18-16"><a href="Chapter3.html#cb18-16" tabindex="-1"></a>caurtekas<span class="ot">=</span><span class="fu">st_read</span>(<span class="at">dsn=</span><span class="st">&quot;./IevadesDati/MKIS/MKIS_20180612.gdb/&quot;</span>,<span class="at">layer=</span><span class="st">&quot;TransportStructures&quot;</span>)</span>
<span id="cb18-17"><a href="Chapter3.html#cb18-17" tabindex="-1"></a>caurtekas_buffer<span class="ot">=</span><span class="fu">st_buffer</span>(caurtekas,<span class="at">dist=</span><span class="dv">30</span>)</span>
<span id="cb18-18"><a href="Chapter3.html#cb18-18" tabindex="-1"></a></span>
<span id="cb18-19"><a href="Chapter3.html#cb18-19" tabindex="-1"></a><span class="co"># tilti </span></span>
<span id="cb18-20"><a href="Chapter3.html#cb18-20" tabindex="-1"></a>tiltiL<span class="ot">=</span><span class="fu">st_read</span>(<span class="at">dsn=</span><span class="st">&quot;./IevadesDati/topo/Topo10_v3_12_07_2016.gdb/&quot;</span>,<span class="at">layer=</span><span class="st">&quot;bridge_L&quot;</span>)</span>
<span id="cb18-21"><a href="Chapter3.html#cb18-21" tabindex="-1"></a>tiltiL_buffer<span class="ot">=</span><span class="fu">st_buffer</span>(tiltiL,<span class="at">dist=</span><span class="dv">30</span>)</span>
<span id="cb18-22"><a href="Chapter3.html#cb18-22" tabindex="-1"></a>tiltiP<span class="ot">=</span><span class="fu">st_read</span>(<span class="at">dsn=</span><span class="st">&quot;./IevadesDati/topo/Topo10_v3_12_07_2016.gdb/&quot;</span>,<span class="at">layer=</span><span class="st">&quot;bridge_P&quot;</span>)</span>
<span id="cb18-23"><a href="Chapter3.html#cb18-23" tabindex="-1"></a>tiltiP_buffer<span class="ot">=</span><span class="fu">st_buffer</span>(tiltiP,<span class="at">dist=</span><span class="dv">30</span>)</span>
<span id="cb18-24"><a href="Chapter3.html#cb18-24" tabindex="-1"></a></span>
<span id="cb18-25"><a href="Chapter3.html#cb18-25" tabindex="-1"></a><span class="co"># visi buferi </span></span>
<span id="cb18-26"><a href="Chapter3.html#cb18-26" tabindex="-1"></a>caurtekas_buffer<span class="ot">=</span>caurtekas_buffer[,<span class="st">&quot;Shape&quot;</span>]</span>
<span id="cb18-27"><a href="Chapter3.html#cb18-27" tabindex="-1"></a>tiltiL_buffer<span class="ot">=</span>tiltiL_buffer[,<span class="st">&quot;Shape&quot;</span>]</span>
<span id="cb18-28"><a href="Chapter3.html#cb18-28" tabindex="-1"></a>tiltiP_buffer<span class="ot">=</span>tiltiP_buffer[,<span class="st">&quot;Shape&quot;</span>]</span>
<span id="cb18-29"><a href="Chapter3.html#cb18-29" tabindex="-1"></a>visi_buferi<span class="ot">=</span><span class="fu">rbind</span>(caurtekas_buffer,tiltiL_buffer,tiltiP_buffer)</span>
<span id="cb18-30"><a href="Chapter3.html#cb18-30" tabindex="-1"></a></span>
<span id="cb18-31"><a href="Chapter3.html#cb18-31" tabindex="-1"></a><span class="co"># caurumosana</span></span>
<span id="cb18-32"><a href="Chapter3.html#cb18-32" tabindex="-1"></a>visi_buferi<span class="sc">$</span>vertiba<span class="ot">=</span>exactextractr<span class="sc">::</span><span class="fu">exact_extract</span>(reljefs,visi_buferi,<span class="st">&quot;min&quot;</span>)</span>
<span id="cb18-33"><a href="Chapter3.html#cb18-33" tabindex="-1"></a></span>
<span id="cb18-34"><a href="Chapter3.html#cb18-34" tabindex="-1"></a>templis<span class="ot">=</span>raster<span class="sc">::</span><span class="fu">raster</span>(template)</span>
<span id="cb18-35"><a href="Chapter3.html#cb18-35" tabindex="-1"></a>caurumi<span class="ot">=</span>fasterize<span class="sc">::</span><span class="fu">fasterize</span>(visi_buferi,templis,<span class="at">field=</span><span class="st">&quot;vertiba&quot;</span>)</span>
<span id="cb18-36"><a href="Chapter3.html#cb18-36" tabindex="-1"></a>caurumi2<span class="ot">=</span><span class="fu">rast</span>(caurumi)</span>
<span id="cb18-37"><a href="Chapter3.html#cb18-37" tabindex="-1"></a>caurumains<span class="ot">=</span><span class="fu">app</span>(<span class="fu">c</span>(reljefs,caurumi2),<span class="at">fun=</span><span class="st">&quot;min&quot;</span>,<span class="at">na.rm=</span><span class="cn">TRUE</span>,</span>
<span id="cb18-38"><a href="Chapter3.html#cb18-38" tabindex="-1"></a>               <span class="at">overwrite=</span><span class="cn">TRUE</span>,</span>
<span id="cb18-39"><a href="Chapter3.html#cb18-39" tabindex="-1"></a>               <span class="at">filename=</span><span class="st">&quot;./IevadesDati/reljefs/caurtDEM_10m.tif&quot;</span>)</span></code></pre></div>
</details>
<p><br></p>
<p>Ar šo DEM tālāk veikta ģeoprocesēšana reljefa depresiju atrašanai un topogrāfiskā mitruma indeksa (TWI) noteikšanai. Sākumā aprēķinātas reljefa depresijas, pieņemot, kas visas noteces, par kurām būtu jāzina, ir zināmas. Tad, veidojot TWI ar iestrādātu 10 šūnu caurplūdes iespējamību, uzrādītajām depresijām veidoti alternatīvie slāņi. Pēc šo depresiju aizpildīšanas, izmantota d-infinity pieeja plūsmas virziena noteikšanai un aprēķināts TWI</p>
<details class=chunk-details><summary class=chunk-summary><span class=chunk-summary-text>Code</span></summary>
<div class="sourceCode" id="cb19"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb19-1"><a href="Chapter3.html#cb19-1" tabindex="-1"></a><span class="co"># libs</span></span>
<span id="cb19-2"><a href="Chapter3.html#cb19-2" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(terra)) {<span class="fu">install.packages</span>(<span class="st">&quot;terra&quot;</span>); <span class="fu">require</span>(terra)}</span>
<span id="cb19-3"><a href="Chapter3.html#cb19-3" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(sf)) {<span class="fu">install.packages</span>(<span class="st">&quot;sf&quot;</span>); <span class="fu">require</span>(sf)}</span>
<span id="cb19-4"><a href="Chapter3.html#cb19-4" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(tidyverse)) {<span class="fu">install.packages</span>(<span class="st">&quot;tidyverse&quot;</span>); <span class="fu">require</span>(tidyverse)}</span>
<span id="cb19-5"><a href="Chapter3.html#cb19-5" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(arrow)) {<span class="fu">install.packages</span>(<span class="st">&quot;arrow&quot;</span>); <span class="fu">require</span>(arrow)}</span>
<span id="cb19-6"><a href="Chapter3.html#cb19-6" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(sfarrow)) {<span class="fu">install.packages</span>(<span class="st">&quot;sfarrow&quot;</span>); <span class="fu">require</span>(sfarrow)}</span>
<span id="cb19-7"><a href="Chapter3.html#cb19-7" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(exactextractr)){<span class="fu">install.packages</span>(<span class="st">&quot;exactextractr&quot;</span>);<span class="fu">require</span>(exactextractr)}</span>
<span id="cb19-8"><a href="Chapter3.html#cb19-8" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(whitebox)){<span class="fu">install.packages</span>(<span class="st">&quot;whitebox&quot;</span>);<span class="fu">require</span>(whitebox)}</span>
<span id="cb19-9"><a href="Chapter3.html#cb19-9" tabindex="-1"></a></span>
<span id="cb19-10"><a href="Chapter3.html#cb19-10" tabindex="-1"></a><span class="co"># reference</span></span>
<span id="cb19-11"><a href="Chapter3.html#cb19-11" tabindex="-1"></a>template<span class="ot">=</span><span class="fu">rast</span>(<span class="st">&quot;./Templates/TemplateRasters/LV10m_10km.tif&quot;</span>)</span>
<span id="cb19-12"><a href="Chapter3.html#cb19-12" tabindex="-1"></a></span>
<span id="cb19-13"><a href="Chapter3.html#cb19-13" tabindex="-1"></a><span class="co"># DEM</span></span>
<span id="cb19-14"><a href="Chapter3.html#cb19-14" tabindex="-1"></a>caurumainis<span class="ot">=</span><span class="fu">rast</span>(<span class="st">&quot;./IevadesDati/reljefs/caurtDEM_10m.tif&quot;</span>)</span>
<span id="cb19-15"><a href="Chapter3.html#cb19-15" tabindex="-1"></a></span>
<span id="cb19-16"><a href="Chapter3.html#cb19-16" tabindex="-1"></a><span class="co"># Sinks</span></span>
<span id="cb19-17"><a href="Chapter3.html#cb19-17" tabindex="-1"></a><span class="fu">wbt_sink</span>(<span class="at">input =</span> <span class="st">&quot;./IevadesDati/reljefs/caurtDEM_10m.tif&quot;</span>,</span>
<span id="cb19-18"><a href="Chapter3.html#cb19-18" tabindex="-1"></a>         <span class="at">output =</span> <span class="st">&quot;./IevadesDati/reljefs/Sink_10m.tif&quot;</span>,</span>
<span id="cb19-19"><a href="Chapter3.html#cb19-19" tabindex="-1"></a>         <span class="at">verbose_mode =</span> <span class="cn">FALSE</span>,<span class="at">zero_background =</span> <span class="cn">TRUE</span>)</span>
<span id="cb19-20"><a href="Chapter3.html#cb19-20" tabindex="-1"></a>sinks<span class="ot">=</span><span class="fu">rast</span>(<span class="st">&quot;./IevadesDati/reljefs/Sink_10m.tif&quot;</span>)</span>
<span id="cb19-21"><a href="Chapter3.html#cb19-21" tabindex="-1"></a>sinks2 <span class="ot">&lt;-</span> <span class="fu">ifel</span>(sinks <span class="sc">&gt;=</span> <span class="dv">1</span>, <span class="dv">1</span>, sinks,</span>
<span id="cb19-22"><a href="Chapter3.html#cb19-22" tabindex="-1"></a>               <span class="at">filename=</span><span class="st">&quot;./IevadesDati/reljefs/SinkYN_10m.tif&quot;</span>)</span>
<span id="cb19-23"><a href="Chapter3.html#cb19-23" tabindex="-1"></a></span>
<span id="cb19-24"><a href="Chapter3.html#cb19-24" tabindex="-1"></a><span class="co"># Depth-in-Sink</span></span>
<span id="cb19-25"><a href="Chapter3.html#cb19-25" tabindex="-1"></a><span class="fu">wbt_depth_in_sink</span>(<span class="at">dem=</span><span class="st">&quot;./IevadesDati/reljefs/caurtDEM_10m.tif&quot;</span>,</span>
<span id="cb19-26"><a href="Chapter3.html#cb19-26" tabindex="-1"></a>                  <span class="at">output=</span><span class="st">&quot;./IevadesDati/reljefs/DiS_10m.tif&quot;</span>,</span>
<span id="cb19-27"><a href="Chapter3.html#cb19-27" tabindex="-1"></a>                  <span class="at">zero_background =</span> <span class="cn">TRUE</span>)</span>
<span id="cb19-28"><a href="Chapter3.html#cb19-28" tabindex="-1"></a>dis<span class="ot">=</span><span class="fu">rast</span>(<span class="st">&quot;./IevadesDati/reljefs/DiS_10m.tif&quot;</span>)</span>
<span id="cb19-29"><a href="Chapter3.html#cb19-29" tabindex="-1"></a></span>
<span id="cb19-30"><a href="Chapter3.html#cb19-30" tabindex="-1"></a></span>
<span id="cb19-31"><a href="Chapter3.html#cb19-31" tabindex="-1"></a></span>
<span id="cb19-32"><a href="Chapter3.html#cb19-32" tabindex="-1"></a><span class="co"># TWI</span></span>
<span id="cb19-33"><a href="Chapter3.html#cb19-33" tabindex="-1"></a><span class="do">## breaching</span></span>
<span id="cb19-34"><a href="Chapter3.html#cb19-34" tabindex="-1"></a><span class="fu">wbt_breach_depressions_least_cost</span>(</span>
<span id="cb19-35"><a href="Chapter3.html#cb19-35" tabindex="-1"></a>  <span class="at">dem =</span> <span class="st">&quot;./IevadesDati/reljefs/caurtDEM_10m.tif&quot;</span>,</span>
<span id="cb19-36"><a href="Chapter3.html#cb19-36" tabindex="-1"></a>  <span class="at">output =</span> <span class="st">&quot;./IevadesDati/reljefs/caurtDEM_breachedF.tif&quot;</span>,</span>
<span id="cb19-37"><a href="Chapter3.html#cb19-37" tabindex="-1"></a>  <span class="at">dist =</span> <span class="dv">10</span>,</span>
<span id="cb19-38"><a href="Chapter3.html#cb19-38" tabindex="-1"></a>  <span class="at">fill =</span> <span class="cn">TRUE</span>)</span>
<span id="cb19-39"><a href="Chapter3.html#cb19-39" tabindex="-1"></a></span>
<span id="cb19-40"><a href="Chapter3.html#cb19-40" tabindex="-1"></a><span class="do">## breached sinks un depth in sinks</span></span>
<span id="cb19-41"><a href="Chapter3.html#cb19-41" tabindex="-1"></a><span class="fu">wbt_breach_depressions_least_cost</span>(</span>
<span id="cb19-42"><a href="Chapter3.html#cb19-42" tabindex="-1"></a>  <span class="at">dem =</span> <span class="st">&quot;./IevadesDati/reljefs/caurtDEM_10m.tif&quot;</span>,</span>
<span id="cb19-43"><a href="Chapter3.html#cb19-43" tabindex="-1"></a>  <span class="at">output =</span> <span class="st">&quot;./IevadesDati/reljefs/caurtDEM_breachedNF.tif&quot;</span>,</span>
<span id="cb19-44"><a href="Chapter3.html#cb19-44" tabindex="-1"></a>  <span class="at">dist =</span> <span class="dv">10</span>,</span>
<span id="cb19-45"><a href="Chapter3.html#cb19-45" tabindex="-1"></a>  <span class="at">fill =</span> <span class="cn">FALSE</span>)</span>
<span id="cb19-46"><a href="Chapter3.html#cb19-46" tabindex="-1"></a><span class="fu">wbt_depth_in_sink</span>(<span class="at">dem=</span><span class="st">&quot;./IevadesDati/reljefs/caurtDEM_breachedNF.tif&quot;</span>,</span>
<span id="cb19-47"><a href="Chapter3.html#cb19-47" tabindex="-1"></a>                  <span class="at">output=</span><span class="st">&quot;./IevadesDati/reljefs/DiS_breached_10m.tif&quot;</span>,</span>
<span id="cb19-48"><a href="Chapter3.html#cb19-48" tabindex="-1"></a>                  <span class="at">zero_background =</span> <span class="cn">TRUE</span>)</span>
<span id="cb19-49"><a href="Chapter3.html#cb19-49" tabindex="-1"></a><span class="fu">wbt_sink</span>(<span class="at">input =</span> <span class="st">&quot;./IevadesDati/reljefs/caurtDEM_breachedNF.tif&quot;</span>,</span>
<span id="cb19-50"><a href="Chapter3.html#cb19-50" tabindex="-1"></a>         <span class="at">output =</span> <span class="st">&quot;./IevadesDati/reljefs/Sink_breached_10m.tif&quot;</span>,</span>
<span id="cb19-51"><a href="Chapter3.html#cb19-51" tabindex="-1"></a>         <span class="at">verbose_mode =</span> <span class="cn">FALSE</span>,<span class="at">zero_background =</span> <span class="cn">TRUE</span>)</span>
<span id="cb19-52"><a href="Chapter3.html#cb19-52" tabindex="-1"></a>sinks<span class="ot">=</span><span class="fu">rast</span>(<span class="st">&quot;./IevadesDati/reljefs/Sink_breached_10m.tif&quot;</span>)</span>
<span id="cb19-53"><a href="Chapter3.html#cb19-53" tabindex="-1"></a><span class="fu">plot</span>(sinks)</span>
<span id="cb19-54"><a href="Chapter3.html#cb19-54" tabindex="-1"></a>sinks2 <span class="ot">&lt;-</span> <span class="fu">ifel</span>(sinks <span class="sc">&gt;=</span> <span class="dv">1</span>, <span class="dv">1</span>, sinks,</span>
<span id="cb19-55"><a href="Chapter3.html#cb19-55" tabindex="-1"></a>               <span class="at">filename=</span><span class="st">&quot;./IevadesDati/reljefs/SinkYN_breached_10m.tif&quot;</span>)</span>
<span id="cb19-56"><a href="Chapter3.html#cb19-56" tabindex="-1"></a></span>
<span id="cb19-57"><a href="Chapter3.html#cb19-57" tabindex="-1"></a><span class="do">### filling</span></span>
<span id="cb19-58"><a href="Chapter3.html#cb19-58" tabindex="-1"></a><span class="fu">wbt_fill_depressions_wang_and_liu</span>(</span>
<span id="cb19-59"><a href="Chapter3.html#cb19-59" tabindex="-1"></a>  <span class="at">dem =</span> <span class="st">&quot;./IevadesDati/reljefs/caurtDEM_breachedF.tif&quot;</span>,</span>
<span id="cb19-60"><a href="Chapter3.html#cb19-60" tabindex="-1"></a>  <span class="at">output =</span> <span class="st">&quot;./IevadesDati/reljefs/caurtDEM_BreachFill.tif&quot;</span></span>
<span id="cb19-61"><a href="Chapter3.html#cb19-61" tabindex="-1"></a>)</span>
<span id="cb19-62"><a href="Chapter3.html#cb19-62" tabindex="-1"></a></span>
<span id="cb19-63"><a href="Chapter3.html#cb19-63" tabindex="-1"></a><span class="do">### (d inf) flow direction</span></span>
<span id="cb19-64"><a href="Chapter3.html#cb19-64" tabindex="-1"></a><span class="fu">wbt_d_inf_flow_accumulation</span>(<span class="at">input =</span> <span class="st">&quot;./IevadesDati/reljefs/caurtDEM_BreachFill.tif&quot;</span>,</span>
<span id="cb19-65"><a href="Chapter3.html#cb19-65" tabindex="-1"></a>                            <span class="at">output =</span> <span class="st">&quot;./IevadesDati/reljefs/caurtDEM_DInfAccu_SCA.tif&quot;</span>,</span>
<span id="cb19-66"><a href="Chapter3.html#cb19-66" tabindex="-1"></a>                            <span class="at">out_type =</span> <span class="st">&quot;Specific Contributing Area&quot;</span>)</span>
<span id="cb19-67"><a href="Chapter3.html#cb19-67" tabindex="-1"></a></span>
<span id="cb19-68"><a href="Chapter3.html#cb19-68" tabindex="-1"></a><span class="do">### twi</span></span>
<span id="cb19-69"><a href="Chapter3.html#cb19-69" tabindex="-1"></a><span class="fu">wbt_wetness_index</span>(<span class="at">sca =</span> <span class="st">&quot;./IevadesDati/reljefs/caurtDEM_DInfAccu_SCA.tif&quot;</span>,</span>
<span id="cb19-70"><a href="Chapter3.html#cb19-70" tabindex="-1"></a>                  <span class="at">slope =</span> <span class="st">&quot;./IevadesDati/reljefs/Slope_10m.tif&quot;</span>,</span>
<span id="cb19-71"><a href="Chapter3.html#cb19-71" tabindex="-1"></a>                  <span class="at">output =</span> <span class="st">&quot;./IevadesDati/reljefs/TWI_caurtDEM.tif&quot;</span>)</span>
<span id="cb19-72"><a href="Chapter3.html#cb19-72" tabindex="-1"></a>twi<span class="ot">=</span><span class="fu">rast</span>(<span class="st">&quot;./IevadesDati/reljefs/TWI_caurtDEM.tif&quot;</span>)</span>
<span id="cb19-73"><a href="Chapter3.html#cb19-73" tabindex="-1"></a><span class="fu">hist</span>(twi) <span class="co"># vietumis ir sevišķi ekscesīvas vērtības</span></span>
<span id="cb19-74"><a href="Chapter3.html#cb19-74" tabindex="-1"></a>twi2<span class="ot">=</span><span class="fu">ifel</span>(twi<span class="sc">&gt;</span><span class="dv">20</span>,<span class="dv">20</span>,twi)</span>
<span id="cb19-75"><a href="Chapter3.html#cb19-75" tabindex="-1"></a>twi2x<span class="ot">=</span><span class="fu">ifel</span>(<span class="fu">is.na</span>(twi2)<span class="sc">&amp;!</span><span class="fu">is.na</span>(template),<span class="dv">20</span>,twi2)</span>
<span id="cb19-76"><a href="Chapter3.html#cb19-76" tabindex="-1"></a><span class="fu">writeRaster</span>(twi2x,<span class="at">filename=</span><span class="st">&quot;./IevadesDati/reljefs/TWI_lim20_caurtDEM.tif&quot;</span>)</span></code></pre></div>
</details>
<p>Tā kā sākotnējos ievades DEM ir bijusi veikta ūdeņu aizpildīšana, ūdensobjektos ir redzams izteikts reljefs, no kura ir nepieciešams atbrīvoties. To daru ar vidējās vērtības ievietošanu šajos daudzstūros.</p>
<details class=chunk-details><summary class=chunk-summary><span class=chunk-summary-text>Code</span></summary>
<div class="sourceCode" id="cb20"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb20-1"><a href="Chapter3.html#cb20-1" tabindex="-1"></a><span class="co"># libs</span></span>
<span id="cb20-2"><a href="Chapter3.html#cb20-2" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(terra)) {<span class="fu">install.packages</span>(<span class="st">&quot;terra&quot;</span>); <span class="fu">require</span>(terra)}</span>
<span id="cb20-3"><a href="Chapter3.html#cb20-3" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(sf)) {<span class="fu">install.packages</span>(<span class="st">&quot;sf&quot;</span>); <span class="fu">require</span>(sf)}</span>
<span id="cb20-4"><a href="Chapter3.html#cb20-4" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(tidyverse)) {<span class="fu">install.packages</span>(<span class="st">&quot;tidyverse&quot;</span>); <span class="fu">require</span>(tidyverse)}</span>
<span id="cb20-5"><a href="Chapter3.html#cb20-5" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(arrow)) {<span class="fu">install.packages</span>(<span class="st">&quot;arrow&quot;</span>); <span class="fu">require</span>(arrow)}</span>
<span id="cb20-6"><a href="Chapter3.html#cb20-6" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(sfarrow)) {<span class="fu">install.packages</span>(<span class="st">&quot;sfarrow&quot;</span>); <span class="fu">require</span>(sfarrow)}</span>
<span id="cb20-7"><a href="Chapter3.html#cb20-7" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(exactextractr)){<span class="fu">install.packages</span>(<span class="st">&quot;exactextractr&quot;</span>);<span class="fu">require</span>(exactextractr)}</span>
<span id="cb20-8"><a href="Chapter3.html#cb20-8" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(whitebox)){<span class="fu">install.packages</span>(<span class="st">&quot;whitebox&quot;</span>);<span class="fu">require</span>(whitebox)}</span>
<span id="cb20-9"><a href="Chapter3.html#cb20-9" tabindex="-1"></a></span>
<span id="cb20-10"><a href="Chapter3.html#cb20-10" tabindex="-1"></a><span class="co"># reference</span></span>
<span id="cb20-11"><a href="Chapter3.html#cb20-11" tabindex="-1"></a>template<span class="ot">=</span><span class="fu">rast</span>(<span class="st">&quot;./Templates/TemplateRasters/LV10m_10km.tif&quot;</span>)</span>
<span id="cb20-12"><a href="Chapter3.html#cb20-12" tabindex="-1"></a></span>
<span id="cb20-13"><a href="Chapter3.html#cb20-13" tabindex="-1"></a><span class="co"># ūdeņu sakārtošana </span></span>
<span id="cb20-14"><a href="Chapter3.html#cb20-14" tabindex="-1"></a>udeni<span class="ot">=</span><span class="fu">st_read</span>(<span class="st">&quot;./IevadesDati/topo/Topo10_v3_12_07_2016.gdb/&quot;</span>, <span class="at">layer=</span><span class="st">&quot;hidro_A&quot;</span>)</span>
<span id="cb20-15"><a href="Chapter3.html#cb20-15" tabindex="-1"></a></span>
<span id="cb20-16"><a href="Chapter3.html#cb20-16" tabindex="-1"></a>slope<span class="ot">=</span><span class="fu">rast</span>(<span class="st">&quot;./Rastri_10m/Slope_10m.tif&quot;</span>)</span>
<span id="cb20-17"><a href="Chapter3.html#cb20-17" tabindex="-1"></a>aspect<span class="ot">=</span><span class="fu">rast</span>(<span class="st">&quot;./Rastri_10m/Aspect_10m.tif&quot;</span>)</span>
<span id="cb20-18"><a href="Chapter3.html#cb20-18" tabindex="-1"></a>twi<span class="ot">=</span><span class="fu">rast</span>(<span class="st">&quot;./IevadesDati/reljefs/TWI_lim20_caurtDEM.tif&quot;</span>)</span>
<span id="cb20-19"><a href="Chapter3.html#cb20-19" tabindex="-1"></a>dis<span class="ot">=</span><span class="fu">rast</span>(<span class="st">&quot;./IevadesDati/reljefs/DiS_breached_10m.tif&quot;</span>)</span>
<span id="cb20-20"><a href="Chapter3.html#cb20-20" tabindex="-1"></a></span>
<span id="cb20-21"><a href="Chapter3.html#cb20-21" tabindex="-1"></a></span>
<span id="cb20-22"><a href="Chapter3.html#cb20-22" tabindex="-1"></a></span>
<span id="cb20-23"><a href="Chapter3.html#cb20-23" tabindex="-1"></a>templis<span class="ot">=</span>raster<span class="sc">::</span><span class="fu">raster</span>(template)</span>
<span id="cb20-24"><a href="Chapter3.html#cb20-24" tabindex="-1"></a>udeni<span class="sc">$</span>slopes<span class="ot">=</span>exactextractr<span class="sc">::</span><span class="fu">exact_extract</span>(slope,udeni,<span class="st">&quot;mean&quot;</span>)</span>
<span id="cb20-25"><a href="Chapter3.html#cb20-25" tabindex="-1"></a>caurumi_slope<span class="ot">=</span>fasterize<span class="sc">::</span><span class="fu">fasterize</span>(udeni,templis,<span class="at">field=</span><span class="st">&quot;slopes&quot;</span>)</span>
<span id="cb20-26"><a href="Chapter3.html#cb20-26" tabindex="-1"></a>udeni<span class="sc">$</span>aspect<span class="ot">=</span>exactextractr<span class="sc">::</span><span class="fu">exact_extract</span>(aspect,udeni,<span class="st">&quot;mean&quot;</span>)</span>
<span id="cb20-27"><a href="Chapter3.html#cb20-27" tabindex="-1"></a>caurumi_aspect<span class="ot">=</span>fasterize<span class="sc">::</span><span class="fu">fasterize</span>(udeni,templis,<span class="at">field=</span><span class="st">&quot;aspect&quot;</span>)</span>
<span id="cb20-28"><a href="Chapter3.html#cb20-28" tabindex="-1"></a>udeni<span class="sc">$</span>twis<span class="ot">=</span>exactextractr<span class="sc">::</span><span class="fu">exact_extract</span>(twi,udeni,<span class="st">&quot;mean&quot;</span>)</span>
<span id="cb20-29"><a href="Chapter3.html#cb20-29" tabindex="-1"></a>caurumi_TWI<span class="ot">=</span>fasterize<span class="sc">::</span><span class="fu">fasterize</span>(udeni,templis,<span class="at">field=</span><span class="st">&quot;twis&quot;</span>)</span>
<span id="cb20-30"><a href="Chapter3.html#cb20-30" tabindex="-1"></a>udeni<span class="sc">$</span>disi<span class="ot">=</span>exactextractr<span class="sc">::</span><span class="fu">exact_extract</span>(dis,udeni,<span class="st">&quot;mean&quot;</span>)</span>
<span id="cb20-31"><a href="Chapter3.html#cb20-31" tabindex="-1"></a>caurumi_DiS<span class="ot">=</span>fasterize<span class="sc">::</span><span class="fu">fasterize</span>(udeni,templis,<span class="at">field=</span><span class="st">&quot;disi&quot;</span>)</span>
<span id="cb20-32"><a href="Chapter3.html#cb20-32" tabindex="-1"></a></span>
<span id="cb20-33"><a href="Chapter3.html#cb20-33" tabindex="-1"></a>caurumi_slope2<span class="ot">=</span><span class="fu">rast</span>(caurumi_slope)</span>
<span id="cb20-34"><a href="Chapter3.html#cb20-34" tabindex="-1"></a>caurumains_slope<span class="ot">=</span><span class="fu">app</span>(<span class="fu">c</span>(caurumi_slope2,slope),<span class="at">fun=</span><span class="st">&quot;first&quot;</span>,<span class="at">na.rm=</span><span class="cn">TRUE</span>,</span>
<span id="cb20-35"><a href="Chapter3.html#cb20-35" tabindex="-1"></a>                     <span class="at">overwrite=</span><span class="cn">TRUE</span>,</span>
<span id="cb20-36"><a href="Chapter3.html#cb20-36" tabindex="-1"></a>                     <span class="at">filename=</span><span class="st">&quot;./IevadesDati/reljefs/Slope_udeni_10m.tif&quot;</span>)</span>
<span id="cb20-37"><a href="Chapter3.html#cb20-37" tabindex="-1"></a>caurumains_slope<span class="ot">=</span>terra<span class="sc">::</span><span class="fu">rast</span>(<span class="st">&quot;./IevadesDati/reljefs/Slope_udeni_10m.tif&quot;</span>)</span>
<span id="cb20-38"><a href="Chapter3.html#cb20-38" tabindex="-1"></a>caurumains_slope2<span class="ot">=</span>terra<span class="sc">::</span><span class="fu">mask</span>(caurumains_slope,template,</span>
<span id="cb20-39"><a href="Chapter3.html#cb20-39" tabindex="-1"></a>                              <span class="at">overwrite=</span><span class="cn">TRUE</span>,</span>
<span id="cb20-40"><a href="Chapter3.html#cb20-40" tabindex="-1"></a>                              <span class="at">filename=</span><span class="st">&quot;./Rastri_10m/Slope_udeni2_10m.tif&quot;</span>)</span>
<span id="cb20-41"><a href="Chapter3.html#cb20-41" tabindex="-1"></a>caurumi_aspect2<span class="ot">=</span><span class="fu">rast</span>(caurumi_aspect)</span>
<span id="cb20-42"><a href="Chapter3.html#cb20-42" tabindex="-1"></a>caurumi_aspect<span class="ot">=</span><span class="fu">app</span>(<span class="fu">c</span>(caurumi_aspect2,aspect),<span class="at">fun=</span><span class="st">&quot;first&quot;</span>,<span class="at">na.rm=</span><span class="cn">TRUE</span>,</span>
<span id="cb20-43"><a href="Chapter3.html#cb20-43" tabindex="-1"></a>                     <span class="at">overwrite=</span><span class="cn">TRUE</span>,</span>
<span id="cb20-44"><a href="Chapter3.html#cb20-44" tabindex="-1"></a>                     <span class="at">filename=</span><span class="st">&quot;./IevadesDati/reljefs/Aspect_udeni_10m.tif&quot;</span>)</span>
<span id="cb20-45"><a href="Chapter3.html#cb20-45" tabindex="-1"></a>caurumains_aspect<span class="ot">=</span>terra<span class="sc">::</span><span class="fu">rast</span>(<span class="st">&quot;./IevadesDati/reljefs/Aspect_udeni_10m.tif&quot;</span>)</span>
<span id="cb20-46"><a href="Chapter3.html#cb20-46" tabindex="-1"></a>caurumains_aspect2<span class="ot">=</span>terra<span class="sc">::</span><span class="fu">mask</span>(caurumains_aspect,template,</span>
<span id="cb20-47"><a href="Chapter3.html#cb20-47" tabindex="-1"></a>                              <span class="at">overwrite=</span><span class="cn">TRUE</span>,</span>
<span id="cb20-48"><a href="Chapter3.html#cb20-48" tabindex="-1"></a>                              <span class="at">filename=</span><span class="st">&quot;./Rastri_10m/Aspect_udeni2_10m.tif&quot;</span>)</span>
<span id="cb20-49"><a href="Chapter3.html#cb20-49" tabindex="-1"></a>caurumi_DiS2<span class="ot">=</span><span class="fu">rast</span>(caurumi_DiS)</span>
<span id="cb20-50"><a href="Chapter3.html#cb20-50" tabindex="-1"></a>caurumains_DiS<span class="ot">=</span><span class="fu">app</span>(<span class="fu">c</span>(caurumi_DiS2,dis),<span class="at">fun=</span><span class="st">&quot;first&quot;</span>,<span class="at">na.rm=</span><span class="cn">TRUE</span>,</span>
<span id="cb20-51"><a href="Chapter3.html#cb20-51" tabindex="-1"></a>                     <span class="at">overwrite=</span><span class="cn">TRUE</span>,</span>
<span id="cb20-52"><a href="Chapter3.html#cb20-52" tabindex="-1"></a>                     <span class="at">filename=</span><span class="st">&quot;./IevadesDati/reljefs/DiS_udeni_10m.tif&quot;</span>)</span>
<span id="cb20-53"><a href="Chapter3.html#cb20-53" tabindex="-1"></a>caurumains_DiS<span class="ot">=</span>terra<span class="sc">::</span><span class="fu">rast</span>(<span class="st">&quot;./IevadesDati/reljefs/DiS_udeni_10m.tif&quot;</span>)</span>
<span id="cb20-54"><a href="Chapter3.html#cb20-54" tabindex="-1"></a>caurumains_DiS2<span class="ot">=</span>terra<span class="sc">::</span><span class="fu">mask</span>(caurumains_DiS,template,</span>
<span id="cb20-55"><a href="Chapter3.html#cb20-55" tabindex="-1"></a>                             <span class="at">overwrite=</span><span class="cn">TRUE</span>,</span>
<span id="cb20-56"><a href="Chapter3.html#cb20-56" tabindex="-1"></a>                             <span class="at">filename=</span><span class="st">&quot;./Rastri_10m/DiS_udeni2_10m.tif&quot;</span>)</span>
<span id="cb20-57"><a href="Chapter3.html#cb20-57" tabindex="-1"></a>caurumi_TWI2<span class="ot">=</span><span class="fu">rast</span>(caurumi_TWI)</span>
<span id="cb20-58"><a href="Chapter3.html#cb20-58" tabindex="-1"></a>caurumains_TWI<span class="ot">=</span><span class="fu">app</span>(<span class="fu">c</span>(caurumi_TWI2,twi),<span class="at">fun=</span><span class="st">&quot;first&quot;</span>,<span class="at">na.rm=</span><span class="cn">TRUE</span>,</span>
<span id="cb20-59"><a href="Chapter3.html#cb20-59" tabindex="-1"></a>                     <span class="at">overwrite=</span><span class="cn">TRUE</span>,</span>
<span id="cb20-60"><a href="Chapter3.html#cb20-60" tabindex="-1"></a>                     <span class="at">filename=</span><span class="st">&quot;./IevadesDati/reljefs/TWI_udeni_10m.tif&quot;</span>)</span>
<span id="cb20-61"><a href="Chapter3.html#cb20-61" tabindex="-1"></a>caurumains_TWI<span class="ot">=</span>terra<span class="sc">::</span><span class="fu">rast</span>(<span class="st">&quot;./IevadesDati/reljefs/TWI_udeni_10m.tif&quot;</span>)</span>
<span id="cb20-62"><a href="Chapter3.html#cb20-62" tabindex="-1"></a>caurumains_TWI2<span class="ot">=</span>terra<span class="sc">::</span><span class="fu">mask</span>(caurumains_TWI,template,</span>
<span id="cb20-63"><a href="Chapter3.html#cb20-63" tabindex="-1"></a>                           <span class="at">overwrite=</span><span class="cn">TRUE</span>,</span>
<span id="cb20-64"><a href="Chapter3.html#cb20-64" tabindex="-1"></a>                           <span class="at">filename=</span><span class="st">&quot;./Rastri_10m/TWI_udeni2_10m.tif&quot;</span>)</span></code></pre></div>
</details>
</div>
<div id="Chapter3.2.2" class="section level3 hasAnchor" number="3.2.2">
<h3><span class="header-section-number">3.2.2</span> Ainava<a href="Chapter3.html#Chapter3.2.2" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Šajā vingrinājumā “ainava” ir dažādu zemes seguma un lietojuma veidu klašu pārstāvniecība, kurā svarīga ir šo klašu zīmēšanas secība, jo nereti dažādu avotu telpiskajiem datiem ir savstarpēja robežu neatbilstība, kas liek risināt gan to savstarpējo pārklāšanos (1), gan aizpildīt robus vietām, par kurām nav datubāzu informāicja (2), un izvēle par objektu uzsvēršanu ar kādu apstrādi, piemēram, buferēšanu, jo daļa vides raksturošanai (jo sevišķi, malas efektu) nozīmīgu elementu var būt ar tik mazu laukumu vai tādu novietojumu, ka rasterizāicjas procesā tie pazūd (3). Pamata ainavas slānim nozīme ir arī kalpot kā maskai turpmāko vides aprakstu sagatavošanā. Šeit raksturota pamata (vienkāršas) ainavas izstrāde un sekojošajās apakšnodaļās tās bagātināšana ar klasēm specifiskākiem vides ekoģeogrāfiskajiem mainīgajiem. Vienkāršā ainava saglabāta failā <code>Ainava_vienk_mask.tif</code>, kurā esošās klases un to izveidošanas procedūra raksturota sekojošajā uzskaitījumā:</p>
<ul>
<li><p>klase <code>100</code> - <strong>ceļi</strong>: dažādu avotu ceļi, <strong>aizpildīta secībā</strong> - dominē pār klasēm ar lielāku vērtību, lai nepazustu relatīvi neliela izmēra objekti un nodrošinātu informāciju par malām. Šīs klases izveidošanai apvienoti:</p>
<p>– <a href="Chapter3.html#Chapter3.1.3">topogrāfiskās kartes</a> slāņi <code>road_A</code> un <code>road_L</code> (izņemot mazāko platuma grupu, kura visbiežāk neveido vienlaidus pārrāvumu vainagu klājā, <a href="Chapter3.html#Chapter3.1.3">skatīt atlasi</a>), pirms rasterizēšanas tos buferējot par 10 m;</p>
<p>– <a href="Chapter3.html#Chapter3.1.5">LVM atvērto datu</a> slāņi <code>LVM_MEZA_AUTOCELI</code>, <code>LVM_ATTISTAMIE_AUTOCELI</code>, <code>LVM_APGRIESANAS_LAUKUMI</code>, <code>LVM_IZMAINISANAS_VIETAS</code> un <code>LVM_NOBRAUKTUVES</code>, tās buferējot par 10 m.</p>
<p>– nav izmantota Meža valsts reģistra informācija par dabiskajām brauktuvēm, jo tās visbiežāk neveido vienlaidus pārrāvumu vainagu klājā. Šī reģistra informācija par ceļiem ir arī pārējos resursos, tā nav dublēta.</p></li>
</ul>
<p>Zemāk esošās komandu rindas izveido slāni ar ainavas klasi <code>100</code>, kuru failā <code>100_celi.tif</code> saglabā turpmākam darbam.</p>
<details class=chunk-details><summary class=chunk-summary><span class=chunk-summary-text>Code</span></summary>
<div class="sourceCode" id="cb21"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb21-1"><a href="Chapter3.html#cb21-1" tabindex="-1"></a><span class="co"># Libs</span></span>
<span id="cb21-2"><a href="Chapter3.html#cb21-2" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(tidyverse)) {<span class="fu">install.packages</span>(<span class="st">&quot;tidyverse&quot;</span>); <span class="fu">require</span>(tidyverse)}</span>
<span id="cb21-3"><a href="Chapter3.html#cb21-3" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(sf)) {<span class="fu">install.packages</span>(<span class="st">&quot;sf&quot;</span>); <span class="fu">require</span>(sf)}</span>
<span id="cb21-4"><a href="Chapter3.html#cb21-4" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(arrow)) {<span class="fu">install.packages</span>(<span class="st">&quot;arrow&quot;</span>); <span class="fu">require</span>(arrow)}</span>
<span id="cb21-5"><a href="Chapter3.html#cb21-5" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(sfarrow)) {<span class="fu">install.packages</span>(<span class="st">&quot;sfarrow&quot;</span>); <span class="fu">require</span>(sfarrow)}</span>
<span id="cb21-6"><a href="Chapter3.html#cb21-6" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(terra)) {<span class="fu">install.packages</span>(<span class="st">&quot;terra&quot;</span>); <span class="fu">require</span>(terra)}</span>
<span id="cb21-7"><a href="Chapter3.html#cb21-7" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(raster)) {<span class="fu">install.packages</span>(<span class="st">&quot;raster&quot;</span>); <span class="fu">require</span>(raster)}</span>
<span id="cb21-8"><a href="Chapter3.html#cb21-8" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(fasterize)) {<span class="fu">install.packages</span>(<span class="st">&quot;fasterize&quot;</span>); <span class="fu">require</span>(fasterize)}</span>
<span id="cb21-9"><a href="Chapter3.html#cb21-9" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(gdalUtilities)){<span class="fu">install.packages</span>(<span class="st">&quot;gdalUtilities&quot;</span>);<span class="fu">require</span>(gdalUtilities)}</span>
<span id="cb21-10"><a href="Chapter3.html#cb21-10" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(readxl)) {<span class="fu">install.packages</span>(<span class="st">&quot;readxl&quot;</span>); <span class="fu">require</span>(readxl)}</span>
<span id="cb21-11"><a href="Chapter3.html#cb21-11" tabindex="-1"></a></span>
<span id="cb21-12"><a href="Chapter3.html#cb21-12" tabindex="-1"></a><span class="co"># templates</span></span>
<span id="cb21-13"><a href="Chapter3.html#cb21-13" tabindex="-1"></a>template_t<span class="ot">=</span><span class="fu">rast</span>(<span class="st">&quot;./Templates/TemplateRasters/LV10m_10km.tif&quot;</span>)</span>
<span id="cb21-14"><a href="Chapter3.html#cb21-14" tabindex="-1"></a>template_r<span class="ot">=</span><span class="fu">raster</span>(template_t)</span>
<span id="cb21-15"><a href="Chapter3.html#cb21-15" tabindex="-1"></a></span>
<span id="cb21-16"><a href="Chapter3.html#cb21-16" tabindex="-1"></a></span>
<span id="cb21-17"><a href="Chapter3.html#cb21-17" tabindex="-1"></a><span class="co">#poly</span></span>
<span id="cb21-18"><a href="Chapter3.html#cb21-18" tabindex="-1"></a>celi_topo<span class="ot">=</span><span class="fu">st_read_parquet</span>(<span class="st">&quot;./IevadesDati/topo/Topo_road_A.parquet&quot;</span>)</span>
<span id="cb21-19"><a href="Chapter3.html#cb21-19" tabindex="-1"></a>celi_topo<span class="ot">=</span>celi_topo <span class="sc">%&gt;%</span> </span>
<span id="cb21-20"><a href="Chapter3.html#cb21-20" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">yes=</span><span class="dv">100</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb21-21"><a href="Chapter3.html#cb21-21" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">select</span>(yes)</span>
<span id="cb21-22"><a href="Chapter3.html#cb21-22" tabindex="-1"></a>ctb<span class="ot">=</span><span class="fu">st_buffer</span>(celi_topo,<span class="at">dist=</span><span class="dv">10</span>)</span>
<span id="cb21-23"><a href="Chapter3.html#cb21-23" tabindex="-1"></a>r_celi_topo<span class="ot">=</span><span class="fu">fasterize</span>(ctb,template_r,<span class="at">field=</span><span class="st">&quot;yes&quot;</span>)</span>
<span id="cb21-24"><a href="Chapter3.html#cb21-24" tabindex="-1"></a></span>
<span id="cb21-25"><a href="Chapter3.html#cb21-25" tabindex="-1"></a><span class="co"># pts</span></span>
<span id="cb21-26"><a href="Chapter3.html#cb21-26" tabindex="-1"></a>nobrauktuves<span class="ot">=</span><span class="fu">st_read</span>(<span class="st">&quot;./IevadesDati/LVM_AtvertieDati/lejupielades/LVM_NOBRAUKTUVES/LVM_NOBRAUKTUVES_Shape.shp&quot;</span>)</span>
<span id="cb21-27"><a href="Chapter3.html#cb21-27" tabindex="-1"></a>nobrauktuves<span class="ot">=</span>nobrauktuves <span class="sc">%&gt;%</span> </span>
<span id="cb21-28"><a href="Chapter3.html#cb21-28" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">yes=</span><span class="dv">100</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb21-29"><a href="Chapter3.html#cb21-29" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">select</span>(yes)</span>
<span id="cb21-30"><a href="Chapter3.html#cb21-30" tabindex="-1"></a>izmainisanas<span class="ot">=</span><span class="fu">st_read</span>(<span class="st">&quot;./IevadesDati/LVM_AtvertieDati/lejupielades/LVM_IZMAINISANAS_VIETAS/LVM_IZMAINISANAS_VIETAS_Shape.shp&quot;</span>)</span>
<span id="cb21-31"><a href="Chapter3.html#cb21-31" tabindex="-1"></a>izmainisanas<span class="ot">=</span>izmainisanas <span class="sc">%&gt;%</span> </span>
<span id="cb21-32"><a href="Chapter3.html#cb21-32" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">yes=</span><span class="dv">100</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb21-33"><a href="Chapter3.html#cb21-33" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">select</span>(yes)</span>
<span id="cb21-34"><a href="Chapter3.html#cb21-34" tabindex="-1"></a>apgriesanas<span class="ot">=</span><span class="fu">st_read</span>(<span class="st">&quot;./IevadesDati/LVM_AtvertieDati/lejupielades/LVM_APGRIESANAS_LAUKUMI/LVM_APGRIESANAS_LAUKUMI_Shape.shp&quot;</span>)</span>
<span id="cb21-35"><a href="Chapter3.html#cb21-35" tabindex="-1"></a>apgriesanas<span class="ot">=</span>apgriesanas <span class="sc">%&gt;%</span> </span>
<span id="cb21-36"><a href="Chapter3.html#cb21-36" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">yes=</span><span class="dv">100</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb21-37"><a href="Chapter3.html#cb21-37" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">select</span>(yes)</span>
<span id="cb21-38"><a href="Chapter3.html#cb21-38" tabindex="-1"></a>cp<span class="ot">=</span><span class="fu">rbind</span>(nobrauktuves,izmainisanas,apgriesanas)</span>
<span id="cb21-39"><a href="Chapter3.html#cb21-39" tabindex="-1"></a>cpb<span class="ot">=</span><span class="fu">st_buffer</span>(cp,<span class="at">dist=</span><span class="dv">10</span>)</span>
<span id="cb21-40"><a href="Chapter3.html#cb21-40" tabindex="-1"></a>r_celi_pts<span class="ot">=</span><span class="fu">fasterize</span>(cpb,template_r,<span class="at">field=</span><span class="st">&quot;yes&quot;</span>)</span>
<span id="cb21-41"><a href="Chapter3.html#cb21-41" tabindex="-1"></a></span>
<span id="cb21-42"><a href="Chapter3.html#cb21-42" tabindex="-1"></a></span>
<span id="cb21-43"><a href="Chapter3.html#cb21-43" tabindex="-1"></a><span class="co"># lines</span></span>
<span id="cb21-44"><a href="Chapter3.html#cb21-44" tabindex="-1"></a>meza_autoceli<span class="ot">=</span><span class="fu">st_read</span>(<span class="st">&quot;./IevadesDati/LVM_AtvertieDati/lejupielades/LVM_MEZA_AUTOCELI/LVM_MEZA_AUTOCELI_Shape.shp&quot;</span>)</span>
<span id="cb21-45"><a href="Chapter3.html#cb21-45" tabindex="-1"></a>meza_autoceli<span class="ot">=</span>meza_autoceli <span class="sc">%&gt;%</span> </span>
<span id="cb21-46"><a href="Chapter3.html#cb21-46" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">yes=</span><span class="dv">100</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb21-47"><a href="Chapter3.html#cb21-47" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">select</span>(yes)</span>
<span id="cb21-48"><a href="Chapter3.html#cb21-48" tabindex="-1"></a>attistamie<span class="ot">=</span><span class="fu">st_read</span>(<span class="st">&quot;./IevadesDati/LVM_AtvertieDati/lejupielades/LVM_ATTISTAMIE_AUTOCELI/LVM_ATTISTAMIE_AUTOCELI_Shape.shp&quot;</span>)</span>
<span id="cb21-49"><a href="Chapter3.html#cb21-49" tabindex="-1"></a>attistamie<span class="ot">=</span>attistamie <span class="sc">%&gt;%</span> </span>
<span id="cb21-50"><a href="Chapter3.html#cb21-50" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">yes=</span><span class="dv">100</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb21-51"><a href="Chapter3.html#cb21-51" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">select</span>(yes)</span>
<span id="cb21-52"><a href="Chapter3.html#cb21-52" tabindex="-1"></a>topo_lines<span class="ot">=</span><span class="fu">st_read_parquet</span>(<span class="st">&quot;./IevadesDati/topo/Topo_roadL.parquet&quot;</span>)</span>
<span id="cb21-53"><a href="Chapter3.html#cb21-53" tabindex="-1"></a>topo_lines<span class="ot">=</span>topo_lines <span class="sc">%&gt;%</span> </span>
<span id="cb21-54"><a href="Chapter3.html#cb21-54" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">yes=</span><span class="dv">100</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb21-55"><a href="Chapter3.html#cb21-55" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">select</span>(yes)</span>
<span id="cb21-56"><a href="Chapter3.html#cb21-56" tabindex="-1"></a>cl<span class="ot">=</span><span class="fu">bind_rows</span>(meza_autoceli,attistamie,topo_lines)</span>
<span id="cb21-57"><a href="Chapter3.html#cb21-57" tabindex="-1"></a>cl<span class="ot">=</span>cl <span class="sc">%&gt;%</span> </span>
<span id="cb21-58"><a href="Chapter3.html#cb21-58" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">select</span>(yes)</span>
<span id="cb21-59"><a href="Chapter3.html#cb21-59" tabindex="-1"></a>clb<span class="ot">=</span><span class="fu">st_buffer</span>(cl,<span class="at">dist=</span><span class="dv">10</span>)</span>
<span id="cb21-60"><a href="Chapter3.html#cb21-60" tabindex="-1"></a>r_celi_lines<span class="ot">=</span><span class="fu">fasterize</span>(clb,template_r,<span class="at">field=</span><span class="st">&quot;yes&quot;</span>)</span>
<span id="cb21-61"><a href="Chapter3.html#cb21-61" tabindex="-1"></a></span>
<span id="cb21-62"><a href="Chapter3.html#cb21-62" tabindex="-1"></a><span class="co"># liekā aizvākšana</span></span>
<span id="cb21-63"><a href="Chapter3.html#cb21-63" tabindex="-1"></a><span class="fu">rm</span>(apgriesanas)</span>
<span id="cb21-64"><a href="Chapter3.html#cb21-64" tabindex="-1"></a><span class="fu">rm</span>(attistamie)</span>
<span id="cb21-65"><a href="Chapter3.html#cb21-65" tabindex="-1"></a><span class="fu">rm</span>(celi_topo)</span>
<span id="cb21-66"><a href="Chapter3.html#cb21-66" tabindex="-1"></a><span class="fu">rm</span>(topo_lines)</span>
<span id="cb21-67"><a href="Chapter3.html#cb21-67" tabindex="-1"></a><span class="fu">rm</span>(ctb)</span>
<span id="cb21-68"><a href="Chapter3.html#cb21-68" tabindex="-1"></a><span class="fu">rm</span>(cl)</span>
<span id="cb21-69"><a href="Chapter3.html#cb21-69" tabindex="-1"></a><span class="fu">rm</span>(clb)</span>
<span id="cb21-70"><a href="Chapter3.html#cb21-70" tabindex="-1"></a><span class="fu">rm</span>(cp)</span>
<span id="cb21-71"><a href="Chapter3.html#cb21-71" tabindex="-1"></a><span class="fu">rm</span>(cpb)</span>
<span id="cb21-72"><a href="Chapter3.html#cb21-72" tabindex="-1"></a><span class="fu">rm</span>(izmainisanas)</span>
<span id="cb21-73"><a href="Chapter3.html#cb21-73" tabindex="-1"></a><span class="fu">rm</span>(meza_autoceli)</span>
<span id="cb21-74"><a href="Chapter3.html#cb21-74" tabindex="-1"></a><span class="fu">rm</span>(nobrauktuves)</span>
<span id="cb21-75"><a href="Chapter3.html#cb21-75" tabindex="-1"></a></span>
<span id="cb21-76"><a href="Chapter3.html#cb21-76" tabindex="-1"></a><span class="co"># ģeometriju rasterizēšana</span></span>
<span id="cb21-77"><a href="Chapter3.html#cb21-77" tabindex="-1"></a>t_celi_topo<span class="ot">=</span><span class="fu">rast</span>(r_celi_topo)</span>
<span id="cb21-78"><a href="Chapter3.html#cb21-78" tabindex="-1"></a><span class="fu">writeRaster</span>(t_celi_topo,<span class="st">&quot;./100a.tif&quot;</span>)</span>
<span id="cb21-79"><a href="Chapter3.html#cb21-79" tabindex="-1"></a>t_celi_pts<span class="ot">=</span><span class="fu">rast</span>(r_celi_pts)</span>
<span id="cb21-80"><a href="Chapter3.html#cb21-80" tabindex="-1"></a><span class="fu">writeRaster</span>(t_celi_pts,<span class="st">&quot;./100b.tif&quot;</span>)</span>
<span id="cb21-81"><a href="Chapter3.html#cb21-81" tabindex="-1"></a>t_celi_lines<span class="ot">=</span><span class="fu">rast</span>(r_celi_lines)</span>
<span id="cb21-82"><a href="Chapter3.html#cb21-82" tabindex="-1"></a><span class="fu">writeRaster</span>(t_celi_lines,<span class="st">&quot;./100c.tif&quot;</span>)</span>
<span id="cb21-83"><a href="Chapter3.html#cb21-83" tabindex="-1"></a></span>
<span id="cb21-84"><a href="Chapter3.html#cb21-84" tabindex="-1"></a><span class="co"># liekā aizvākšana</span></span>
<span id="cb21-85"><a href="Chapter3.html#cb21-85" tabindex="-1"></a><span class="fu">rm</span>(r_celi_lines)</span>
<span id="cb21-86"><a href="Chapter3.html#cb21-86" tabindex="-1"></a><span class="fu">rm</span>(r_celi_pts)</span>
<span id="cb21-87"><a href="Chapter3.html#cb21-87" tabindex="-1"></a><span class="fu">rm</span>(r_celi_topo)</span>
<span id="cb21-88"><a href="Chapter3.html#cb21-88" tabindex="-1"></a><span class="fu">rm</span>(t_celi_lines)</span>
<span id="cb21-89"><a href="Chapter3.html#cb21-89" tabindex="-1"></a><span class="fu">rm</span>(t_celi_pts)</span>
<span id="cb21-90"><a href="Chapter3.html#cb21-90" tabindex="-1"></a><span class="fu">rm</span>(t_celi_topo)</span>
<span id="cb21-91"><a href="Chapter3.html#cb21-91" tabindex="-1"></a></span>
<span id="cb21-92"><a href="Chapter3.html#cb21-92" tabindex="-1"></a><span class="co"># apvienošana</span></span>
<span id="cb21-93"><a href="Chapter3.html#cb21-93" tabindex="-1"></a>a100<span class="ot">=</span><span class="fu">rast</span>(<span class="st">&quot;./IevadesDati/ainava/100a.tif&quot;</span>)</span>
<span id="cb21-94"><a href="Chapter3.html#cb21-94" tabindex="-1"></a>b100<span class="ot">=</span><span class="fu">rast</span>(<span class="st">&quot;./IevadesDati/ainava/100b.tif&quot;</span>)</span>
<span id="cb21-95"><a href="Chapter3.html#cb21-95" tabindex="-1"></a>c100<span class="ot">=</span><span class="fu">rast</span>(<span class="st">&quot;./IevadesDati/ainava/100c.tif&quot;</span>)</span>
<span id="cb21-96"><a href="Chapter3.html#cb21-96" tabindex="-1"></a></span>
<span id="cb21-97"><a href="Chapter3.html#cb21-97" tabindex="-1"></a>rastri<span class="ot">=</span><span class="fu">sprc</span>(a100,b100,c100)</span>
<span id="cb21-98"><a href="Chapter3.html#cb21-98" tabindex="-1"></a>rastrs_celi<span class="ot">=</span>terra<span class="sc">::</span><span class="fu">merge</span>(rastri,</span>
<span id="cb21-99"><a href="Chapter3.html#cb21-99" tabindex="-1"></a>                         <span class="at">filename=</span><span class="st">&quot;./IevadesDati/ainava/100_celi.tif&quot;</span>,</span>
<span id="cb21-100"><a href="Chapter3.html#cb21-100" tabindex="-1"></a>                         <span class="at">overwrite=</span><span class="cn">TRUE</span>)</span>
<span id="cb21-101"><a href="Chapter3.html#cb21-101" tabindex="-1"></a><span class="co"># liekā aizvākšana</span></span>
<span id="cb21-102"><a href="Chapter3.html#cb21-102" tabindex="-1"></a><span class="fu">rm</span>(a100)</span>
<span id="cb21-103"><a href="Chapter3.html#cb21-103" tabindex="-1"></a><span class="fu">rm</span>(b100)</span>
<span id="cb21-104"><a href="Chapter3.html#cb21-104" tabindex="-1"></a><span class="fu">rm</span>(c100)</span>
<span id="cb21-105"><a href="Chapter3.html#cb21-105" tabindex="-1"></a><span class="fu">rm</span>(rastri)</span>
<span id="cb21-106"><a href="Chapter3.html#cb21-106" tabindex="-1"></a><span class="fu">rm</span>(rastrs_celi)</span></code></pre></div>
</details>
<p><br></p>
<ul>
<li><p>klase <code>200</code> - <strong>ūdeņi</strong>: dažādu avotu ūdensobjekti, <strong>aizpildīta secībā</strong> - dominē pār klasēm ar lielāku vērtību, lai nepazustu relatīvi neliela izmēra objekti un nodrošinātu informāciju par malām. Šīs klases izveidošanai apvienoti:</p>
<p>– <a href="Chapter3.html#Chapter3.1.3">topogrāfiskās kartes</a> slāņi <code>hidro_A</code> un <code>hidro_L</code> (buferēts par 5 m);</p>
<p>– <a href="Chapter3.html#Chapter3.1.4">MKIS</a> slānis <code>Ditches</code>, to buferējot par 3 m;</p>
<p>– <a href="Chapter3.html#Chapter3.1.5">LVM atvērto datu</a> slāņi <code>LVM_GRAVJI</code>, tās buferējot par 5 m.</p>
<p>– nav izmantota Meža valsts reģistra informācija par grāvjiem, jo tai ir arī pārējos resursos, vai tik nelielai, ka nerada vienlaidus pārrāvumu koku vainagu klājā.</p></li>
</ul>
<p>Zemāk esošās komandu rindas izveido slāni ar ainavas klasi <code>200</code>, kuru failā <code>200_udens_premask.tif</code> saglabā turpmākam darbam.</p>
<details class=chunk-details><summary class=chunk-summary><span class=chunk-summary-text>Code</span></summary>
<div class="sourceCode" id="cb22"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb22-1"><a href="Chapter3.html#cb22-1" tabindex="-1"></a><span class="co"># Libs</span></span>
<span id="cb22-2"><a href="Chapter3.html#cb22-2" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(tidyverse)) {<span class="fu">install.packages</span>(<span class="st">&quot;tidyverse&quot;</span>); <span class="fu">require</span>(tidyverse)}</span>
<span id="cb22-3"><a href="Chapter3.html#cb22-3" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(sf)) {<span class="fu">install.packages</span>(<span class="st">&quot;sf&quot;</span>); <span class="fu">require</span>(sf)}</span>
<span id="cb22-4"><a href="Chapter3.html#cb22-4" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(arrow)) {<span class="fu">install.packages</span>(<span class="st">&quot;arrow&quot;</span>); <span class="fu">require</span>(arrow)}</span>
<span id="cb22-5"><a href="Chapter3.html#cb22-5" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(sfarrow)) {<span class="fu">install.packages</span>(<span class="st">&quot;sfarrow&quot;</span>); <span class="fu">require</span>(sfarrow)}</span>
<span id="cb22-6"><a href="Chapter3.html#cb22-6" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(terra)) {<span class="fu">install.packages</span>(<span class="st">&quot;terra&quot;</span>); <span class="fu">require</span>(terra)}</span>
<span id="cb22-7"><a href="Chapter3.html#cb22-7" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(raster)) {<span class="fu">install.packages</span>(<span class="st">&quot;raster&quot;</span>); <span class="fu">require</span>(raster)}</span>
<span id="cb22-8"><a href="Chapter3.html#cb22-8" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(fasterize)) {<span class="fu">install.packages</span>(<span class="st">&quot;fasterize&quot;</span>); <span class="fu">require</span>(fasterize)}</span>
<span id="cb22-9"><a href="Chapter3.html#cb22-9" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(gdalUtilities)){<span class="fu">install.packages</span>(<span class="st">&quot;gdalUtilities&quot;</span>);<span class="fu">require</span>(gdalUtilities)}</span>
<span id="cb22-10"><a href="Chapter3.html#cb22-10" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(readxl)) {<span class="fu">install.packages</span>(<span class="st">&quot;readxl&quot;</span>); <span class="fu">require</span>(readxl)}</span>
<span id="cb22-11"><a href="Chapter3.html#cb22-11" tabindex="-1"></a></span>
<span id="cb22-12"><a href="Chapter3.html#cb22-12" tabindex="-1"></a><span class="co"># templates</span></span>
<span id="cb22-13"><a href="Chapter3.html#cb22-13" tabindex="-1"></a>template_t<span class="ot">=</span><span class="fu">rast</span>(<span class="st">&quot;./Templates/TemplateRasters/LV10m_10km.tif&quot;</span>)</span>
<span id="cb22-14"><a href="Chapter3.html#cb22-14" tabindex="-1"></a>template_r<span class="ot">=</span><span class="fu">raster</span>(template_t)</span>
<span id="cb22-15"><a href="Chapter3.html#cb22-15" tabindex="-1"></a></span>
<span id="cb22-16"><a href="Chapter3.html#cb22-16" tabindex="-1"></a></span>
<span id="cb22-17"><a href="Chapter3.html#cb22-17" tabindex="-1"></a><span class="co"># topo</span></span>
<span id="cb22-18"><a href="Chapter3.html#cb22-18" tabindex="-1"></a>topo_udens_poly<span class="ot">=</span><span class="fu">st_read_parquet</span>(<span class="st">&quot;./IevadesDati/topo/Topo_hidroA.parquet&quot;</span>)</span>
<span id="cb22-19"><a href="Chapter3.html#cb22-19" tabindex="-1"></a>topo_udens_poly<span class="ot">=</span>topo_udens_poly <span class="sc">%&gt;%</span> </span>
<span id="cb22-20"><a href="Chapter3.html#cb22-20" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">yes=</span><span class="dv">200</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb22-21"><a href="Chapter3.html#cb22-21" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">select</span>(yes) <span class="sc">%&gt;%</span> </span>
<span id="cb22-22"><a href="Chapter3.html#cb22-22" tabindex="-1"></a>  <span class="fu">st_transform</span>(<span class="at">crs=</span><span class="dv">3059</span>)</span>
<span id="cb22-23"><a href="Chapter3.html#cb22-23" tabindex="-1"></a>topo_udens_lines<span class="ot">=</span><span class="fu">st_read_parquet</span>(<span class="st">&quot;./IevadesDati/topo/Topo_hidroL.parquet&quot;</span>)</span>
<span id="cb22-24"><a href="Chapter3.html#cb22-24" tabindex="-1"></a>topo_udens_lines<span class="ot">=</span>topo_udens_lines <span class="sc">%&gt;%</span> </span>
<span id="cb22-25"><a href="Chapter3.html#cb22-25" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">yes=</span><span class="dv">200</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb22-26"><a href="Chapter3.html#cb22-26" tabindex="-1"></a>  <span class="fu">st_buffer</span>(<span class="at">dist=</span><span class="dv">5</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb22-27"><a href="Chapter3.html#cb22-27" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">select</span>(yes) <span class="sc">%&gt;%</span> </span>
<span id="cb22-28"><a href="Chapter3.html#cb22-28" tabindex="-1"></a>  <span class="fu">st_transform</span>(<span class="at">crs=</span><span class="dv">3059</span>)</span>
<span id="cb22-29"><a href="Chapter3.html#cb22-29" tabindex="-1"></a>topo_udens<span class="ot">=</span><span class="fu">rbind</span>(topo_udens_poly,topo_udens_lines)</span>
<span id="cb22-30"><a href="Chapter3.html#cb22-30" tabindex="-1"></a>r_topo_udens<span class="ot">=</span><span class="fu">fasterize</span>(topo_udens,template_r,<span class="at">field=</span><span class="st">&quot;yes&quot;</span>)</span>
<span id="cb22-31"><a href="Chapter3.html#cb22-31" tabindex="-1"></a>raster<span class="sc">::</span><span class="fu">writeRaster</span>(r_topo_udens,</span>
<span id="cb22-32"><a href="Chapter3.html#cb22-32" tabindex="-1"></a>                    <span class="st">&quot;./200_topo.tif&quot;</span>,</span>
<span id="cb22-33"><a href="Chapter3.html#cb22-33" tabindex="-1"></a>                    <span class="at">progress=</span><span class="st">&quot;text&quot;</span>)</span>
<span id="cb22-34"><a href="Chapter3.html#cb22-34" tabindex="-1"></a><span class="co"># liekā aizvākšana</span></span>
<span id="cb22-35"><a href="Chapter3.html#cb22-35" tabindex="-1"></a><span class="fu">rm</span>(topo_udens_lines)</span>
<span id="cb22-36"><a href="Chapter3.html#cb22-36" tabindex="-1"></a><span class="fu">rm</span>(topo_udens_poly)</span>
<span id="cb22-37"><a href="Chapter3.html#cb22-37" tabindex="-1"></a><span class="fu">rm</span>(topo_udens)</span>
<span id="cb22-38"><a href="Chapter3.html#cb22-38" tabindex="-1"></a><span class="fu">rm</span>(r_topo_udens)</span>
<span id="cb22-39"><a href="Chapter3.html#cb22-39" tabindex="-1"></a></span>
<span id="cb22-40"><a href="Chapter3.html#cb22-40" tabindex="-1"></a><span class="co"># mkis</span></span>
<span id="cb22-41"><a href="Chapter3.html#cb22-41" tabindex="-1"></a>mkis_gravji<span class="ot">=</span><span class="fu">st_read</span>(<span class="st">&quot;./IevadesDati/MKIS/MKIS_20180612.gdb/&quot;</span>,<span class="at">layer=</span><span class="st">&quot;Ditches&quot;</span>)</span>
<span id="cb22-42"><a href="Chapter3.html#cb22-42" tabindex="-1"></a></span>
<span id="cb22-43"><a href="Chapter3.html#cb22-43" tabindex="-1"></a>ensure_MULTILINESTRING <span class="ot">&lt;-</span> <span class="cf">function</span>(X) {</span>
<span id="cb22-44"><a href="Chapter3.html#cb22-44" tabindex="-1"></a>  tmp1 <span class="ot">&lt;-</span> <span class="fu">tempfile</span>(<span class="at">fileext =</span> <span class="st">&quot;.gpkg&quot;</span>)</span>
<span id="cb22-45"><a href="Chapter3.html#cb22-45" tabindex="-1"></a>  tmp2 <span class="ot">&lt;-</span> <span class="fu">tempfile</span>(<span class="at">fileext =</span> <span class="st">&quot;.gpkg&quot;</span>)</span>
<span id="cb22-46"><a href="Chapter3.html#cb22-46" tabindex="-1"></a>  <span class="fu">st_write</span>(X, tmp1)</span>
<span id="cb22-47"><a href="Chapter3.html#cb22-47" tabindex="-1"></a>  <span class="fu">ogr2ogr</span>(tmp1, tmp2, <span class="at">f =</span> <span class="st">&quot;GPKG&quot;</span>, <span class="at">nlt =</span> <span class="st">&quot;MULTILINESTRING&quot;</span>)</span>
<span id="cb22-48"><a href="Chapter3.html#cb22-48" tabindex="-1"></a>  Y <span class="ot">&lt;-</span> <span class="fu">st_read</span>(tmp2)</span>
<span id="cb22-49"><a href="Chapter3.html#cb22-49" tabindex="-1"></a>  <span class="fu">st_sf</span>(<span class="fu">st_drop_geometry</span>(X), <span class="at">geom =</span> <span class="fu">st_geometry</span>(Y))</span>
<span id="cb22-50"><a href="Chapter3.html#cb22-50" tabindex="-1"></a>}</span>
<span id="cb22-51"><a href="Chapter3.html#cb22-51" tabindex="-1"></a>mkis_gravji2 <span class="ot">&lt;-</span> <span class="fu">ensure_MULTILINESTRING</span>(mkis_gravji)</span>
<span id="cb22-52"><a href="Chapter3.html#cb22-52" tabindex="-1"></a></span>
<span id="cb22-53"><a href="Chapter3.html#cb22-53" tabindex="-1"></a>mkis_gravji3 <span class="ot">=</span> mkis_gravji2[<span class="sc">!</span><span class="fu">st_is_empty</span>(mkis_gravji2),,drop<span class="ot">=</span><span class="cn">FALSE</span>] <span class="co"># 2 geom</span></span>
<span id="cb22-54"><a href="Chapter3.html#cb22-54" tabindex="-1"></a>validity<span class="ot">=</span><span class="fu">st_is_valid</span>(mkis_gravji3) </span>
<span id="cb22-55"><a href="Chapter3.html#cb22-55" tabindex="-1"></a><span class="fu">table</span>(validity) <span class="co"># OK</span></span>
<span id="cb22-56"><a href="Chapter3.html#cb22-56" tabindex="-1"></a></span>
<span id="cb22-57"><a href="Chapter3.html#cb22-57" tabindex="-1"></a>mkis_gravji<span class="ot">=</span>mkis_gravji3 <span class="sc">%&gt;%</span> </span>
<span id="cb22-58"><a href="Chapter3.html#cb22-58" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">yes=</span><span class="dv">200</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb22-59"><a href="Chapter3.html#cb22-59" tabindex="-1"></a>  <span class="fu">st_buffer</span>(<span class="at">dist=</span><span class="dv">3</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb22-60"><a href="Chapter3.html#cb22-60" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">select</span>(yes)</span>
<span id="cb22-61"><a href="Chapter3.html#cb22-61" tabindex="-1"></a>r_mkis_udens<span class="ot">=</span><span class="fu">fasterize</span>(mkis_gravji,template_r,<span class="at">field=</span><span class="st">&quot;yes&quot;</span>)</span>
<span id="cb22-62"><a href="Chapter3.html#cb22-62" tabindex="-1"></a>raster<span class="sc">::</span><span class="fu">writeRaster</span>(r_mkis_udens,</span>
<span id="cb22-63"><a href="Chapter3.html#cb22-63" tabindex="-1"></a>                    <span class="st">&quot;./IevadesDati/ainava/200_mkis.tif&quot;</span>,</span>
<span id="cb22-64"><a href="Chapter3.html#cb22-64" tabindex="-1"></a>                    <span class="at">progress=</span><span class="st">&quot;text&quot;</span>)</span>
<span id="cb22-65"><a href="Chapter3.html#cb22-65" tabindex="-1"></a><span class="co"># liekā aizvākšana</span></span>
<span id="cb22-66"><a href="Chapter3.html#cb22-66" tabindex="-1"></a><span class="fu">rm</span>(mkis_gravji)</span>
<span id="cb22-67"><a href="Chapter3.html#cb22-67" tabindex="-1"></a><span class="fu">rm</span>(mkis_gravji2)</span>
<span id="cb22-68"><a href="Chapter3.html#cb22-68" tabindex="-1"></a><span class="fu">rm</span>(mkis_gravji3)</span>
<span id="cb22-69"><a href="Chapter3.html#cb22-69" tabindex="-1"></a><span class="fu">rm</span>(r_mkis_udens)</span>
<span id="cb22-70"><a href="Chapter3.html#cb22-70" tabindex="-1"></a><span class="fu">rm</span>(validity)</span>
<span id="cb22-71"><a href="Chapter3.html#cb22-71" tabindex="-1"></a></span>
<span id="cb22-72"><a href="Chapter3.html#cb22-72" tabindex="-1"></a><span class="co"># lvm</span></span>
<span id="cb22-73"><a href="Chapter3.html#cb22-73" tabindex="-1"></a>lvm_gravji<span class="ot">=</span><span class="fu">st_read</span>(<span class="st">&quot;./IevadesDati/LVM_AtvertieDati/lejupielades/LVM_GRAVJI/LVM_GRAVJI_Shape.shp&quot;</span>)</span>
<span id="cb22-74"><a href="Chapter3.html#cb22-74" tabindex="-1"></a>lvm_gravji<span class="ot">=</span>lvm_gravji <span class="sc">%&gt;%</span> </span>
<span id="cb22-75"><a href="Chapter3.html#cb22-75" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">yes=</span><span class="dv">200</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb22-76"><a href="Chapter3.html#cb22-76" tabindex="-1"></a>  <span class="fu">st_buffer</span>(<span class="at">dist=</span><span class="dv">5</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb22-77"><a href="Chapter3.html#cb22-77" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">select</span>(yes)</span>
<span id="cb22-78"><a href="Chapter3.html#cb22-78" tabindex="-1"></a>r_lvm_gravji<span class="ot">=</span><span class="fu">fasterize</span>(lvm_gravji,template_r,<span class="at">field=</span><span class="st">&quot;yes&quot;</span>)</span>
<span id="cb22-79"><a href="Chapter3.html#cb22-79" tabindex="-1"></a>raster<span class="sc">::</span><span class="fu">writeRaster</span>(r_lvm_gravji,</span>
<span id="cb22-80"><a href="Chapter3.html#cb22-80" tabindex="-1"></a>                    <span class="st">&quot;./IevadesDati/ainava/200_lvm.tif&quot;</span>,</span>
<span id="cb22-81"><a href="Chapter3.html#cb22-81" tabindex="-1"></a>                    <span class="at">progress=</span><span class="st">&quot;text&quot;</span>,</span>
<span id="cb22-82"><a href="Chapter3.html#cb22-82" tabindex="-1"></a>                    <span class="at">overwrite=</span><span class="cn">TRUE</span>)</span>
<span id="cb22-83"><a href="Chapter3.html#cb22-83" tabindex="-1"></a><span class="co"># liekā aizvākšana</span></span>
<span id="cb22-84"><a href="Chapter3.html#cb22-84" tabindex="-1"></a><span class="fu">rm</span>(lvm_gravji)</span>
<span id="cb22-85"><a href="Chapter3.html#cb22-85" tabindex="-1"></a><span class="fu">rm</span>(r_lvm_gravji)</span>
<span id="cb22-86"><a href="Chapter3.html#cb22-86" tabindex="-1"></a></span>
<span id="cb22-87"><a href="Chapter3.html#cb22-87" tabindex="-1"></a></span>
<span id="cb22-88"><a href="Chapter3.html#cb22-88" tabindex="-1"></a><span class="co"># apvienojums</span></span>
<span id="cb22-89"><a href="Chapter3.html#cb22-89" tabindex="-1"></a>a200<span class="ot">=</span><span class="fu">rast</span>(<span class="st">&quot;./IevadesDati/ainava/200_topo.tif&quot;</span>)</span>
<span id="cb22-90"><a href="Chapter3.html#cb22-90" tabindex="-1"></a>b200<span class="ot">=</span><span class="fu">rast</span>(<span class="st">&quot;./IevadesDati/ainava/200_mkis.tif&quot;</span>)</span>
<span id="cb22-91"><a href="Chapter3.html#cb22-91" tabindex="-1"></a>c200<span class="ot">=</span><span class="fu">rast</span>(<span class="st">&quot;./IevadesDati/ainava/200_lvm.tif&quot;</span>)</span>
<span id="cb22-92"><a href="Chapter3.html#cb22-92" tabindex="-1"></a></span>
<span id="cb22-93"><a href="Chapter3.html#cb22-93" tabindex="-1"></a>rastri_udens<span class="ot">=</span><span class="fu">sprc</span>(a200,b200,c200)</span>
<span id="cb22-94"><a href="Chapter3.html#cb22-94" tabindex="-1"></a>rastrs_udens<span class="ot">=</span>terra<span class="sc">::</span><span class="fu">merge</span>(rastri_udens,</span>
<span id="cb22-95"><a href="Chapter3.html#cb22-95" tabindex="-1"></a>                         <span class="at">filename=</span><span class="st">&quot;./IevadesDati/ainava/200_udens_premask.tif&quot;</span>,</span>
<span id="cb22-96"><a href="Chapter3.html#cb22-96" tabindex="-1"></a>                         <span class="at">overwrite=</span><span class="cn">TRUE</span>)</span>
<span id="cb22-97"><a href="Chapter3.html#cb22-97" tabindex="-1"></a><span class="co"># liekā aizvākšana</span></span>
<span id="cb22-98"><a href="Chapter3.html#cb22-98" tabindex="-1"></a><span class="fu">rm</span>(a200)</span>
<span id="cb22-99"><a href="Chapter3.html#cb22-99" tabindex="-1"></a><span class="fu">rm</span>(b200)</span>
<span id="cb22-100"><a href="Chapter3.html#cb22-100" tabindex="-1"></a><span class="fu">rm</span>(c200)</span>
<span id="cb22-101"><a href="Chapter3.html#cb22-101" tabindex="-1"></a><span class="fu">rm</span>(rastri_udens)</span>
<span id="cb22-102"><a href="Chapter3.html#cb22-102" tabindex="-1"></a><span class="fu">rm</span>(rastrs_udens)</span></code></pre></div>
</details>
<p><br></p>
<ul>
<li><p>klase <code>300</code> - <strong>lauki</strong>: lauksaimniecības zemes LAD lauku blokos <strong>aizpildīta secībā</strong> - dominē pār klasēm ar lielāku vērtību, tomēr pēc pamata klašu izveidošanas, robu aizpildīšanā papildināta ar informāciju no <em>Dynamic World</em>. Šīs klases izveidošanai apvienoti:</p>
<p>– <a href="Chapter3.html#Chapter3.1.3">LAD lauku informācijas</a> slānis, kurš, sekojot pieņemtajam lēmumam par grupējumu (nedaudz plašāk <a href="Chapter4.html#chapter4.2.16">šeit</a>, klases apskatāmas <a href="./Papilddati/KulturuKodi_2024.xlsx">šeit</a>), dalīts trīs plašās grupās (pārklāšanās secībā):</p>
<p>– <strong>aramzemes</strong> ar klases kodu <code>310</code>;</p>
<p>– <strong>papuves</strong> ar klases kodu <code>320</code>;</p>
<p>– <strong>zālāji</strong> ar klases kodu <code>330</code>;</p>
<p>– pamata ainavā augļudārzi un ilggadīgie krūmveida stādījumi ievietoti citās ainavas klasēs.</p></li>
</ul>
<p>Zemāk esošās komandu rindas izveido slāni ar ainavas klasi <code>300</code> ar tās apakšklasēm, kuru failā <code>300_lauki_premask.tif</code> saglabā turpmākam darbam.</p>
<details class=chunk-details><summary class=chunk-summary><span class=chunk-summary-text>Code</span></summary>
<div class="sourceCode" id="cb23"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb23-1"><a href="Chapter3.html#cb23-1" tabindex="-1"></a><span class="co"># Libs</span></span>
<span id="cb23-2"><a href="Chapter3.html#cb23-2" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(tidyverse)) {<span class="fu">install.packages</span>(<span class="st">&quot;tidyverse&quot;</span>); <span class="fu">require</span>(tidyverse)}</span>
<span id="cb23-3"><a href="Chapter3.html#cb23-3" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(sf)) {<span class="fu">install.packages</span>(<span class="st">&quot;sf&quot;</span>); <span class="fu">require</span>(sf)}</span>
<span id="cb23-4"><a href="Chapter3.html#cb23-4" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(arrow)) {<span class="fu">install.packages</span>(<span class="st">&quot;arrow&quot;</span>); <span class="fu">require</span>(arrow)}</span>
<span id="cb23-5"><a href="Chapter3.html#cb23-5" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(sfarrow)) {<span class="fu">install.packages</span>(<span class="st">&quot;sfarrow&quot;</span>); <span class="fu">require</span>(sfarrow)}</span>
<span id="cb23-6"><a href="Chapter3.html#cb23-6" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(terra)) {<span class="fu">install.packages</span>(<span class="st">&quot;terra&quot;</span>); <span class="fu">require</span>(terra)}</span>
<span id="cb23-7"><a href="Chapter3.html#cb23-7" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(raster)) {<span class="fu">install.packages</span>(<span class="st">&quot;raster&quot;</span>); <span class="fu">require</span>(raster)}</span>
<span id="cb23-8"><a href="Chapter3.html#cb23-8" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(fasterize)) {<span class="fu">install.packages</span>(<span class="st">&quot;fasterize&quot;</span>); <span class="fu">require</span>(fasterize)}</span>
<span id="cb23-9"><a href="Chapter3.html#cb23-9" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(gdalUtilities)){<span class="fu">install.packages</span>(<span class="st">&quot;gdalUtilities&quot;</span>);<span class="fu">require</span>(gdalUtilities)}</span>
<span id="cb23-10"><a href="Chapter3.html#cb23-10" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(readxl)) {<span class="fu">install.packages</span>(<span class="st">&quot;readxl&quot;</span>); <span class="fu">require</span>(readxl)}</span>
<span id="cb23-11"><a href="Chapter3.html#cb23-11" tabindex="-1"></a></span>
<span id="cb23-12"><a href="Chapter3.html#cb23-12" tabindex="-1"></a><span class="co"># templates</span></span>
<span id="cb23-13"><a href="Chapter3.html#cb23-13" tabindex="-1"></a>template_t<span class="ot">=</span><span class="fu">rast</span>(<span class="st">&quot;./Templates/TemplateRasters/LV10m_10km.tif&quot;</span>)</span>
<span id="cb23-14"><a href="Chapter3.html#cb23-14" tabindex="-1"></a>template_r<span class="ot">=</span><span class="fu">raster</span>(template_t)</span>
<span id="cb23-15"><a href="Chapter3.html#cb23-15" tabindex="-1"></a></span>
<span id="cb23-16"><a href="Chapter3.html#cb23-16" tabindex="-1"></a></span>
<span id="cb23-17"><a href="Chapter3.html#cb23-17" tabindex="-1"></a></span>
<span id="cb23-18"><a href="Chapter3.html#cb23-18" tabindex="-1"></a><span class="co"># lad</span></span>
<span id="cb23-19"><a href="Chapter3.html#cb23-19" tabindex="-1"></a>lad_klasem<span class="ot">=</span><span class="fu">read_excel</span>(<span class="st">&quot;./IevadesDati/LAD/KulturuKodi_2024.xlsx&quot;</span>)</span>
<span id="cb23-20"><a href="Chapter3.html#cb23-20" tabindex="-1"></a>lad<span class="ot">=</span><span class="fu">st_read_parquet</span>(<span class="st">&quot;./IevadesDati/LAD/LAD_lauki.parquet&quot;</span>)</span>
<span id="cb23-21"><a href="Chapter3.html#cb23-21" tabindex="-1"></a></span>
<span id="cb23-22"><a href="Chapter3.html#cb23-22" tabindex="-1"></a></span>
<span id="cb23-23"><a href="Chapter3.html#cb23-23" tabindex="-1"></a><span class="do">## aramzemes</span></span>
<span id="cb23-24"><a href="Chapter3.html#cb23-24" tabindex="-1"></a>amazemem<span class="ot">=</span>lad_klasem <span class="sc">%&gt;%</span> </span>
<span id="cb23-25"><a href="Chapter3.html#cb23-25" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="fu">str_detect</span>(SDM_grupa_sakums,<span class="st">&quot;aramz&quot;</span>))</span>
<span id="cb23-26"><a href="Chapter3.html#cb23-26" tabindex="-1"></a>aramzemes<span class="ot">=</span>lad <span class="sc">%&gt;%</span> </span>
<span id="cb23-27"><a href="Chapter3.html#cb23-27" tabindex="-1"></a>  <span class="fu">filter</span>(PRODUCT_CODE <span class="sc">%in%</span> amazemem<span class="sc">$</span>kods) <span class="sc">%&gt;%</span> </span>
<span id="cb23-28"><a href="Chapter3.html#cb23-28" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">yes=</span><span class="dv">310</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb23-29"><a href="Chapter3.html#cb23-29" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">select</span>(yes)</span>
<span id="cb23-30"><a href="Chapter3.html#cb23-30" tabindex="-1"></a>r_aramzemes_lad<span class="ot">=</span><span class="fu">fasterize</span>(aramzemes,template_r,<span class="at">field=</span><span class="st">&quot;yes&quot;</span>)</span>
<span id="cb23-31"><a href="Chapter3.html#cb23-31" tabindex="-1"></a>raster<span class="sc">::</span><span class="fu">writeRaster</span>(r_aramzemes_lad,</span>
<span id="cb23-32"><a href="Chapter3.html#cb23-32" tabindex="-1"></a>                    <span class="st">&quot;./IevadesDati/ainava/310_aramzemes_lad.tif&quot;</span>,</span>
<span id="cb23-33"><a href="Chapter3.html#cb23-33" tabindex="-1"></a>                    <span class="at">progress=</span><span class="st">&quot;text&quot;</span>,</span>
<span id="cb23-34"><a href="Chapter3.html#cb23-34" tabindex="-1"></a>                    <span class="at">overwrite=</span><span class="cn">TRUE</span>)</span>
<span id="cb23-35"><a href="Chapter3.html#cb23-35" tabindex="-1"></a><span class="co"># liekā aizvākšana</span></span>
<span id="cb23-36"><a href="Chapter3.html#cb23-36" tabindex="-1"></a><span class="fu">rm</span>(amazemem)</span>
<span id="cb23-37"><a href="Chapter3.html#cb23-37" tabindex="-1"></a><span class="fu">rm</span>(aramzemes)</span>
<span id="cb23-38"><a href="Chapter3.html#cb23-38" tabindex="-1"></a><span class="fu">rm</span>(r_aramzemes_lad)</span>
<span id="cb23-39"><a href="Chapter3.html#cb23-39" tabindex="-1"></a></span>
<span id="cb23-40"><a href="Chapter3.html#cb23-40" tabindex="-1"></a></span>
<span id="cb23-41"><a href="Chapter3.html#cb23-41" tabindex="-1"></a><span class="do">## papuves</span></span>
<span id="cb23-42"><a href="Chapter3.html#cb23-42" tabindex="-1"></a>papuvem<span class="ot">=</span>lad_klasem <span class="sc">%&gt;%</span> </span>
<span id="cb23-43"><a href="Chapter3.html#cb23-43" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="fu">str_detect</span>(SDM_grupa_sakums,<span class="st">&quot;papuv&quot;</span>))</span>
<span id="cb23-44"><a href="Chapter3.html#cb23-44" tabindex="-1"></a>papuves<span class="ot">=</span>lad <span class="sc">%&gt;%</span> </span>
<span id="cb23-45"><a href="Chapter3.html#cb23-45" tabindex="-1"></a>  <span class="fu">filter</span>(PRODUCT_CODE <span class="sc">%in%</span> papuvem<span class="sc">$</span>kods) <span class="sc">%&gt;%</span> </span>
<span id="cb23-46"><a href="Chapter3.html#cb23-46" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">yes=</span><span class="dv">320</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb23-47"><a href="Chapter3.html#cb23-47" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">select</span>(yes)</span>
<span id="cb23-48"><a href="Chapter3.html#cb23-48" tabindex="-1"></a>r_papuves_lad<span class="ot">=</span><span class="fu">fasterize</span>(papuves,template_r,<span class="at">field=</span><span class="st">&quot;yes&quot;</span>)</span>
<span id="cb23-49"><a href="Chapter3.html#cb23-49" tabindex="-1"></a>raster<span class="sc">::</span><span class="fu">writeRaster</span>(r_papuves_lad,</span>
<span id="cb23-50"><a href="Chapter3.html#cb23-50" tabindex="-1"></a>                    <span class="st">&quot;./IevadesDati/ainava/320_papuves_lad.tif&quot;</span>,</span>
<span id="cb23-51"><a href="Chapter3.html#cb23-51" tabindex="-1"></a>                    <span class="at">progress=</span><span class="st">&quot;text&quot;</span>,</span>
<span id="cb23-52"><a href="Chapter3.html#cb23-52" tabindex="-1"></a>                    <span class="at">overwrite=</span><span class="cn">TRUE</span>)</span>
<span id="cb23-53"><a href="Chapter3.html#cb23-53" tabindex="-1"></a><span class="co"># liekā aizvākšana</span></span>
<span id="cb23-54"><a href="Chapter3.html#cb23-54" tabindex="-1"></a><span class="fu">rm</span>(papuvem)</span>
<span id="cb23-55"><a href="Chapter3.html#cb23-55" tabindex="-1"></a><span class="fu">rm</span>(papuves)</span>
<span id="cb23-56"><a href="Chapter3.html#cb23-56" tabindex="-1"></a><span class="fu">rm</span>(r_papuves_lad)</span>
<span id="cb23-57"><a href="Chapter3.html#cb23-57" tabindex="-1"></a></span>
<span id="cb23-58"><a href="Chapter3.html#cb23-58" tabindex="-1"></a><span class="do">## zalaji</span></span>
<span id="cb23-59"><a href="Chapter3.html#cb23-59" tabindex="-1"></a>zalajiem<span class="ot">=</span>lad_klasem <span class="sc">%&gt;%</span> </span>
<span id="cb23-60"><a href="Chapter3.html#cb23-60" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="fu">str_detect</span>(SDM_grupa_sakums,<span class="st">&quot;zālā&quot;</span>))</span>
<span id="cb23-61"><a href="Chapter3.html#cb23-61" tabindex="-1"></a>zalaji<span class="ot">=</span>lad <span class="sc">%&gt;%</span> </span>
<span id="cb23-62"><a href="Chapter3.html#cb23-62" tabindex="-1"></a>  <span class="fu">filter</span>(PRODUCT_CODE <span class="sc">%in%</span> zalajiem<span class="sc">$</span>kods) <span class="sc">%&gt;%</span> </span>
<span id="cb23-63"><a href="Chapter3.html#cb23-63" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">yes=</span><span class="dv">330</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb23-64"><a href="Chapter3.html#cb23-64" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">select</span>(yes)</span>
<span id="cb23-65"><a href="Chapter3.html#cb23-65" tabindex="-1"></a>r_zalaji_lad<span class="ot">=</span><span class="fu">fasterize</span>(zalaji,template_r,<span class="at">field=</span><span class="st">&quot;yes&quot;</span>)</span>
<span id="cb23-66"><a href="Chapter3.html#cb23-66" tabindex="-1"></a>raster<span class="sc">::</span><span class="fu">writeRaster</span>(r_zalaji_lad,</span>
<span id="cb23-67"><a href="Chapter3.html#cb23-67" tabindex="-1"></a>                    <span class="st">&quot;./IevadesDati/ainava/330_zalaji_lad.tif&quot;</span>,</span>
<span id="cb23-68"><a href="Chapter3.html#cb23-68" tabindex="-1"></a>                    <span class="at">progress=</span><span class="st">&quot;text&quot;</span>,</span>
<span id="cb23-69"><a href="Chapter3.html#cb23-69" tabindex="-1"></a>                    <span class="at">overwrite=</span><span class="cn">TRUE</span>)</span>
<span id="cb23-70"><a href="Chapter3.html#cb23-70" tabindex="-1"></a><span class="co"># liekā aizvākšana</span></span>
<span id="cb23-71"><a href="Chapter3.html#cb23-71" tabindex="-1"></a><span class="fu">rm</span>(zalajiem)</span>
<span id="cb23-72"><a href="Chapter3.html#cb23-72" tabindex="-1"></a><span class="fu">rm</span>(zalaji)</span>
<span id="cb23-73"><a href="Chapter3.html#cb23-73" tabindex="-1"></a><span class="fu">rm</span>(r_zalaji_lad)</span>
<span id="cb23-74"><a href="Chapter3.html#cb23-74" tabindex="-1"></a></span>
<span id="cb23-75"><a href="Chapter3.html#cb23-75" tabindex="-1"></a><span class="co"># apvienojums</span></span>
<span id="cb23-76"><a href="Chapter3.html#cb23-76" tabindex="-1"></a>a300<span class="ot">=</span><span class="fu">rast</span>(<span class="st">&quot;./IevadesDati/ainava/310_aramzemes_lad.tif&quot;</span>)</span>
<span id="cb23-77"><a href="Chapter3.html#cb23-77" tabindex="-1"></a>b300<span class="ot">=</span><span class="fu">rast</span>(<span class="st">&quot;./IevadesDati/ainava/320_papuves_lad.tif&quot;</span>)</span>
<span id="cb23-78"><a href="Chapter3.html#cb23-78" tabindex="-1"></a>c300<span class="ot">=</span><span class="fu">rast</span>(<span class="st">&quot;./IevadesDati/ainava/330_zalaji_lad.tif&quot;</span>)</span>
<span id="cb23-79"><a href="Chapter3.html#cb23-79" tabindex="-1"></a></span>
<span id="cb23-80"><a href="Chapter3.html#cb23-80" tabindex="-1"></a>rastri_laukiem<span class="ot">=</span><span class="fu">sprc</span>(a300,b300,c300)</span>
<span id="cb23-81"><a href="Chapter3.html#cb23-81" tabindex="-1"></a>rastrs_lauki<span class="ot">=</span>terra<span class="sc">::</span><span class="fu">merge</span>(rastri_laukiem,</span>
<span id="cb23-82"><a href="Chapter3.html#cb23-82" tabindex="-1"></a>                               <span class="at">filename=</span><span class="st">&quot;./IevadesDati/ainava/300_lauki_premask.tif&quot;</span>,</span>
<span id="cb23-83"><a href="Chapter3.html#cb23-83" tabindex="-1"></a>                               <span class="at">overwrite=</span><span class="cn">TRUE</span>)</span>
<span id="cb23-84"><a href="Chapter3.html#cb23-84" tabindex="-1"></a><span class="co"># liekā aizvākšana</span></span>
<span id="cb23-85"><a href="Chapter3.html#cb23-85" tabindex="-1"></a><span class="fu">rm</span>(lad)</span>
<span id="cb23-86"><a href="Chapter3.html#cb23-86" tabindex="-1"></a><span class="fu">rm</span>(lad_klasem)</span>
<span id="cb23-87"><a href="Chapter3.html#cb23-87" tabindex="-1"></a><span class="fu">rm</span>(a300)</span>
<span id="cb23-88"><a href="Chapter3.html#cb23-88" tabindex="-1"></a><span class="fu">rm</span>(b300)</span>
<span id="cb23-89"><a href="Chapter3.html#cb23-89" tabindex="-1"></a><span class="fu">rm</span>(c300)</span>
<span id="cb23-90"><a href="Chapter3.html#cb23-90" tabindex="-1"></a><span class="fu">rm</span>(rastri_laukiem)</span>
<span id="cb23-91"><a href="Chapter3.html#cb23-91" tabindex="-1"></a><span class="fu">rm</span>(rastrs_lauki)</span></code></pre></div>
</details>
<p><br></p>
<ul>
<li><p>klase <code>400</code> - <strong>mazdārziņi un augļudārzi, vasarnīcas</strong>, <strong>aizpildīta secībā</strong> - dominē pār klasēm ar lielāku vērtību. Šīs klases izveidošanai apvienoti (pārklāšanās secībā):</p>
<p>– <a href="Chapter3.html#Chapter3.1.3">topogrāfiskās kartes</a> slānis <code>landus_A</code>, kura rezultāts kodēts ar <code>410</code>;</p>
<p>– <a href="Chapter3.html#Chapter3.1.3">LAD lauku informācijas</a> slāņa grupa (nedaudz plašāk par grupējumu <a href="Chapter4.html#chapter4.2.16">šeit</a>, klases apskatāmas <a href="./Papilddati/KulturuKodi_2024.xlsx">šeit</a>) “augļudārzi”, kura rezultāts kodēts ar <code>420</code>.</p></li>
</ul>
<p>Zemāk esošās komandu rindas izveido slāni ar ainavas klasi <code>400</code>, kuru failā <code>400_vasarnicas_premask.tif</code> saglabā turpmākam darbam.</p>
<details class=chunk-details><summary class=chunk-summary><span class=chunk-summary-text>Code</span></summary>
<div class="sourceCode" id="cb24"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb24-1"><a href="Chapter3.html#cb24-1" tabindex="-1"></a><span class="co"># Libs</span></span>
<span id="cb24-2"><a href="Chapter3.html#cb24-2" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(tidyverse)) {<span class="fu">install.packages</span>(<span class="st">&quot;tidyverse&quot;</span>); <span class="fu">require</span>(tidyverse)}</span>
<span id="cb24-3"><a href="Chapter3.html#cb24-3" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(sf)) {<span class="fu">install.packages</span>(<span class="st">&quot;sf&quot;</span>); <span class="fu">require</span>(sf)}</span>
<span id="cb24-4"><a href="Chapter3.html#cb24-4" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(arrow)) {<span class="fu">install.packages</span>(<span class="st">&quot;arrow&quot;</span>); <span class="fu">require</span>(arrow)}</span>
<span id="cb24-5"><a href="Chapter3.html#cb24-5" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(sfarrow)) {<span class="fu">install.packages</span>(<span class="st">&quot;sfarrow&quot;</span>); <span class="fu">require</span>(sfarrow)}</span>
<span id="cb24-6"><a href="Chapter3.html#cb24-6" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(terra)) {<span class="fu">install.packages</span>(<span class="st">&quot;terra&quot;</span>); <span class="fu">require</span>(terra)}</span>
<span id="cb24-7"><a href="Chapter3.html#cb24-7" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(raster)) {<span class="fu">install.packages</span>(<span class="st">&quot;raster&quot;</span>); <span class="fu">require</span>(raster)}</span>
<span id="cb24-8"><a href="Chapter3.html#cb24-8" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(fasterize)) {<span class="fu">install.packages</span>(<span class="st">&quot;fasterize&quot;</span>); <span class="fu">require</span>(fasterize)}</span>
<span id="cb24-9"><a href="Chapter3.html#cb24-9" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(gdalUtilities)){<span class="fu">install.packages</span>(<span class="st">&quot;gdalUtilities&quot;</span>);<span class="fu">require</span>(gdalUtilities)}</span>
<span id="cb24-10"><a href="Chapter3.html#cb24-10" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(readxl)) {<span class="fu">install.packages</span>(<span class="st">&quot;readxl&quot;</span>); <span class="fu">require</span>(readxl)}</span>
<span id="cb24-11"><a href="Chapter3.html#cb24-11" tabindex="-1"></a></span>
<span id="cb24-12"><a href="Chapter3.html#cb24-12" tabindex="-1"></a><span class="co"># templates</span></span>
<span id="cb24-13"><a href="Chapter3.html#cb24-13" tabindex="-1"></a>template_t<span class="ot">=</span><span class="fu">rast</span>(<span class="st">&quot;./Templates/TemplateRasters/LV10m_10km.tif&quot;</span>)</span>
<span id="cb24-14"><a href="Chapter3.html#cb24-14" tabindex="-1"></a>template_r<span class="ot">=</span><span class="fu">raster</span>(template_t)</span>
<span id="cb24-15"><a href="Chapter3.html#cb24-15" tabindex="-1"></a></span>
<span id="cb24-16"><a href="Chapter3.html#cb24-16" tabindex="-1"></a></span>
<span id="cb24-17"><a href="Chapter3.html#cb24-17" tabindex="-1"></a><span class="co"># topo</span></span>
<span id="cb24-18"><a href="Chapter3.html#cb24-18" tabindex="-1"></a>darzini_topo<span class="ot">=</span><span class="fu">st_read_parquet</span>(<span class="st">&quot;./IevadesDati/topo/Topo_landusA.parquet&quot;</span>)</span>
<span id="cb24-19"><a href="Chapter3.html#cb24-19" tabindex="-1"></a><span class="fu">table</span>(darzini_topo<span class="sc">$</span>FNAME,<span class="at">useNA=</span><span class="st">&quot;always&quot;</span>)</span>
<span id="cb24-20"><a href="Chapter3.html#cb24-20" tabindex="-1"></a>darzini_topo<span class="ot">=</span>darzini_topo <span class="sc">%&gt;%</span> </span>
<span id="cb24-21"><a href="Chapter3.html#cb24-21" tabindex="-1"></a>  <span class="fu">filter</span>(FNAME <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">&quot;poligons_Augļudārzs&quot;</span>,<span class="st">&quot;poligons_Sakņudārzs&quot;</span>,</span>
<span id="cb24-22"><a href="Chapter3.html#cb24-22" tabindex="-1"></a>                      <span class="st">&quot;poligons_Ogulājs&quot;</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb24-23"><a href="Chapter3.html#cb24-23" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">yes=</span><span class="dv">410</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb24-24"><a href="Chapter3.html#cb24-24" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">select</span>(yes)</span>
<span id="cb24-25"><a href="Chapter3.html#cb24-25" tabindex="-1"></a>r_darzini_topo<span class="ot">=</span><span class="fu">fasterize</span>(darzini_topo,template_r,<span class="at">field=</span><span class="st">&quot;yes&quot;</span>)</span>
<span id="cb24-26"><a href="Chapter3.html#cb24-26" tabindex="-1"></a>raster<span class="sc">::</span><span class="fu">writeRaster</span>(r_darzini_topo,</span>
<span id="cb24-27"><a href="Chapter3.html#cb24-27" tabindex="-1"></a>                    <span class="st">&quot;./IevadesDati/ainava/410_darzini_topo.tif&quot;</span>,</span>
<span id="cb24-28"><a href="Chapter3.html#cb24-28" tabindex="-1"></a>                    <span class="at">progress=</span><span class="st">&quot;text&quot;</span>,</span>
<span id="cb24-29"><a href="Chapter3.html#cb24-29" tabindex="-1"></a>                    <span class="at">overwrite=</span><span class="cn">TRUE</span>)</span>
<span id="cb24-30"><a href="Chapter3.html#cb24-30" tabindex="-1"></a><span class="co"># liekā aizvākšana</span></span>
<span id="cb24-31"><a href="Chapter3.html#cb24-31" tabindex="-1"></a><span class="fu">rm</span>(darzini_topo)</span>
<span id="cb24-32"><a href="Chapter3.html#cb24-32" tabindex="-1"></a><span class="fu">rm</span>(r_darzini_topo)</span>
<span id="cb24-33"><a href="Chapter3.html#cb24-33" tabindex="-1"></a></span>
<span id="cb24-34"><a href="Chapter3.html#cb24-34" tabindex="-1"></a><span class="co"># lad</span></span>
<span id="cb24-35"><a href="Chapter3.html#cb24-35" tabindex="-1"></a>lad_klasem<span class="ot">=</span><span class="fu">read_excel</span>(<span class="st">&quot;./IevadesDati/LAD/KulturuKodi_2024.xlsx&quot;</span>)</span>
<span id="cb24-36"><a href="Chapter3.html#cb24-36" tabindex="-1"></a><span class="fu">table</span>(lad_klasem<span class="sc">$</span>SDM_grupa_sakums,<span class="at">useNA=</span><span class="st">&quot;always&quot;</span>)</span>
<span id="cb24-37"><a href="Chapter3.html#cb24-37" tabindex="-1"></a>augludarziem<span class="ot">=</span>lad_klasem <span class="sc">%&gt;%</span> </span>
<span id="cb24-38"><a href="Chapter3.html#cb24-38" tabindex="-1"></a>  <span class="fu">filter</span>(SDM_grupa_sakums<span class="sc">==</span><span class="st">&quot;augļudārzi&quot;</span>)</span>
<span id="cb24-39"><a href="Chapter3.html#cb24-39" tabindex="-1"></a>lad<span class="ot">=</span><span class="fu">st_read_parquet</span>(<span class="st">&quot;./IevadesDati/LAD/LAD_lauki.parquet&quot;</span>)</span>
<span id="cb24-40"><a href="Chapter3.html#cb24-40" tabindex="-1"></a>lad<span class="ot">=</span>lad <span class="sc">%&gt;%</span> </span>
<span id="cb24-41"><a href="Chapter3.html#cb24-41" tabindex="-1"></a>  <span class="fu">filter</span>(PRODUCT_CODE <span class="sc">%in%</span> augludarziem<span class="sc">$</span>kods) <span class="sc">%&gt;%</span> </span>
<span id="cb24-42"><a href="Chapter3.html#cb24-42" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">yes=</span><span class="dv">420</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb24-43"><a href="Chapter3.html#cb24-43" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">select</span>(yes)</span>
<span id="cb24-44"><a href="Chapter3.html#cb24-44" tabindex="-1"></a>r_darzini_lad<span class="ot">=</span><span class="fu">fasterize</span>(lad,template_r,<span class="at">field=</span><span class="st">&quot;yes&quot;</span>)</span>
<span id="cb24-45"><a href="Chapter3.html#cb24-45" tabindex="-1"></a>raster<span class="sc">::</span><span class="fu">writeRaster</span>(r_darzini_lad,</span>
<span id="cb24-46"><a href="Chapter3.html#cb24-46" tabindex="-1"></a>                    <span class="st">&quot;./IevadesDati/ainava/420_darzini_lad.tif&quot;</span>,</span>
<span id="cb24-47"><a href="Chapter3.html#cb24-47" tabindex="-1"></a>                    <span class="at">progress=</span><span class="st">&quot;text&quot;</span>,</span>
<span id="cb24-48"><a href="Chapter3.html#cb24-48" tabindex="-1"></a>                    <span class="at">overwrite=</span><span class="cn">TRUE</span>)</span>
<span id="cb24-49"><a href="Chapter3.html#cb24-49" tabindex="-1"></a><span class="co"># liekā aizvākšana</span></span>
<span id="cb24-50"><a href="Chapter3.html#cb24-50" tabindex="-1"></a><span class="fu">rm</span>(lad_klasem)</span>
<span id="cb24-51"><a href="Chapter3.html#cb24-51" tabindex="-1"></a><span class="fu">rm</span>(augludarziem)</span>
<span id="cb24-52"><a href="Chapter3.html#cb24-52" tabindex="-1"></a><span class="fu">rm</span>(lad)</span>
<span id="cb24-53"><a href="Chapter3.html#cb24-53" tabindex="-1"></a><span class="fu">rm</span>(r_darzini_lad)</span>
<span id="cb24-54"><a href="Chapter3.html#cb24-54" tabindex="-1"></a></span>
<span id="cb24-55"><a href="Chapter3.html#cb24-55" tabindex="-1"></a><span class="co"># apvienojums</span></span>
<span id="cb24-56"><a href="Chapter3.html#cb24-56" tabindex="-1"></a>a400<span class="ot">=</span><span class="fu">rast</span>(<span class="st">&quot;./IevadesDati/ainava/410_darzini_topo.tif&quot;</span>)</span>
<span id="cb24-57"><a href="Chapter3.html#cb24-57" tabindex="-1"></a>b400<span class="ot">=</span><span class="fu">rast</span>(<span class="st">&quot;./IevadesDati/ainava/420_darzini_lad.tif&quot;</span>)</span>
<span id="cb24-58"><a href="Chapter3.html#cb24-58" tabindex="-1"></a></span>
<span id="cb24-59"><a href="Chapter3.html#cb24-59" tabindex="-1"></a>rastri_vasarnicam<span class="ot">=</span><span class="fu">sprc</span>(a400,b400)</span>
<span id="cb24-60"><a href="Chapter3.html#cb24-60" tabindex="-1"></a>rastrs_vasarnicas<span class="ot">=</span>terra<span class="sc">::</span><span class="fu">merge</span>(rastri_vasarnicam,</span>
<span id="cb24-61"><a href="Chapter3.html#cb24-61" tabindex="-1"></a>                          <span class="at">filename=</span><span class="st">&quot;./IevadesDati/ainava/400_varnicas_premask.tif&quot;</span>,</span>
<span id="cb24-62"><a href="Chapter3.html#cb24-62" tabindex="-1"></a>                          <span class="at">overwrite=</span><span class="cn">TRUE</span>)</span>
<span id="cb24-63"><a href="Chapter3.html#cb24-63" tabindex="-1"></a><span class="co"># liekā aizvākšana</span></span>
<span id="cb24-64"><a href="Chapter3.html#cb24-64" tabindex="-1"></a><span class="fu">rm</span>(a400)</span>
<span id="cb24-65"><a href="Chapter3.html#cb24-65" tabindex="-1"></a><span class="fu">rm</span>(b400)</span>
<span id="cb24-66"><a href="Chapter3.html#cb24-66" tabindex="-1"></a><span class="fu">rm</span>(rastri_vasarnicam)</span>
<span id="cb24-67"><a href="Chapter3.html#cb24-67" tabindex="-1"></a><span class="fu">rm</span>(rastrs_vasarnicas)</span></code></pre></div>
</details>
<p><br></p>
<ul>
<li><p>klase <code>500</code> - <strong>apbūve</strong>: apbūvētās platības, <strong>aizpildīta beigās</strong>, izmantojot informāciju no <em>Dynamic World</em> par vietām, kuras nav nosegtas ar citām klasēm.</p></li>
<li><p>klase <code>600</code> - <strong>meži, krūmāji, izcirtumi</strong>: ar kokiem un krūmiem klātās platības un izcirtumi un iznīkušās mežaudzes, <strong>aizpildīta secībā</strong> - dominē pār klasēm ar lielāku vērtību. Šīs klases izveidošanai apvienoti (pārklāšanās secībā):</p>
<p>– <a href="Chapter3.html#Chapter3.1.9"><em>The Global Forest Watch</em></a> slānī reģistrētās koku vainagu seguma izzušanas kopš 2020. gada, kura rezultāts kodēts ar <code>610</code>;</p>
<p>– <a href="Chapter3.html#Chapter3.1.1">Meža valsts reģistrā</a> atzīmētie izcirtumi un iznīkušās audzes, kura rezultāts kodēts ar <code>610</code>;</p>
<p>– <a href="Chapter3.html#Chapter3.1.1">Meža valsts reģistrā</a> atzīmētās mežaudzes, kas ir zemākas par 5 m un sēklu ieguves plantācijas, kura rezultāts kodēts ar <code>620</code>;</p>
<p>– <a href="Chapter3.html#Chapter3.1.3">topogrāfiskās kartes</a> slāņa <code>flora_L</code> ar krūmiem saistītās klases, kas buferētas par 10 m, kura rezultāts kodēts ar <code>620</code>;</p>
<p>– <a href="Chapter3.html#Chapter3.1.3">topogrāfiskās kartes</a> slāņi <code>landus_A</code> klase “poligons_Krūmājs”, kura rezultāts kodēts ar <code>620</code>;</p>
<p>– <a href="Chapter3.html#Chapter3.1.3">LAD lauku informācijas</a> slāņa grupa (nedaudz plašāk par grupējumu <a href="Chapter4.html#chapter4.2.16">šeit</a>, klases apskatāmas <a href="./Papilddati/KulturuKodi_2024.xlsx">šeit</a>) “ilggadīgie krūmveida stādījumi”, kura rezultāts kodēts ar <code>620</code>;</p>
<p>– <a href="Chapter3.html#Chapter3.1.1">Meža valsts reģistrā</a> atzīmētās mežaudzes augstumā no 5 m, rezultāts kodēts ar <code>630</code>;</p>
<p>– <a href="Chapter3.html#Chapter3.1.3">topogrāfiskās kartes</a> slāņa <code>landus_A</code> klases “poligons_Parks”, “poligons_Meza_kapi”, “poligons_Kapi”, kura rezultāts kodēts ar <code>640</code>;</p>
<p>– <a href="Chapter3.html#Chapter3.1.3">topogrāfiskās kartes</a> slāņa <code>flora_L</code> ar kokiem saistītās klases, kas buferētas par 10 m, kura rezultāts kodēts ar <code>640</code>;</p>
<p>– <a href="Chapter3.html#Chapter3.1.10">Palsar Forests</a> slānis, kura rezultāts kodēts ar <code>630</code>.</p></li>
</ul>
<p>Zemāk esošās komandu rindas izveido slāni ar ainavas klasi <code>600</code>, kuru failā <code>600_meziem_premask.tif</code> saglabā turpmākam darbam.</p>
<details class=chunk-details><summary class=chunk-summary><span class=chunk-summary-text>Code</span></summary>
<div class="sourceCode" id="cb25"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb25-1"><a href="Chapter3.html#cb25-1" tabindex="-1"></a><span class="co"># Libs</span></span>
<span id="cb25-2"><a href="Chapter3.html#cb25-2" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(tidyverse)) {<span class="fu">install.packages</span>(<span class="st">&quot;tidyverse&quot;</span>); <span class="fu">require</span>(tidyverse)}</span>
<span id="cb25-3"><a href="Chapter3.html#cb25-3" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(sf)) {<span class="fu">install.packages</span>(<span class="st">&quot;sf&quot;</span>); <span class="fu">require</span>(sf)}</span>
<span id="cb25-4"><a href="Chapter3.html#cb25-4" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(arrow)) {<span class="fu">install.packages</span>(<span class="st">&quot;arrow&quot;</span>); <span class="fu">require</span>(arrow)}</span>
<span id="cb25-5"><a href="Chapter3.html#cb25-5" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(sfarrow)) {<span class="fu">install.packages</span>(<span class="st">&quot;sfarrow&quot;</span>); <span class="fu">require</span>(sfarrow)}</span>
<span id="cb25-6"><a href="Chapter3.html#cb25-6" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(terra)) {<span class="fu">install.packages</span>(<span class="st">&quot;terra&quot;</span>); <span class="fu">require</span>(terra)}</span>
<span id="cb25-7"><a href="Chapter3.html#cb25-7" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(raster)) {<span class="fu">install.packages</span>(<span class="st">&quot;raster&quot;</span>); <span class="fu">require</span>(raster)}</span>
<span id="cb25-8"><a href="Chapter3.html#cb25-8" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(fasterize)) {<span class="fu">install.packages</span>(<span class="st">&quot;fasterize&quot;</span>); <span class="fu">require</span>(fasterize)}</span>
<span id="cb25-9"><a href="Chapter3.html#cb25-9" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(gdalUtilities)){<span class="fu">install.packages</span>(<span class="st">&quot;gdalUtilities&quot;</span>);<span class="fu">require</span>(gdalUtilities)}</span>
<span id="cb25-10"><a href="Chapter3.html#cb25-10" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(readxl)) {<span class="fu">install.packages</span>(<span class="st">&quot;readxl&quot;</span>); <span class="fu">require</span>(readxl)}</span>
<span id="cb25-11"><a href="Chapter3.html#cb25-11" tabindex="-1"></a></span>
<span id="cb25-12"><a href="Chapter3.html#cb25-12" tabindex="-1"></a><span class="co"># templates</span></span>
<span id="cb25-13"><a href="Chapter3.html#cb25-13" tabindex="-1"></a>template_t<span class="ot">=</span><span class="fu">rast</span>(<span class="st">&quot;./Templates/TemplateRasters/LV10m_10km.tif&quot;</span>)</span>
<span id="cb25-14"><a href="Chapter3.html#cb25-14" tabindex="-1"></a>template_r<span class="ot">=</span><span class="fu">raster</span>(template_t)</span>
<span id="cb25-15"><a href="Chapter3.html#cb25-15" tabindex="-1"></a></span>
<span id="cb25-16"><a href="Chapter3.html#cb25-16" tabindex="-1"></a></span>
<span id="cb25-17"><a href="Chapter3.html#cb25-17" tabindex="-1"></a><span class="co"># mvr </span></span>
<span id="cb25-18"><a href="Chapter3.html#cb25-18" tabindex="-1"></a>mvr<span class="ot">=</span><span class="fu">st_read_parquet</span>(<span class="st">&quot;./IevadesDati/MVR/nogabali_2024janv.parquet&quot;</span>)</span>
<span id="cb25-19"><a href="Chapter3.html#cb25-19" tabindex="-1"></a></span>
<span id="cb25-20"><a href="Chapter3.html#cb25-20" tabindex="-1"></a><span class="co"># izcirtumi</span></span>
<span id="cb25-21"><a href="Chapter3.html#cb25-21" tabindex="-1"></a>izcirtumi<span class="ot">=</span>mvr <span class="sc">%&gt;%</span> </span>
<span id="cb25-22"><a href="Chapter3.html#cb25-22" tabindex="-1"></a>  <span class="fu">filter</span>(zkat <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">&quot;12&quot;</span>,<span class="st">&quot;14&quot;</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb25-23"><a href="Chapter3.html#cb25-23" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">yes=</span><span class="dv">610</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb25-24"><a href="Chapter3.html#cb25-24" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">select</span>(yes)</span>
<span id="cb25-25"><a href="Chapter3.html#cb25-25" tabindex="-1"></a>r_izcirtumi_mvr<span class="ot">=</span><span class="fu">fasterize</span>(izcirtumi,template_r,<span class="at">field=</span><span class="st">&quot;yes&quot;</span>)</span>
<span id="cb25-26"><a href="Chapter3.html#cb25-26" tabindex="-1"></a>raster<span class="sc">::</span><span class="fu">writeRaster</span>(r_izcirtumi_mvr,</span>
<span id="cb25-27"><a href="Chapter3.html#cb25-27" tabindex="-1"></a>                    <span class="st">&quot;./IevadesDati/ainava/610_izcirtumi_mvr.tif&quot;</span>,</span>
<span id="cb25-28"><a href="Chapter3.html#cb25-28" tabindex="-1"></a>                    <span class="at">progress=</span><span class="st">&quot;text&quot;</span>,</span>
<span id="cb25-29"><a href="Chapter3.html#cb25-29" tabindex="-1"></a>                    <span class="at">overwrite=</span><span class="cn">TRUE</span>)</span>
<span id="cb25-30"><a href="Chapter3.html#cb25-30" tabindex="-1"></a><span class="co"># liekā aizvākšana</span></span>
<span id="cb25-31"><a href="Chapter3.html#cb25-31" tabindex="-1"></a><span class="fu">rm</span>(izcirtumi)</span>
<span id="cb25-32"><a href="Chapter3.html#cb25-32" tabindex="-1"></a><span class="fu">rm</span>(r_izcirtumi_mvr)</span>
<span id="cb25-33"><a href="Chapter3.html#cb25-33" tabindex="-1"></a></span>
<span id="cb25-34"><a href="Chapter3.html#cb25-34" tabindex="-1"></a><span class="co"># zemās audzes</span></span>
<span id="cb25-35"><a href="Chapter3.html#cb25-35" tabindex="-1"></a><span class="co"># arī zkat 16</span></span>
<span id="cb25-36"><a href="Chapter3.html#cb25-36" tabindex="-1"></a>zemas_audzes<span class="ot">=</span>mvr <span class="sc">%&gt;%</span> </span>
<span id="cb25-37"><a href="Chapter3.html#cb25-37" tabindex="-1"></a>  <span class="fu">filter</span>((zkat <span class="sc">==</span><span class="st">&quot;10&quot;</span> <span class="sc">&amp;</span> h10<span class="sc">&lt;</span><span class="dv">5</span>)<span class="sc">|</span>zkat<span class="sc">==</span><span class="st">&quot;16&quot;</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb25-38"><a href="Chapter3.html#cb25-38" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">yes=</span><span class="dv">620</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb25-39"><a href="Chapter3.html#cb25-39" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">select</span>(yes)</span>
<span id="cb25-40"><a href="Chapter3.html#cb25-40" tabindex="-1"></a>r_zemas_mvr<span class="ot">=</span><span class="fu">fasterize</span>(zemas_audzes,template_r,<span class="at">field=</span><span class="st">&quot;yes&quot;</span>)</span>
<span id="cb25-41"><a href="Chapter3.html#cb25-41" tabindex="-1"></a>raster<span class="sc">::</span><span class="fu">writeRaster</span>(r_zemas_mvr,</span>
<span id="cb25-42"><a href="Chapter3.html#cb25-42" tabindex="-1"></a>                    <span class="st">&quot;./IevadesDati/ainava/620_zemas_mvr.tif&quot;</span>,</span>
<span id="cb25-43"><a href="Chapter3.html#cb25-43" tabindex="-1"></a>                    <span class="at">progress=</span><span class="st">&quot;text&quot;</span>,</span>
<span id="cb25-44"><a href="Chapter3.html#cb25-44" tabindex="-1"></a>                    <span class="at">overwrite=</span><span class="cn">TRUE</span>)</span>
<span id="cb25-45"><a href="Chapter3.html#cb25-45" tabindex="-1"></a><span class="co"># liekā aizvākšana</span></span>
<span id="cb25-46"><a href="Chapter3.html#cb25-46" tabindex="-1"></a><span class="fu">rm</span>(zemas_audzes)</span>
<span id="cb25-47"><a href="Chapter3.html#cb25-47" tabindex="-1"></a><span class="fu">rm</span>(r_zemas_mvr)</span>
<span id="cb25-48"><a href="Chapter3.html#cb25-48" tabindex="-1"></a></span>
<span id="cb25-49"><a href="Chapter3.html#cb25-49" tabindex="-1"></a></span>
<span id="cb25-50"><a href="Chapter3.html#cb25-50" tabindex="-1"></a><span class="co"># augstās audzes</span></span>
<span id="cb25-51"><a href="Chapter3.html#cb25-51" tabindex="-1"></a>augstas_audzes<span class="ot">=</span>mvr <span class="sc">%&gt;%</span> </span>
<span id="cb25-52"><a href="Chapter3.html#cb25-52" tabindex="-1"></a>  <span class="fu">filter</span>(zkat <span class="sc">==</span><span class="st">&quot;10&quot;</span> <span class="sc">&amp;</span> h10<span class="sc">&gt;=</span><span class="dv">5</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb25-53"><a href="Chapter3.html#cb25-53" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">yes=</span><span class="dv">630</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb25-54"><a href="Chapter3.html#cb25-54" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">select</span>(yes)</span>
<span id="cb25-55"><a href="Chapter3.html#cb25-55" tabindex="-1"></a>r_augstas_mvr<span class="ot">=</span><span class="fu">fasterize</span>(augstas_audzes,template_r,<span class="at">field=</span><span class="st">&quot;yes&quot;</span>)</span>
<span id="cb25-56"><a href="Chapter3.html#cb25-56" tabindex="-1"></a>raster<span class="sc">::</span><span class="fu">writeRaster</span>(r_augstas_mvr,</span>
<span id="cb25-57"><a href="Chapter3.html#cb25-57" tabindex="-1"></a>                    <span class="st">&quot;./IevadesDati/ainava/630_augstas_mvr.tif&quot;</span>,</span>
<span id="cb25-58"><a href="Chapter3.html#cb25-58" tabindex="-1"></a>                    <span class="at">progress=</span><span class="st">&quot;text&quot;</span>,</span>
<span id="cb25-59"><a href="Chapter3.html#cb25-59" tabindex="-1"></a>                    <span class="at">overwrite=</span><span class="cn">TRUE</span>)</span>
<span id="cb25-60"><a href="Chapter3.html#cb25-60" tabindex="-1"></a><span class="co"># liekā aizvākšana</span></span>
<span id="cb25-61"><a href="Chapter3.html#cb25-61" tabindex="-1"></a><span class="fu">rm</span>(augstas_audzes)</span>
<span id="cb25-62"><a href="Chapter3.html#cb25-62" tabindex="-1"></a><span class="fu">rm</span>(r_augstas_mvr)</span>
<span id="cb25-63"><a href="Chapter3.html#cb25-63" tabindex="-1"></a><span class="fu">rm</span>(mvr)</span>
<span id="cb25-64"><a href="Chapter3.html#cb25-64" tabindex="-1"></a></span>
<span id="cb25-65"><a href="Chapter3.html#cb25-65" tabindex="-1"></a><span class="co"># tcl - kopš 2020</span></span>
<span id="cb25-66"><a href="Chapter3.html#cb25-66" tabindex="-1"></a>tcl<span class="ot">=</span><span class="fu">rast</span>(<span class="st">&quot;./Rastri_10m/TreeCoverLossYear.tif&quot;</span>)</span>
<span id="cb25-67"><a href="Chapter3.html#cb25-67" tabindex="-1"></a>tcl2<span class="ot">=</span><span class="fu">ifel</span>(tcl<span class="sc">&lt;</span><span class="dv">20</span>,<span class="cn">NA</span>,<span class="dv">610</span>,</span>
<span id="cb25-68"><a href="Chapter3.html#cb25-68" tabindex="-1"></a>          <span class="at">filename=</span><span class="st">&quot;./IevadesDati/ainava/610_TCL.tif&quot;</span>,</span>
<span id="cb25-69"><a href="Chapter3.html#cb25-69" tabindex="-1"></a>          <span class="at">overwrite=</span><span class="cn">TRUE</span>)</span>
<span id="cb25-70"><a href="Chapter3.html#cb25-70" tabindex="-1"></a><span class="co"># liekā aizvākšana</span></span>
<span id="cb25-71"><a href="Chapter3.html#cb25-71" tabindex="-1"></a><span class="fu">rm</span>(tcl)</span>
<span id="cb25-72"><a href="Chapter3.html#cb25-72" tabindex="-1"></a><span class="fu">rm</span>(tcl2)</span>
<span id="cb25-73"><a href="Chapter3.html#cb25-73" tabindex="-1"></a></span>
<span id="cb25-74"><a href="Chapter3.html#cb25-74" tabindex="-1"></a><span class="co"># palsar</span></span>
<span id="cb25-75"><a href="Chapter3.html#cb25-75" tabindex="-1"></a>palsar<span class="ot">=</span><span class="fu">rast</span>(<span class="st">&quot;./Rastri_10m/Palsar_Forests.tif&quot;</span>)</span>
<span id="cb25-76"><a href="Chapter3.html#cb25-76" tabindex="-1"></a>palsar2<span class="ot">=</span><span class="fu">ifel</span>(palsar<span class="sc">==</span><span class="dv">1</span>,<span class="dv">630</span>,<span class="cn">NA</span>,</span>
<span id="cb25-77"><a href="Chapter3.html#cb25-77" tabindex="-1"></a>          <span class="at">filename=</span><span class="st">&quot;./IevadesDati/ainava/630_Palsar.tif&quot;</span>,</span>
<span id="cb25-78"><a href="Chapter3.html#cb25-78" tabindex="-1"></a>          <span class="at">overwrite=</span><span class="cn">TRUE</span>)</span>
<span id="cb25-79"><a href="Chapter3.html#cb25-79" tabindex="-1"></a><span class="co"># liekā aizvākšana</span></span>
<span id="cb25-80"><a href="Chapter3.html#cb25-80" tabindex="-1"></a><span class="fu">rm</span>(palsar)</span>
<span id="cb25-81"><a href="Chapter3.html#cb25-81" tabindex="-1"></a><span class="fu">rm</span>(palsar2)</span>
<span id="cb25-82"><a href="Chapter3.html#cb25-82" tabindex="-1"></a></span>
<span id="cb25-83"><a href="Chapter3.html#cb25-83" tabindex="-1"></a></span>
<span id="cb25-84"><a href="Chapter3.html#cb25-84" tabindex="-1"></a><span class="co"># lad</span></span>
<span id="cb25-85"><a href="Chapter3.html#cb25-85" tabindex="-1"></a>lad_klasem<span class="ot">=</span><span class="fu">read_excel</span>(<span class="st">&quot;./IevadesDati/LAD/KulturuKodi_2024.xlsx&quot;</span>)</span>
<span id="cb25-86"><a href="Chapter3.html#cb25-86" tabindex="-1"></a><span class="fu">table</span>(lad_klasem<span class="sc">$</span>SDM_grupa_sakums,<span class="at">useNA=</span><span class="st">&quot;always&quot;</span>)</span>
<span id="cb25-87"><a href="Chapter3.html#cb25-87" tabindex="-1"></a>lad<span class="ot">=</span><span class="fu">st_read_parquet</span>(<span class="st">&quot;./IevadesDati/LAD/LAD_lauki.parquet&quot;</span>)</span>
<span id="cb25-88"><a href="Chapter3.html#cb25-88" tabindex="-1"></a>krumiem<span class="ot">=</span>lad_klasem <span class="sc">%&gt;%</span> </span>
<span id="cb25-89"><a href="Chapter3.html#cb25-89" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="fu">str_detect</span>(SDM_grupa_sakums,<span class="st">&quot;krūmv&quot;</span>))</span>
<span id="cb25-90"><a href="Chapter3.html#cb25-90" tabindex="-1"></a>krumi<span class="ot">=</span>lad <span class="sc">%&gt;%</span> </span>
<span id="cb25-91"><a href="Chapter3.html#cb25-91" tabindex="-1"></a>  <span class="fu">filter</span>(PRODUCT_CODE <span class="sc">%in%</span> krumiem<span class="sc">$</span>kods) <span class="sc">%&gt;%</span> </span>
<span id="cb25-92"><a href="Chapter3.html#cb25-92" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">yes=</span><span class="dv">620</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb25-93"><a href="Chapter3.html#cb25-93" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">select</span>(yes)</span>
<span id="cb25-94"><a href="Chapter3.html#cb25-94" tabindex="-1"></a>r_krumi_lad<span class="ot">=</span><span class="fu">fasterize</span>(krumi,template_r,<span class="at">field=</span><span class="st">&quot;yes&quot;</span>)</span>
<span id="cb25-95"><a href="Chapter3.html#cb25-95" tabindex="-1"></a>raster<span class="sc">::</span><span class="fu">writeRaster</span>(r_krumi_lad,</span>
<span id="cb25-96"><a href="Chapter3.html#cb25-96" tabindex="-1"></a>                    <span class="st">&quot;./IevadesDati/ainava/620_krumi_lad.tif&quot;</span>,</span>
<span id="cb25-97"><a href="Chapter3.html#cb25-97" tabindex="-1"></a>                    <span class="at">progress=</span><span class="st">&quot;text&quot;</span>,</span>
<span id="cb25-98"><a href="Chapter3.html#cb25-98" tabindex="-1"></a>                    <span class="at">overwrite=</span><span class="cn">TRUE</span>)</span>
<span id="cb25-99"><a href="Chapter3.html#cb25-99" tabindex="-1"></a><span class="co"># liekā aizvākšana</span></span>
<span id="cb25-100"><a href="Chapter3.html#cb25-100" tabindex="-1"></a><span class="fu">rm</span>(lad_klasem)</span>
<span id="cb25-101"><a href="Chapter3.html#cb25-101" tabindex="-1"></a><span class="fu">rm</span>(lad)</span>
<span id="cb25-102"><a href="Chapter3.html#cb25-102" tabindex="-1"></a><span class="fu">rm</span>(krumiem)</span>
<span id="cb25-103"><a href="Chapter3.html#cb25-103" tabindex="-1"></a><span class="fu">rm</span>(krumi)</span>
<span id="cb25-104"><a href="Chapter3.html#cb25-104" tabindex="-1"></a><span class="fu">rm</span>(r_krumi_lad)</span>
<span id="cb25-105"><a href="Chapter3.html#cb25-105" tabindex="-1"></a></span>
<span id="cb25-106"><a href="Chapter3.html#cb25-106" tabindex="-1"></a><span class="co"># topo - pkk</span></span>
<span id="cb25-107"><a href="Chapter3.html#cb25-107" tabindex="-1"></a>pkk_topo<span class="ot">=</span><span class="fu">st_read_parquet</span>(<span class="st">&quot;./IevadesDati/topo/Topo_landusA.parquet&quot;</span>)</span>
<span id="cb25-108"><a href="Chapter3.html#cb25-108" tabindex="-1"></a><span class="fu">table</span>(pkk_topo<span class="sc">$</span>FNAME,<span class="at">useNA=</span><span class="st">&quot;always&quot;</span>)</span>
<span id="cb25-109"><a href="Chapter3.html#cb25-109" tabindex="-1"></a>pkk_topo<span class="ot">=</span>pkk_topo <span class="sc">%&gt;%</span> </span>
<span id="cb25-110"><a href="Chapter3.html#cb25-110" tabindex="-1"></a>  <span class="fu">filter</span>(FNAME <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">&quot;poligons_Parks&quot;</span>,<span class="st">&quot;poligons_Meza_kapi&quot;</span>,<span class="st">&quot;poligons_Kapi&quot;</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb25-111"><a href="Chapter3.html#cb25-111" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">yes=</span><span class="dv">640</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb25-112"><a href="Chapter3.html#cb25-112" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">select</span>(yes)</span>
<span id="cb25-113"><a href="Chapter3.html#cb25-113" tabindex="-1"></a>r_pkk_topo<span class="ot">=</span><span class="fu">fasterize</span>(pkk_topo,template_r,<span class="at">field=</span><span class="st">&quot;yes&quot;</span>)</span>
<span id="cb25-114"><a href="Chapter3.html#cb25-114" tabindex="-1"></a>raster<span class="sc">::</span><span class="fu">writeRaster</span>(r_pkk_topo,</span>
<span id="cb25-115"><a href="Chapter3.html#cb25-115" tabindex="-1"></a>                    <span class="st">&quot;./IevadesDati/ainava/640_pkk_topo.tif&quot;</span>,</span>
<span id="cb25-116"><a href="Chapter3.html#cb25-116" tabindex="-1"></a>                    <span class="at">progress=</span><span class="st">&quot;text&quot;</span>,</span>
<span id="cb25-117"><a href="Chapter3.html#cb25-117" tabindex="-1"></a>                    <span class="at">overwrite=</span><span class="cn">TRUE</span>)</span>
<span id="cb25-118"><a href="Chapter3.html#cb25-118" tabindex="-1"></a><span class="co"># liekā aizvākšana</span></span>
<span id="cb25-119"><a href="Chapter3.html#cb25-119" tabindex="-1"></a><span class="fu">rm</span>(pkk_topo)</span>
<span id="cb25-120"><a href="Chapter3.html#cb25-120" tabindex="-1"></a><span class="fu">rm</span>(r_pkk_topo)</span>
<span id="cb25-121"><a href="Chapter3.html#cb25-121" tabindex="-1"></a></span>
<span id="cb25-122"><a href="Chapter3.html#cb25-122" tabindex="-1"></a><span class="co"># topo - krūmi</span></span>
<span id="cb25-123"><a href="Chapter3.html#cb25-123" tabindex="-1"></a>krumi_topo<span class="ot">=</span><span class="fu">st_read_parquet</span>(<span class="st">&quot;./IevadesDati/topo/Topo_landusA.parquet&quot;</span>)</span>
<span id="cb25-124"><a href="Chapter3.html#cb25-124" tabindex="-1"></a><span class="fu">table</span>(krumi_topo<span class="sc">$</span>FNAME,<span class="at">useNA=</span><span class="st">&quot;always&quot;</span>)</span>
<span id="cb25-125"><a href="Chapter3.html#cb25-125" tabindex="-1"></a>krumi_topo<span class="ot">=</span>krumi_topo <span class="sc">%&gt;%</span> </span>
<span id="cb25-126"><a href="Chapter3.html#cb25-126" tabindex="-1"></a>  <span class="fu">filter</span>(FNAME <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">&quot;poligons_Krūmājs&quot;</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb25-127"><a href="Chapter3.html#cb25-127" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">yes=</span><span class="dv">620</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb25-128"><a href="Chapter3.html#cb25-128" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">select</span>(yes)</span>
<span id="cb25-129"><a href="Chapter3.html#cb25-129" tabindex="-1"></a>r_krumi_topo<span class="ot">=</span><span class="fu">fasterize</span>(krumi_topo,template_r,<span class="at">field=</span><span class="st">&quot;yes&quot;</span>)</span>
<span id="cb25-130"><a href="Chapter3.html#cb25-130" tabindex="-1"></a>raster<span class="sc">::</span><span class="fu">writeRaster</span>(r_krumi_topo,</span>
<span id="cb25-131"><a href="Chapter3.html#cb25-131" tabindex="-1"></a>                    <span class="st">&quot;./IevadesDati/ainava/620_krumi_topo.tif&quot;</span>,</span>
<span id="cb25-132"><a href="Chapter3.html#cb25-132" tabindex="-1"></a>                    <span class="at">progress=</span><span class="st">&quot;text&quot;</span>,</span>
<span id="cb25-133"><a href="Chapter3.html#cb25-133" tabindex="-1"></a>                    <span class="at">overwrite=</span><span class="cn">TRUE</span>)</span>
<span id="cb25-134"><a href="Chapter3.html#cb25-134" tabindex="-1"></a><span class="co"># liekā aizvākšana</span></span>
<span id="cb25-135"><a href="Chapter3.html#cb25-135" tabindex="-1"></a><span class="fu">rm</span>(krumi_topo)</span>
<span id="cb25-136"><a href="Chapter3.html#cb25-136" tabindex="-1"></a><span class="fu">rm</span>(r_krumi_topo)</span>
<span id="cb25-137"><a href="Chapter3.html#cb25-137" tabindex="-1"></a></span>
<span id="cb25-138"><a href="Chapter3.html#cb25-138" tabindex="-1"></a><span class="co"># topo - linijkrumi un linijkoki</span></span>
<span id="cb25-139"><a href="Chapter3.html#cb25-139" tabindex="-1"></a>linijas_topo<span class="ot">=</span><span class="fu">st_read_parquet</span>(<span class="st">&quot;./IevadesDati/topo/Topo_floraL.parquet&quot;</span>)</span>
<span id="cb25-140"><a href="Chapter3.html#cb25-140" tabindex="-1"></a></span>
<span id="cb25-141"><a href="Chapter3.html#cb25-141" tabindex="-1"></a><span class="co"># linijkrumi</span></span>
<span id="cb25-142"><a href="Chapter3.html#cb25-142" tabindex="-1"></a>krumu_linijas_topo<span class="ot">=</span>linijas_topo <span class="sc">%&gt;%</span> </span>
<span id="cb25-143"><a href="Chapter3.html#cb25-143" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="fu">str_detect</span>(FNAME,<span class="st">&quot;Krūmu&quot;</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb25-144"><a href="Chapter3.html#cb25-144" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">yes=</span><span class="dv">620</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb25-145"><a href="Chapter3.html#cb25-145" tabindex="-1"></a>  <span class="fu">st_buffer</span>(<span class="at">dist=</span><span class="dv">10</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb25-146"><a href="Chapter3.html#cb25-146" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">select</span>(yes)</span>
<span id="cb25-147"><a href="Chapter3.html#cb25-147" tabindex="-1"></a>r_krumu_linijas_topo<span class="ot">=</span><span class="fu">fasterize</span>(krumu_linijas_topo,template_r,<span class="at">field=</span><span class="st">&quot;yes&quot;</span>)</span>
<span id="cb25-148"><a href="Chapter3.html#cb25-148" tabindex="-1"></a>raster<span class="sc">::</span><span class="fu">writeRaster</span>(r_krumu_linijas_topo,</span>
<span id="cb25-149"><a href="Chapter3.html#cb25-149" tabindex="-1"></a>                    <span class="st">&quot;./IevadesDati/ainava/620_KrumuLinijas_topo.tif&quot;</span>,</span>
<span id="cb25-150"><a href="Chapter3.html#cb25-150" tabindex="-1"></a>                    <span class="at">progress=</span><span class="st">&quot;text&quot;</span>,</span>
<span id="cb25-151"><a href="Chapter3.html#cb25-151" tabindex="-1"></a>                    <span class="at">overwrite=</span><span class="cn">TRUE</span>)</span>
<span id="cb25-152"><a href="Chapter3.html#cb25-152" tabindex="-1"></a><span class="co"># liekā aizvākšana</span></span>
<span id="cb25-153"><a href="Chapter3.html#cb25-153" tabindex="-1"></a><span class="fu">rm</span>(krumu_linijas_topo)</span>
<span id="cb25-154"><a href="Chapter3.html#cb25-154" tabindex="-1"></a><span class="fu">rm</span>(r_krumu_linijas_topo)</span>
<span id="cb25-155"><a href="Chapter3.html#cb25-155" tabindex="-1"></a></span>
<span id="cb25-156"><a href="Chapter3.html#cb25-156" tabindex="-1"></a><span class="co"># linijkoki</span></span>
<span id="cb25-157"><a href="Chapter3.html#cb25-157" tabindex="-1"></a>koku_linijas_topo<span class="ot">=</span>linijas_topo <span class="sc">%&gt;%</span> </span>
<span id="cb25-158"><a href="Chapter3.html#cb25-158" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="fu">str_detect</span>(FNAME,<span class="st">&quot;Koku&quot;</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb25-159"><a href="Chapter3.html#cb25-159" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">yes=</span><span class="dv">640</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb25-160"><a href="Chapter3.html#cb25-160" tabindex="-1"></a>  <span class="fu">st_buffer</span>(<span class="at">dist=</span><span class="dv">10</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb25-161"><a href="Chapter3.html#cb25-161" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">select</span>(yes)</span>
<span id="cb25-162"><a href="Chapter3.html#cb25-162" tabindex="-1"></a>r_koku_linijas_topo<span class="ot">=</span><span class="fu">fasterize</span>(koku_linijas_topo,template_r,<span class="at">field=</span><span class="st">&quot;yes&quot;</span>)</span>
<span id="cb25-163"><a href="Chapter3.html#cb25-163" tabindex="-1"></a>raster<span class="sc">::</span><span class="fu">writeRaster</span>(r_koku_linijas_topo,</span>
<span id="cb25-164"><a href="Chapter3.html#cb25-164" tabindex="-1"></a>                    <span class="st">&quot;./IevadesDati/ainava/640_KokuLinijas_topo.tif&quot;</span>,</span>
<span id="cb25-165"><a href="Chapter3.html#cb25-165" tabindex="-1"></a>                    <span class="at">progress=</span><span class="st">&quot;text&quot;</span>,</span>
<span id="cb25-166"><a href="Chapter3.html#cb25-166" tabindex="-1"></a>                    <span class="at">overwrite=</span><span class="cn">TRUE</span>)</span>
<span id="cb25-167"><a href="Chapter3.html#cb25-167" tabindex="-1"></a><span class="co"># liekā aizvākšana</span></span>
<span id="cb25-168"><a href="Chapter3.html#cb25-168" tabindex="-1"></a><span class="fu">rm</span>(koku_linijas_topo)</span>
<span id="cb25-169"><a href="Chapter3.html#cb25-169" tabindex="-1"></a><span class="fu">rm</span>(r_koku_linijas_topo)</span>
<span id="cb25-170"><a href="Chapter3.html#cb25-170" tabindex="-1"></a><span class="fu">rm</span>(linijas_topo)</span>
<span id="cb25-171"><a href="Chapter3.html#cb25-171" tabindex="-1"></a></span>
<span id="cb25-172"><a href="Chapter3.html#cb25-172" tabindex="-1"></a><span class="co"># apvienosana</span></span>
<span id="cb25-173"><a href="Chapter3.html#cb25-173" tabindex="-1"></a>r_krumi_lad<span class="ot">=</span><span class="fu">rast</span>(<span class="st">&quot;./IevadesDati/ainava/620_krumi_lad.tif&quot;</span>)</span>
<span id="cb25-174"><a href="Chapter3.html#cb25-174" tabindex="-1"></a>r_pkk_topo<span class="ot">=</span><span class="fu">rast</span>(<span class="st">&quot;./IevadesDati/ainava/640_pkk_topo.tif&quot;</span>)</span>
<span id="cb25-175"><a href="Chapter3.html#cb25-175" tabindex="-1"></a>r_krumi_topo<span class="ot">=</span><span class="fu">rast</span>(<span class="st">&quot;./IevadesDati/ainava/620_krumi_topo.tif&quot;</span>)</span>
<span id="cb25-176"><a href="Chapter3.html#cb25-176" tabindex="-1"></a>r_krumu_linijas_topo<span class="ot">=</span><span class="fu">rast</span>(<span class="st">&quot;./IevadesDati/ainava/620_KrumuLinijas_topo.tif&quot;</span>)</span>
<span id="cb25-177"><a href="Chapter3.html#cb25-177" tabindex="-1"></a>r_koku_linijas_topo<span class="ot">=</span><span class="fu">rast</span>(<span class="st">&quot;./IevadesDati/ainava/640_KokuLinijas_topo.tif&quot;</span>)</span>
<span id="cb25-178"><a href="Chapter3.html#cb25-178" tabindex="-1"></a>r_palsar<span class="ot">=</span><span class="fu">rast</span>(<span class="st">&quot;./IevadesDati/ainava/630_palsar.tif&quot;</span>)</span>
<span id="cb25-179"><a href="Chapter3.html#cb25-179" tabindex="-1"></a>r_tcl<span class="ot">=</span><span class="fu">rast</span>(<span class="st">&quot;./IevadesDati/ainava/610_TCL.tif&quot;</span>)</span>
<span id="cb25-180"><a href="Chapter3.html#cb25-180" tabindex="-1"></a>r_augstas_mvr<span class="ot">=</span><span class="fu">rast</span>(<span class="st">&quot;./IevadesDati/ainava/630_augstas_mvr.tif&quot;</span>)</span>
<span id="cb25-181"><a href="Chapter3.html#cb25-181" tabindex="-1"></a>r_zemas_mvr<span class="ot">=</span><span class="fu">rast</span>(<span class="st">&quot;./IevadesDati/ainava/620_zemas_mvr.tif&quot;</span>)</span>
<span id="cb25-182"><a href="Chapter3.html#cb25-182" tabindex="-1"></a>r_izcirtumi_mvr<span class="ot">=</span><span class="fu">rast</span>(<span class="st">&quot;./IevadesDati/ainava/610_izcirtumi_mvr.tif&quot;</span>)</span>
<span id="cb25-183"><a href="Chapter3.html#cb25-183" tabindex="-1"></a></span>
<span id="cb25-184"><a href="Chapter3.html#cb25-184" tabindex="-1"></a>rastri_meziem<span class="ot">=</span><span class="fu">sprc</span>(r_tcl,r_izcirtumi_mvr,</span>
<span id="cb25-185"><a href="Chapter3.html#cb25-185" tabindex="-1"></a>                   r_zemas_mvr,r_krumu_linijas_topo,r_krumi_topo,r_krumi_lad,</span>
<span id="cb25-186"><a href="Chapter3.html#cb25-186" tabindex="-1"></a>                   r_augstas_mvr,</span>
<span id="cb25-187"><a href="Chapter3.html#cb25-187" tabindex="-1"></a>                   r_pkk_topo,r_koku_linijas_topo,</span>
<span id="cb25-188"><a href="Chapter3.html#cb25-188" tabindex="-1"></a>                   r_palsar)</span>
<span id="cb25-189"><a href="Chapter3.html#cb25-189" tabindex="-1"></a>rastrs_mezi<span class="ot">=</span>terra<span class="sc">::</span><span class="fu">merge</span>(rastri_meziem,</span>
<span id="cb25-190"><a href="Chapter3.html#cb25-190" tabindex="-1"></a>                      <span class="at">filename=</span><span class="st">&quot;./IevadesDati/ainava/600_meziem_premask.tif&quot;</span>,</span>
<span id="cb25-191"><a href="Chapter3.html#cb25-191" tabindex="-1"></a>                      <span class="at">overwrite=</span><span class="cn">TRUE</span>)</span>
<span id="cb25-192"><a href="Chapter3.html#cb25-192" tabindex="-1"></a><span class="co"># liekā aizvākšana</span></span>
<span id="cb25-193"><a href="Chapter3.html#cb25-193" tabindex="-1"></a><span class="fu">rm</span>(r_krumi_lad)</span>
<span id="cb25-194"><a href="Chapter3.html#cb25-194" tabindex="-1"></a><span class="fu">rm</span>(r_pkk_topo)</span>
<span id="cb25-195"><a href="Chapter3.html#cb25-195" tabindex="-1"></a><span class="fu">rm</span>(r_krumi_topo)</span>
<span id="cb25-196"><a href="Chapter3.html#cb25-196" tabindex="-1"></a><span class="fu">rm</span>(r_krumu_linijas_topo)</span>
<span id="cb25-197"><a href="Chapter3.html#cb25-197" tabindex="-1"></a><span class="fu">rm</span>(r_koku_linijas_topo)</span>
<span id="cb25-198"><a href="Chapter3.html#cb25-198" tabindex="-1"></a><span class="fu">rm</span>(r_palsar)</span>
<span id="cb25-199"><a href="Chapter3.html#cb25-199" tabindex="-1"></a><span class="fu">rm</span>(r_tcl)</span>
<span id="cb25-200"><a href="Chapter3.html#cb25-200" tabindex="-1"></a><span class="fu">rm</span>(r_augstas_mvr)</span>
<span id="cb25-201"><a href="Chapter3.html#cb25-201" tabindex="-1"></a><span class="fu">rm</span>(r_zemas_mvr)</span>
<span id="cb25-202"><a href="Chapter3.html#cb25-202" tabindex="-1"></a><span class="fu">rm</span>(r_izcirtumi_mvr)</span>
<span id="cb25-203"><a href="Chapter3.html#cb25-203" tabindex="-1"></a><span class="fu">rm</span>(rastri_meziem)</span>
<span id="cb25-204"><a href="Chapter3.html#cb25-204" tabindex="-1"></a><span class="fu">rm</span>(rastrs_mezi)</span></code></pre></div>
</details>
<p><br></p>
<ul>
<li><p>klase <code>700</code> - <strong>mitrāji</strong>: apvienojot ar niedrājiem, purviem un bebrainēs saistītos ģeotelpiskos datus, <strong>aizpildīta secībā</strong> - dominē pār klasēm ar lielāku vērtību. Šīs klases izveidošanai apvienoti (pārklāšanās secībā):</p>
<p>– <a href="Chapter3.html#Chapter3.1.3">topogrāfiskās kartes</a> slāņa <code>landus_A</code> klases “Meldrājs_ūdenī_poligons”, “poligons_Grīslājs”, “poligons_Meldrājs”, “poligons_Nec_purvs_grīslājs”, “poligons_Nec_purvs_meldrājs”, “Sēklis_poligons”, kura rezultāts kodēts ar <code>720</code>;</p>
<p>– <a href="Chapter3.html#Chapter3.1.3">topogrāfiskās kartes</a> slāņa <code>landus_A</code> klases “poligons_Nec_purvs_sūnājs”, “poligons_Sūnājs”, kuru rezultāts kodēts ar <code>710</code>;</p>
<p>– <a href="Chapter3.html#Chapter3.1.3">topogrāfiskās kartes</a> slāņa <code>swamp_A</code>, kura rezultāts kodēts ar <code>710</code>;</p>
<p>– <a href="Chapter3.html#Chapter3.1.1">Meža valsts reģistrā</a> atzīmētās zemes kategorijas “21”, “22”, “23”, kura rezultāts kodēts ar <code>710</code>;</p>
<p>– <a href="Chapter3.html#Chapter3.1.1">Meža valsts reģistrā</a> atzīmētās zemes kategorijas “41”, “42”, kura rezultāts kodēts ar <code>730</code>.</p></li>
</ul>
<p>Zemāk esošās komandu rindas izveido slāni ar ainavas klasi <code>700</code>, kuru failā <code>700_mitraji_premask.tif</code> saglabā turpmākam darbam.</p>
<details class=chunk-details><summary class=chunk-summary><span class=chunk-summary-text>Code</span></summary>
<div class="sourceCode" id="cb26"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb26-1"><a href="Chapter3.html#cb26-1" tabindex="-1"></a><span class="co"># Libs</span></span>
<span id="cb26-2"><a href="Chapter3.html#cb26-2" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(tidyverse)) {<span class="fu">install.packages</span>(<span class="st">&quot;tidyverse&quot;</span>); <span class="fu">require</span>(tidyverse)}</span>
<span id="cb26-3"><a href="Chapter3.html#cb26-3" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(sf)) {<span class="fu">install.packages</span>(<span class="st">&quot;sf&quot;</span>); <span class="fu">require</span>(sf)}</span>
<span id="cb26-4"><a href="Chapter3.html#cb26-4" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(arrow)) {<span class="fu">install.packages</span>(<span class="st">&quot;arrow&quot;</span>); <span class="fu">require</span>(arrow)}</span>
<span id="cb26-5"><a href="Chapter3.html#cb26-5" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(sfarrow)) {<span class="fu">install.packages</span>(<span class="st">&quot;sfarrow&quot;</span>); <span class="fu">require</span>(sfarrow)}</span>
<span id="cb26-6"><a href="Chapter3.html#cb26-6" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(terra)) {<span class="fu">install.packages</span>(<span class="st">&quot;terra&quot;</span>); <span class="fu">require</span>(terra)}</span>
<span id="cb26-7"><a href="Chapter3.html#cb26-7" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(raster)) {<span class="fu">install.packages</span>(<span class="st">&quot;raster&quot;</span>); <span class="fu">require</span>(raster)}</span>
<span id="cb26-8"><a href="Chapter3.html#cb26-8" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(fasterize)) {<span class="fu">install.packages</span>(<span class="st">&quot;fasterize&quot;</span>); <span class="fu">require</span>(fasterize)}</span>
<span id="cb26-9"><a href="Chapter3.html#cb26-9" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(gdalUtilities)){<span class="fu">install.packages</span>(<span class="st">&quot;gdalUtilities&quot;</span>);<span class="fu">require</span>(gdalUtilities)}</span>
<span id="cb26-10"><a href="Chapter3.html#cb26-10" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(readxl)) {<span class="fu">install.packages</span>(<span class="st">&quot;readxl&quot;</span>); <span class="fu">require</span>(readxl)}</span>
<span id="cb26-11"><a href="Chapter3.html#cb26-11" tabindex="-1"></a></span>
<span id="cb26-12"><a href="Chapter3.html#cb26-12" tabindex="-1"></a><span class="co"># templates</span></span>
<span id="cb26-13"><a href="Chapter3.html#cb26-13" tabindex="-1"></a>template_t<span class="ot">=</span><span class="fu">rast</span>(<span class="st">&quot;./Templates/TemplateRasters/LV10m_10km.tif&quot;</span>)</span>
<span id="cb26-14"><a href="Chapter3.html#cb26-14" tabindex="-1"></a>template_r<span class="ot">=</span><span class="fu">raster</span>(template_t)</span>
<span id="cb26-15"><a href="Chapter3.html#cb26-15" tabindex="-1"></a></span>
<span id="cb26-16"><a href="Chapter3.html#cb26-16" tabindex="-1"></a></span>
<span id="cb26-17"><a href="Chapter3.html#cb26-17" tabindex="-1"></a><span class="co"># topo</span></span>
<span id="cb26-18"><a href="Chapter3.html#cb26-18" tabindex="-1"></a>topo<span class="ot">=</span><span class="fu">st_read_parquet</span>(<span class="st">&quot;./IevadesDati/topo/Topo_landusA.parquet&quot;</span>)</span>
<span id="cb26-19"><a href="Chapter3.html#cb26-19" tabindex="-1"></a><span class="fu">table</span>(topo<span class="sc">$</span>FNAME,<span class="at">useNA=</span><span class="st">&quot;always&quot;</span>)</span>
<span id="cb26-20"><a href="Chapter3.html#cb26-20" tabindex="-1"></a></span>
<span id="cb26-21"><a href="Chapter3.html#cb26-21" tabindex="-1"></a><span class="do">## niedrāji</span></span>
<span id="cb26-22"><a href="Chapter3.html#cb26-22" tabindex="-1"></a>niedraji_topo<span class="ot">=</span>topo <span class="sc">%&gt;%</span> </span>
<span id="cb26-23"><a href="Chapter3.html#cb26-23" tabindex="-1"></a>  <span class="fu">filter</span>(FNAME <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">&quot;Meldrājs_ūdenī_poligons&quot;</span>,<span class="st">&quot;poligons_Grīslājs&quot;</span>,</span>
<span id="cb26-24"><a href="Chapter3.html#cb26-24" tabindex="-1"></a>                      <span class="st">&quot;poligons_Meldrājs&quot;</span>,<span class="st">&quot;poligons_Nec_purvs_grīslājs&quot;</span>,</span>
<span id="cb26-25"><a href="Chapter3.html#cb26-25" tabindex="-1"></a>                      <span class="st">&quot;poligons_Nec_purvs_meldrājs&quot;</span>,<span class="st">&quot;Sēklis_poligons&quot;</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb26-26"><a href="Chapter3.html#cb26-26" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">yes=</span><span class="dv">720</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb26-27"><a href="Chapter3.html#cb26-27" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">select</span>(yes)</span>
<span id="cb26-28"><a href="Chapter3.html#cb26-28" tabindex="-1"></a>r_niedraji_topo<span class="ot">=</span><span class="fu">fasterize</span>(niedraji_topo,template_r,<span class="at">field=</span><span class="st">&quot;yes&quot;</span>)</span>
<span id="cb26-29"><a href="Chapter3.html#cb26-29" tabindex="-1"></a>raster<span class="sc">::</span><span class="fu">writeRaster</span>(r_niedraji_topo,</span>
<span id="cb26-30"><a href="Chapter3.html#cb26-30" tabindex="-1"></a>                    <span class="st">&quot;./IevadesDati/ainava/720_niedraji_topo.tif&quot;</span>,</span>
<span id="cb26-31"><a href="Chapter3.html#cb26-31" tabindex="-1"></a>                    <span class="at">progress=</span><span class="st">&quot;text&quot;</span>)</span>
<span id="cb26-32"><a href="Chapter3.html#cb26-32" tabindex="-1"></a><span class="co"># liekā aizvākšana</span></span>
<span id="cb26-33"><a href="Chapter3.html#cb26-33" tabindex="-1"></a><span class="fu">rm</span>(niedraji_topo)</span>
<span id="cb26-34"><a href="Chapter3.html#cb26-34" tabindex="-1"></a><span class="fu">rm</span>(r_niedraji_topo)</span>
<span id="cb26-35"><a href="Chapter3.html#cb26-35" tabindex="-1"></a></span>
<span id="cb26-36"><a href="Chapter3.html#cb26-36" tabindex="-1"></a></span>
<span id="cb26-37"><a href="Chapter3.html#cb26-37" tabindex="-1"></a><span class="do">## purvi</span></span>
<span id="cb26-38"><a href="Chapter3.html#cb26-38" tabindex="-1"></a>purvi_topo<span class="ot">=</span>topo <span class="sc">%&gt;%</span> </span>
<span id="cb26-39"><a href="Chapter3.html#cb26-39" tabindex="-1"></a>  <span class="fu">filter</span>(FNAME <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">&quot;poligons_Nec_purvs_sūnājs&quot;</span>,<span class="st">&quot;poligons_Sūnājs&quot;</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb26-40"><a href="Chapter3.html#cb26-40" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">yes=</span><span class="dv">710</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb26-41"><a href="Chapter3.html#cb26-41" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">select</span>(yes)</span>
<span id="cb26-42"><a href="Chapter3.html#cb26-42" tabindex="-1"></a>topo_purvi<span class="ot">=</span><span class="fu">st_read_parquet</span>(<span class="st">&quot;./IevadesDati/topo/Topo_swampA.parquet&quot;</span>)</span>
<span id="cb26-43"><a href="Chapter3.html#cb26-43" tabindex="-1"></a>topo_purvi<span class="ot">=</span>topo_purvi <span class="sc">%&gt;%</span> </span>
<span id="cb26-44"><a href="Chapter3.html#cb26-44" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">yes=</span><span class="dv">710</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb26-45"><a href="Chapter3.html#cb26-45" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">select</span>(yes)</span>
<span id="cb26-46"><a href="Chapter3.html#cb26-46" tabindex="-1"></a>purvi<span class="ot">=</span><span class="fu">rbind</span>(purvi_topo,topo_purvi)</span>
<span id="cb26-47"><a href="Chapter3.html#cb26-47" tabindex="-1"></a>r_purvi_topo<span class="ot">=</span><span class="fu">fasterize</span>(purvi,template_r,<span class="at">field=</span><span class="st">&quot;yes&quot;</span>)</span>
<span id="cb26-48"><a href="Chapter3.html#cb26-48" tabindex="-1"></a>raster<span class="sc">::</span><span class="fu">writeRaster</span>(r_purvi_topo,</span>
<span id="cb26-49"><a href="Chapter3.html#cb26-49" tabindex="-1"></a>                    <span class="st">&quot;./IevadesDati/ainava/710_purvi_topo.tif&quot;</span>,</span>
<span id="cb26-50"><a href="Chapter3.html#cb26-50" tabindex="-1"></a>                    <span class="at">progress=</span><span class="st">&quot;text&quot;</span>,</span>
<span id="cb26-51"><a href="Chapter3.html#cb26-51" tabindex="-1"></a>                    <span class="at">overwrite=</span><span class="cn">TRUE</span>)</span>
<span id="cb26-52"><a href="Chapter3.html#cb26-52" tabindex="-1"></a><span class="co"># liekā aizvākšana</span></span>
<span id="cb26-53"><a href="Chapter3.html#cb26-53" tabindex="-1"></a><span class="fu">rm</span>(purvi_topo)</span>
<span id="cb26-54"><a href="Chapter3.html#cb26-54" tabindex="-1"></a><span class="fu">rm</span>(topo_purvi)</span>
<span id="cb26-55"><a href="Chapter3.html#cb26-55" tabindex="-1"></a><span class="fu">rm</span>(purvi)</span>
<span id="cb26-56"><a href="Chapter3.html#cb26-56" tabindex="-1"></a><span class="fu">rm</span>(r_purvi_topo)</span>
<span id="cb26-57"><a href="Chapter3.html#cb26-57" tabindex="-1"></a></span>
<span id="cb26-58"><a href="Chapter3.html#cb26-58" tabindex="-1"></a></span>
<span id="cb26-59"><a href="Chapter3.html#cb26-59" tabindex="-1"></a><span class="co"># mvr</span></span>
<span id="cb26-60"><a href="Chapter3.html#cb26-60" tabindex="-1"></a>mvr<span class="ot">=</span><span class="fu">st_read_parquet</span>(<span class="st">&quot;./IevadesDati/MVR/nogabali_2024janv.parquet&quot;</span>)</span>
<span id="cb26-61"><a href="Chapter3.html#cb26-61" tabindex="-1"></a></span>
<span id="cb26-62"><a href="Chapter3.html#cb26-62" tabindex="-1"></a><span class="co"># sūnu, zālu pārejas purvi</span></span>
<span id="cb26-63"><a href="Chapter3.html#cb26-63" tabindex="-1"></a>mvr_purvi<span class="ot">=</span>mvr <span class="sc">%&gt;%</span> </span>
<span id="cb26-64"><a href="Chapter3.html#cb26-64" tabindex="-1"></a>  <span class="fu">filter</span>(zkat <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">&quot;21&quot;</span>,<span class="st">&quot;22&quot;</span>,<span class="st">&quot;23&quot;</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb26-65"><a href="Chapter3.html#cb26-65" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">yes=</span><span class="dv">710</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb26-66"><a href="Chapter3.html#cb26-66" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">select</span>(yes)</span>
<span id="cb26-67"><a href="Chapter3.html#cb26-67" tabindex="-1"></a>r_purvi_mvr<span class="ot">=</span><span class="fu">fasterize</span>(mvr_purvi,template_r,<span class="at">field=</span><span class="st">&quot;yes&quot;</span>)</span>
<span id="cb26-68"><a href="Chapter3.html#cb26-68" tabindex="-1"></a>raster<span class="sc">::</span><span class="fu">writeRaster</span>(r_purvi_mvr,</span>
<span id="cb26-69"><a href="Chapter3.html#cb26-69" tabindex="-1"></a>                    <span class="st">&quot;./IevadesDati/ainava/710_purvi_mvr.tif&quot;</span>,</span>
<span id="cb26-70"><a href="Chapter3.html#cb26-70" tabindex="-1"></a>                    <span class="at">progress=</span><span class="st">&quot;text&quot;</span>,</span>
<span id="cb26-71"><a href="Chapter3.html#cb26-71" tabindex="-1"></a>                    <span class="at">overwrite=</span><span class="cn">TRUE</span>)</span>
<span id="cb26-72"><a href="Chapter3.html#cb26-72" tabindex="-1"></a><span class="co"># liekā aizvākšana</span></span>
<span id="cb26-73"><a href="Chapter3.html#cb26-73" tabindex="-1"></a><span class="fu">rm</span>(mvr_purvi)</span>
<span id="cb26-74"><a href="Chapter3.html#cb26-74" tabindex="-1"></a><span class="fu">rm</span>(r_purvi_mvr)</span>
<span id="cb26-75"><a href="Chapter3.html#cb26-75" tabindex="-1"></a></span>
<span id="cb26-76"><a href="Chapter3.html#cb26-76" tabindex="-1"></a><span class="co"># bebraines un pārplūstoši klajumi</span></span>
<span id="cb26-77"><a href="Chapter3.html#cb26-77" tabindex="-1"></a>mvr_bebri<span class="ot">=</span>mvr <span class="sc">%&gt;%</span> </span>
<span id="cb26-78"><a href="Chapter3.html#cb26-78" tabindex="-1"></a>  <span class="fu">filter</span>(zkat <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">&quot;41&quot;</span>,<span class="st">&quot;42&quot;</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb26-79"><a href="Chapter3.html#cb26-79" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">yes=</span><span class="dv">730</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb26-80"><a href="Chapter3.html#cb26-80" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">select</span>(yes)</span>
<span id="cb26-81"><a href="Chapter3.html#cb26-81" tabindex="-1"></a>r_bebri_mvr<span class="ot">=</span><span class="fu">fasterize</span>(mvr_bebri,template_r,<span class="at">field=</span><span class="st">&quot;yes&quot;</span>)</span>
<span id="cb26-82"><a href="Chapter3.html#cb26-82" tabindex="-1"></a>raster<span class="sc">::</span><span class="fu">writeRaster</span>(r_bebri_mvr,</span>
<span id="cb26-83"><a href="Chapter3.html#cb26-83" tabindex="-1"></a>                    <span class="st">&quot;./IevadesDati/ainava/730_bebri_mvr.tif&quot;</span>,</span>
<span id="cb26-84"><a href="Chapter3.html#cb26-84" tabindex="-1"></a>                    <span class="at">progress=</span><span class="st">&quot;text&quot;</span>,</span>
<span id="cb26-85"><a href="Chapter3.html#cb26-85" tabindex="-1"></a>                    <span class="at">overwrite=</span><span class="cn">TRUE</span>)</span>
<span id="cb26-86"><a href="Chapter3.html#cb26-86" tabindex="-1"></a><span class="co"># liekā aizvākšana</span></span>
<span id="cb26-87"><a href="Chapter3.html#cb26-87" tabindex="-1"></a><span class="fu">rm</span>(mvr_bebri)</span>
<span id="cb26-88"><a href="Chapter3.html#cb26-88" tabindex="-1"></a><span class="fu">rm</span>(r_bebri_mvr)</span>
<span id="cb26-89"><a href="Chapter3.html#cb26-89" tabindex="-1"></a><span class="fu">rm</span>(mvr)</span>
<span id="cb26-90"><a href="Chapter3.html#cb26-90" tabindex="-1"></a></span>
<span id="cb26-91"><a href="Chapter3.html#cb26-91" tabindex="-1"></a><span class="co"># apvienosana</span></span>
<span id="cb26-92"><a href="Chapter3.html#cb26-92" tabindex="-1"></a>r_niedraji_topo<span class="ot">=</span><span class="fu">rast</span>(<span class="st">&quot;./IevadesDati/ainava/720_niedraji_topo.tif&quot;</span>)</span>
<span id="cb26-93"><a href="Chapter3.html#cb26-93" tabindex="-1"></a>r_purvi_topo<span class="ot">=</span><span class="fu">rast</span>(<span class="st">&quot;./IevadesDati/ainava/710_purvi_topo.tif&quot;</span>)</span>
<span id="cb26-94"><a href="Chapter3.html#cb26-94" tabindex="-1"></a>r_purvi_mvr<span class="ot">=</span><span class="fu">rast</span>(<span class="st">&quot;./IevadesDati/ainava/710_purvi_mvr.tif&quot;</span>)</span>
<span id="cb26-95"><a href="Chapter3.html#cb26-95" tabindex="-1"></a>r_bebri_mvr<span class="ot">=</span><span class="fu">rast</span>(<span class="st">&quot;./IevadesDati/ainava/730_bebri_mvr.tif&quot;</span>)</span>
<span id="cb26-96"><a href="Chapter3.html#cb26-96" tabindex="-1"></a></span>
<span id="cb26-97"><a href="Chapter3.html#cb26-97" tabindex="-1"></a></span>
<span id="cb26-98"><a href="Chapter3.html#cb26-98" tabindex="-1"></a>rastri_mitrajiem<span class="ot">=</span><span class="fu">sprc</span>(r_niedraji_topo,r_purvi_topo,r_purvi_mvr,r_bebri_mvr)</span>
<span id="cb26-99"><a href="Chapter3.html#cb26-99" tabindex="-1"></a>rastrs_mitraji<span class="ot">=</span>terra<span class="sc">::</span><span class="fu">merge</span>(rastri_mitrajiem,</span>
<span id="cb26-100"><a href="Chapter3.html#cb26-100" tabindex="-1"></a>                               <span class="at">filename=</span><span class="st">&quot;./IevadesDati/ainava/700_mitraji_premask.tif&quot;</span>,</span>
<span id="cb26-101"><a href="Chapter3.html#cb26-101" tabindex="-1"></a>                               <span class="at">overwrite=</span><span class="cn">TRUE</span>)</span>
<span id="cb26-102"><a href="Chapter3.html#cb26-102" tabindex="-1"></a><span class="co"># liekā aizvākšana</span></span>
<span id="cb26-103"><a href="Chapter3.html#cb26-103" tabindex="-1"></a><span class="fu">rm</span>(r_niedraji_topo)</span>
<span id="cb26-104"><a href="Chapter3.html#cb26-104" tabindex="-1"></a><span class="fu">rm</span>(r_purvi_topo)</span>
<span id="cb26-105"><a href="Chapter3.html#cb26-105" tabindex="-1"></a><span class="fu">rm</span>(r_purvi_mvr)</span>
<span id="cb26-106"><a href="Chapter3.html#cb26-106" tabindex="-1"></a><span class="fu">rm</span>(r_bebri_mvr)</span>
<span id="cb26-107"><a href="Chapter3.html#cb26-107" tabindex="-1"></a><span class="fu">rm</span>(rastri_mitrajiem)</span>
<span id="cb26-108"><a href="Chapter3.html#cb26-108" tabindex="-1"></a><span class="fu">rm</span>(rastrs_mitraji)</span></code></pre></div>
</details>
<p><br></p>
<ul>
<li><p>klase <code>800</code> - <strong>smiltāji un kūdras lauki</strong>: apvienojot ar smiltājiem, virsājiem un kūdras karjeriem saistītos slāņus, <strong>aizpildīta secībā</strong> - tā kā šī ir augstākā klase, tā dominē tikai pār robu aizpildīšanai izmantoto <em>Dynamic World</em>. Šīs klases izveidošanai apvienoti (pārklāšanās secībā):</p>
<p>– <a href="Chapter3.html#Chapter3.1.3">topogrāfiskās kartes</a> slāņa <code>landus_A</code> klases “poligons_Smiltājs”, “poligons_Kūdra”, kura rezultāts kodēts ar <code>800</code>;</p>
<p>– <a href="Chapter3.html#Chapter3.1.1">Meža valsts reģistrā</a> atzīmētās zemes kategorijas “33”, “34”, kura rezultāts kodēts ar <code>730</code>.</p></li>
</ul>
<p>Zemāk esošās komandu rindas izveido slāni ar ainavas klasi <code>800</code>, kuru failā <code>800_smiltaji_premask.tif</code> saglabā turpmākam darbam.</p>
<details class=chunk-details><summary class=chunk-summary><span class=chunk-summary-text>Code</span></summary>
<div class="sourceCode" id="cb27"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb27-1"><a href="Chapter3.html#cb27-1" tabindex="-1"></a><span class="co"># Libs</span></span>
<span id="cb27-2"><a href="Chapter3.html#cb27-2" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(tidyverse)) {<span class="fu">install.packages</span>(<span class="st">&quot;tidyverse&quot;</span>); <span class="fu">require</span>(tidyverse)}</span>
<span id="cb27-3"><a href="Chapter3.html#cb27-3" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(sf)) {<span class="fu">install.packages</span>(<span class="st">&quot;sf&quot;</span>); <span class="fu">require</span>(sf)}</span>
<span id="cb27-4"><a href="Chapter3.html#cb27-4" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(arrow)) {<span class="fu">install.packages</span>(<span class="st">&quot;arrow&quot;</span>); <span class="fu">require</span>(arrow)}</span>
<span id="cb27-5"><a href="Chapter3.html#cb27-5" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(sfarrow)) {<span class="fu">install.packages</span>(<span class="st">&quot;sfarrow&quot;</span>); <span class="fu">require</span>(sfarrow)}</span>
<span id="cb27-6"><a href="Chapter3.html#cb27-6" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(terra)) {<span class="fu">install.packages</span>(<span class="st">&quot;terra&quot;</span>); <span class="fu">require</span>(terra)}</span>
<span id="cb27-7"><a href="Chapter3.html#cb27-7" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(raster)) {<span class="fu">install.packages</span>(<span class="st">&quot;raster&quot;</span>); <span class="fu">require</span>(raster)}</span>
<span id="cb27-8"><a href="Chapter3.html#cb27-8" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(fasterize)) {<span class="fu">install.packages</span>(<span class="st">&quot;fasterize&quot;</span>); <span class="fu">require</span>(fasterize)}</span>
<span id="cb27-9"><a href="Chapter3.html#cb27-9" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(gdalUtilities)){<span class="fu">install.packages</span>(<span class="st">&quot;gdalUtilities&quot;</span>);<span class="fu">require</span>(gdalUtilities)}</span>
<span id="cb27-10"><a href="Chapter3.html#cb27-10" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(readxl)) {<span class="fu">install.packages</span>(<span class="st">&quot;readxl&quot;</span>); <span class="fu">require</span>(readxl)}</span>
<span id="cb27-11"><a href="Chapter3.html#cb27-11" tabindex="-1"></a></span>
<span id="cb27-12"><a href="Chapter3.html#cb27-12" tabindex="-1"></a><span class="co"># templates</span></span>
<span id="cb27-13"><a href="Chapter3.html#cb27-13" tabindex="-1"></a>template_t<span class="ot">=</span><span class="fu">rast</span>(<span class="st">&quot;./Templates/TemplateRasters/LV10m_10km.tif&quot;</span>)</span>
<span id="cb27-14"><a href="Chapter3.html#cb27-14" tabindex="-1"></a>template_r<span class="ot">=</span><span class="fu">raster</span>(template_t)</span>
<span id="cb27-15"><a href="Chapter3.html#cb27-15" tabindex="-1"></a></span>
<span id="cb27-16"><a href="Chapter3.html#cb27-16" tabindex="-1"></a>smiltaji_topo<span class="ot">=</span><span class="fu">st_read_parquet</span>(<span class="st">&quot;./IevadesDati/topo/Topo_landusA.parquet&quot;</span>)</span>
<span id="cb27-17"><a href="Chapter3.html#cb27-17" tabindex="-1"></a><span class="fu">table</span>(smiltaji_topo<span class="sc">$</span>FNAME,<span class="at">useNA=</span><span class="st">&quot;always&quot;</span>)</span>
<span id="cb27-18"><a href="Chapter3.html#cb27-18" tabindex="-1"></a>smiltaji_topo<span class="ot">=</span>smiltaji_topo <span class="sc">%&gt;%</span> </span>
<span id="cb27-19"><a href="Chapter3.html#cb27-19" tabindex="-1"></a>  <span class="fu">filter</span>(FNAME <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">&quot;poligons_Smiltājs&quot;</span>,<span class="st">&quot;poligons_Kūdra&quot;</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb27-20"><a href="Chapter3.html#cb27-20" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">yes=</span><span class="dv">800</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb27-21"><a href="Chapter3.html#cb27-21" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">select</span>(yes)</span>
<span id="cb27-22"><a href="Chapter3.html#cb27-22" tabindex="-1"></a>r_smiltaji_topo<span class="ot">=</span><span class="fu">fasterize</span>(smiltaji_topo,template_r,<span class="at">field=</span><span class="st">&quot;yes&quot;</span>)</span>
<span id="cb27-23"><a href="Chapter3.html#cb27-23" tabindex="-1"></a>raster<span class="sc">::</span><span class="fu">writeRaster</span>(r_smiltaji_topo,</span>
<span id="cb27-24"><a href="Chapter3.html#cb27-24" tabindex="-1"></a>                    <span class="st">&quot;./IevadesDati/ainava/800_SmiltajiKudra_topo.tif&quot;</span>,</span>
<span id="cb27-25"><a href="Chapter3.html#cb27-25" tabindex="-1"></a>                    <span class="at">progress=</span><span class="st">&quot;text&quot;</span>)</span>
<span id="cb27-26"><a href="Chapter3.html#cb27-26" tabindex="-1"></a><span class="co"># liekā aizvākšana</span></span>
<span id="cb27-27"><a href="Chapter3.html#cb27-27" tabindex="-1"></a><span class="fu">rm</span>(smiltaji_topo)</span>
<span id="cb27-28"><a href="Chapter3.html#cb27-28" tabindex="-1"></a><span class="fu">rm</span>(r_smiltaji_topo)</span>
<span id="cb27-29"><a href="Chapter3.html#cb27-29" tabindex="-1"></a></span>
<span id="cb27-30"><a href="Chapter3.html#cb27-30" tabindex="-1"></a><span class="co"># mvr zkat 33 un 34</span></span>
<span id="cb27-31"><a href="Chapter3.html#cb27-31" tabindex="-1"></a>mvr<span class="ot">=</span><span class="fu">st_read_parquet</span>(<span class="st">&quot;./IevadesDati/MVR/nogabali_2024janv.parquet&quot;</span>)</span>
<span id="cb27-32"><a href="Chapter3.html#cb27-32" tabindex="-1"></a></span>
<span id="cb27-33"><a href="Chapter3.html#cb27-33" tabindex="-1"></a>smiltajiem<span class="ot">=</span>mvr <span class="sc">%&gt;%</span> </span>
<span id="cb27-34"><a href="Chapter3.html#cb27-34" tabindex="-1"></a>  <span class="fu">filter</span>(zkat <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">&quot;33&quot;</span>,<span class="st">&quot;34&quot;</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb27-35"><a href="Chapter3.html#cb27-35" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">yes=</span><span class="dv">800</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb27-36"><a href="Chapter3.html#cb27-36" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">select</span>(yes)</span>
<span id="cb27-37"><a href="Chapter3.html#cb27-37" tabindex="-1"></a>r_smiltaji_mvr<span class="ot">=</span><span class="fu">fasterize</span>(smiltajiem,template_r,<span class="at">field=</span><span class="st">&quot;yes&quot;</span>)</span>
<span id="cb27-38"><a href="Chapter3.html#cb27-38" tabindex="-1"></a>raster<span class="sc">::</span><span class="fu">writeRaster</span>(r_smiltaji_mvr,</span>
<span id="cb27-39"><a href="Chapter3.html#cb27-39" tabindex="-1"></a>                    <span class="st">&quot;./IevadesDati/ainava/800_SmiltVirs_mvr.tif&quot;</span>,</span>
<span id="cb27-40"><a href="Chapter3.html#cb27-40" tabindex="-1"></a>                    <span class="at">progress=</span><span class="st">&quot;text&quot;</span>,</span>
<span id="cb27-41"><a href="Chapter3.html#cb27-41" tabindex="-1"></a>                    <span class="at">overwrite=</span><span class="cn">TRUE</span>)</span>
<span id="cb27-42"><a href="Chapter3.html#cb27-42" tabindex="-1"></a><span class="co"># liekā aizvākšana</span></span>
<span id="cb27-43"><a href="Chapter3.html#cb27-43" tabindex="-1"></a><span class="fu">rm</span>(mvr)</span>
<span id="cb27-44"><a href="Chapter3.html#cb27-44" tabindex="-1"></a><span class="fu">rm</span>(smiltajiem)</span>
<span id="cb27-45"><a href="Chapter3.html#cb27-45" tabindex="-1"></a><span class="fu">rm</span>(r_smiltaji_mvr)</span>
<span id="cb27-46"><a href="Chapter3.html#cb27-46" tabindex="-1"></a></span>
<span id="cb27-47"><a href="Chapter3.html#cb27-47" tabindex="-1"></a><span class="co"># apvienosana</span></span>
<span id="cb27-48"><a href="Chapter3.html#cb27-48" tabindex="-1"></a>r_smiltaji_topo<span class="ot">=</span><span class="fu">rast</span>(<span class="st">&quot;./IevadesDati/ainava/800_SmiltajiKudra_topo.tif&quot;</span>)</span>
<span id="cb27-49"><a href="Chapter3.html#cb27-49" tabindex="-1"></a>r_smiltaji_mvr<span class="ot">=</span><span class="fu">rast</span>(<span class="st">&quot;./IevadesDati/ainava/800_SmiltVirs_mvr.tif&quot;</span>)</span>
<span id="cb27-50"><a href="Chapter3.html#cb27-50" tabindex="-1"></a></span>
<span id="cb27-51"><a href="Chapter3.html#cb27-51" tabindex="-1"></a>rastri_smiltajiem<span class="ot">=</span><span class="fu">sprc</span>(r_smiltaji_topo,r_smiltaji_mvr)</span>
<span id="cb27-52"><a href="Chapter3.html#cb27-52" tabindex="-1"></a>rastrs_smiltajiem<span class="ot">=</span>terra<span class="sc">::</span><span class="fu">merge</span>(rastri_smiltajiem,</span>
<span id="cb27-53"><a href="Chapter3.html#cb27-53" tabindex="-1"></a>                               <span class="at">filename=</span><span class="st">&quot;./IevadesDati/ainava/800_smiltaji_premask.tif&quot;</span>,</span>
<span id="cb27-54"><a href="Chapter3.html#cb27-54" tabindex="-1"></a>                               <span class="at">overwrite=</span><span class="cn">TRUE</span>)</span>
<span id="cb27-55"><a href="Chapter3.html#cb27-55" tabindex="-1"></a><span class="co"># liekā aizvākšana</span></span>
<span id="cb27-56"><a href="Chapter3.html#cb27-56" tabindex="-1"></a><span class="fu">rm</span>(r_smiltaji_topo)</span>
<span id="cb27-57"><a href="Chapter3.html#cb27-57" tabindex="-1"></a><span class="fu">rm</span>(r_smiltaji_mvr)</span>
<span id="cb27-58"><a href="Chapter3.html#cb27-58" tabindex="-1"></a><span class="fu">rm</span>(rastri_smiltajiem)</span>
<span id="cb27-59"><a href="Chapter3.html#cb27-59" tabindex="-1"></a><span class="fu">rm</span>(rastrs_smiltajiem)</span></code></pre></div>
</details>
<p><br></p>
<p><strong>Apvienošana un aizpildīšana</strong>.</p>
<p>Zemāk esošās komandu rindas pareizā secībā apvieno iepriekš izveidotos slāņus ar ainavas klasēm un nodrošina robu aizpildīšanu ar atbilstoši klasificētu <em>Dynamic World</em> 2023. gada aprīļa-augusta kompozītu, kuru, pēc maskēšanas tikai analīzes telpai, failā <code>Ainava_vienk_mask.tif</code> saglabā turpmākam darbam.</p>
<details class=chunk-details><summary class=chunk-summary><span class=chunk-summary-text>Code</span></summary>
<div class="sourceCode" id="cb28"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb28-1"><a href="Chapter3.html#cb28-1" tabindex="-1"></a><span class="co"># Libs</span></span>
<span id="cb28-2"><a href="Chapter3.html#cb28-2" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(tidyverse)) {<span class="fu">install.packages</span>(<span class="st">&quot;tidyverse&quot;</span>); <span class="fu">require</span>(tidyverse)}</span>
<span id="cb28-3"><a href="Chapter3.html#cb28-3" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(sf)) {<span class="fu">install.packages</span>(<span class="st">&quot;sf&quot;</span>); <span class="fu">require</span>(sf)}</span>
<span id="cb28-4"><a href="Chapter3.html#cb28-4" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(arrow)) {<span class="fu">install.packages</span>(<span class="st">&quot;arrow&quot;</span>); <span class="fu">require</span>(arrow)}</span>
<span id="cb28-5"><a href="Chapter3.html#cb28-5" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(sfarrow)) {<span class="fu">install.packages</span>(<span class="st">&quot;sfarrow&quot;</span>); <span class="fu">require</span>(sfarrow)}</span>
<span id="cb28-6"><a href="Chapter3.html#cb28-6" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(terra)) {<span class="fu">install.packages</span>(<span class="st">&quot;terra&quot;</span>); <span class="fu">require</span>(terra)}</span>
<span id="cb28-7"><a href="Chapter3.html#cb28-7" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(raster)) {<span class="fu">install.packages</span>(<span class="st">&quot;raster&quot;</span>); <span class="fu">require</span>(raster)}</span>
<span id="cb28-8"><a href="Chapter3.html#cb28-8" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(fasterize)) {<span class="fu">install.packages</span>(<span class="st">&quot;fasterize&quot;</span>); <span class="fu">require</span>(fasterize)}</span>
<span id="cb28-9"><a href="Chapter3.html#cb28-9" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(gdalUtilities)){<span class="fu">install.packages</span>(<span class="st">&quot;gdalUtilities&quot;</span>);<span class="fu">require</span>(gdalUtilities)}</span>
<span id="cb28-10"><a href="Chapter3.html#cb28-10" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(readxl)) {<span class="fu">install.packages</span>(<span class="st">&quot;readxl&quot;</span>); <span class="fu">require</span>(readxl)}</span>
<span id="cb28-11"><a href="Chapter3.html#cb28-11" tabindex="-1"></a></span>
<span id="cb28-12"><a href="Chapter3.html#cb28-12" tabindex="-1"></a><span class="co"># templates</span></span>
<span id="cb28-13"><a href="Chapter3.html#cb28-13" tabindex="-1"></a>template_t<span class="ot">=</span><span class="fu">rast</span>(<span class="st">&quot;./Templates/TemplateRasters/LV10m_10km.tif&quot;</span>)</span>
<span id="cb28-14"><a href="Chapter3.html#cb28-14" tabindex="-1"></a>template_r<span class="ot">=</span><span class="fu">raster</span>(template_t)</span>
<span id="cb28-15"><a href="Chapter3.html#cb28-15" tabindex="-1"></a></span>
<span id="cb28-16"><a href="Chapter3.html#cb28-16" tabindex="-1"></a></span>
<span id="cb28-17"><a href="Chapter3.html#cb28-17" tabindex="-1"></a><span class="co"># DW pildījums </span></span>
<span id="cb28-18"><a href="Chapter3.html#cb28-18" tabindex="-1"></a>dynworld<span class="ot">=</span><span class="fu">rast</span>(<span class="st">&quot;./IevadesDati/DynamicWorld/DynamicWorld_Eksperimentam/DWE_mosaic/DW_2023_apraug.tif&quot;</span>)</span>
<span id="cb28-19"><a href="Chapter3.html#cb28-19" tabindex="-1"></a>klases<span class="ot">=</span><span class="fu">matrix</span>(<span class="fu">c</span>(<span class="dv">0</span>,<span class="dv">200</span>,</span>
<span id="cb28-20"><a href="Chapter3.html#cb28-20" tabindex="-1"></a>              <span class="dv">1</span>,<span class="dv">620</span>,</span>
<span id="cb28-21"><a href="Chapter3.html#cb28-21" tabindex="-1"></a>              <span class="dv">2</span>,<span class="dv">330</span>,</span>
<span id="cb28-22"><a href="Chapter3.html#cb28-22" tabindex="-1"></a>              <span class="dv">3</span>,<span class="dv">720</span>,</span>
<span id="cb28-23"><a href="Chapter3.html#cb28-23" tabindex="-1"></a>              <span class="dv">4</span>,<span class="dv">310</span>,</span>
<span id="cb28-24"><a href="Chapter3.html#cb28-24" tabindex="-1"></a>              <span class="dv">5</span>,<span class="dv">710</span>,</span>
<span id="cb28-25"><a href="Chapter3.html#cb28-25" tabindex="-1"></a>              <span class="dv">6</span>,<span class="dv">500</span>,</span>
<span id="cb28-26"><a href="Chapter3.html#cb28-26" tabindex="-1"></a>              <span class="dv">7</span>,<span class="dv">800</span>,</span>
<span id="cb28-27"><a href="Chapter3.html#cb28-27" tabindex="-1"></a>              <span class="dv">8</span>,<span class="dv">500</span>),<span class="at">ncol=</span><span class="dv">2</span>,<span class="at">byrow=</span><span class="cn">TRUE</span>)</span>
<span id="cb28-28"><a href="Chapter3.html#cb28-28" tabindex="-1"></a>dw2<span class="ot">=</span>terra<span class="sc">::</span><span class="fu">classify</span>(dynworld,klases)</span>
<span id="cb28-29"><a href="Chapter3.html#cb28-29" tabindex="-1"></a><span class="fu">writeRaster</span>(dw2,</span>
<span id="cb28-30"><a href="Chapter3.html#cb28-30" tabindex="-1"></a>            <span class="st">&quot;./IevadesDati/ainava/DW_reclass.tif&quot;</span>,</span>
<span id="cb28-31"><a href="Chapter3.html#cb28-31" tabindex="-1"></a>            <span class="at">overwrite=</span><span class="cn">TRUE</span>)</span>
<span id="cb28-32"><a href="Chapter3.html#cb28-32" tabindex="-1"></a></span>
<span id="cb28-33"><a href="Chapter3.html#cb28-33" tabindex="-1"></a>celi<span class="ot">=</span><span class="fu">rast</span>(<span class="st">&quot;./IevadesDati/ainava/100_celi.tif&quot;</span>)</span>
<span id="cb28-34"><a href="Chapter3.html#cb28-34" tabindex="-1"></a>udeni<span class="ot">=</span><span class="fu">rast</span>(<span class="st">&quot;./IevadesDati/ainava/200_udens_premask.tif&quot;</span>)</span>
<span id="cb28-35"><a href="Chapter3.html#cb28-35" tabindex="-1"></a>lauki<span class="ot">=</span><span class="fu">rast</span>(<span class="st">&quot;./IevadesDati/ainava/300_lauki_premask.tif&quot;</span>)</span>
<span id="cb28-36"><a href="Chapter3.html#cb28-36" tabindex="-1"></a>vasarnicas<span class="ot">=</span><span class="fu">rast</span>(<span class="st">&quot;./IevadesDati/ainava/400_varnicas_premask.tif&quot;</span>)</span>
<span id="cb28-37"><a href="Chapter3.html#cb28-37" tabindex="-1"></a>mezi<span class="ot">=</span><span class="fu">rast</span>(<span class="st">&quot;./IevadesDati/ainava/600_meziem_premask.tif&quot;</span>)</span>
<span id="cb28-38"><a href="Chapter3.html#cb28-38" tabindex="-1"></a>mitraji<span class="ot">=</span><span class="fu">rast</span>(<span class="st">&quot;./IevadesDati/ainava/700_mitraji_premask.tif&quot;</span>)</span>
<span id="cb28-39"><a href="Chapter3.html#cb28-39" tabindex="-1"></a>smiltaji<span class="ot">=</span><span class="fu">rast</span>(<span class="st">&quot;./IevadesDati/ainava/800_smiltaji_premask.tif&quot;</span>)</span>
<span id="cb28-40"><a href="Chapter3.html#cb28-40" tabindex="-1"></a>dw2<span class="ot">=</span><span class="fu">rast</span>(<span class="st">&quot;./IevadesDati/ainava/DW_reclass.tif&quot;</span>)</span>
<span id="cb28-41"><a href="Chapter3.html#cb28-41" tabindex="-1"></a></span>
<span id="cb28-42"><a href="Chapter3.html#cb28-42" tabindex="-1"></a>rastri_ainavai<span class="ot">=</span><span class="fu">sprc</span>(celi,udeni,lauki,vasarnicas,mezi,mitraji,smiltaji,dw2)</span>
<span id="cb28-43"><a href="Chapter3.html#cb28-43" tabindex="-1"></a>rastrs_ainava<span class="ot">=</span>terra<span class="sc">::</span><span class="fu">merge</span>(rastri_ainavai,</span>
<span id="cb28-44"><a href="Chapter3.html#cb28-44" tabindex="-1"></a>                               <span class="at">filename=</span><span class="st">&quot;./IevadesDati/ainava/Ainava_vienkarsa.tif&quot;</span>,</span>
<span id="cb28-45"><a href="Chapter3.html#cb28-45" tabindex="-1"></a>                               <span class="at">overwrite=</span><span class="cn">TRUE</span>)</span>
<span id="cb28-46"><a href="Chapter3.html#cb28-46" tabindex="-1"></a><span class="co"># liekā aizvākšana</span></span>
<span id="cb28-47"><a href="Chapter3.html#cb28-47" tabindex="-1"></a><span class="fu">rm</span>(celi)</span>
<span id="cb28-48"><a href="Chapter3.html#cb28-48" tabindex="-1"></a><span class="fu">rm</span>(udeni)</span>
<span id="cb28-49"><a href="Chapter3.html#cb28-49" tabindex="-1"></a><span class="fu">rm</span>(lauki)</span>
<span id="cb28-50"><a href="Chapter3.html#cb28-50" tabindex="-1"></a><span class="fu">rm</span>(vasarnicas)</span>
<span id="cb28-51"><a href="Chapter3.html#cb28-51" tabindex="-1"></a><span class="fu">rm</span>(mezi)</span>
<span id="cb28-52"><a href="Chapter3.html#cb28-52" tabindex="-1"></a><span class="fu">rm</span>(mitraji)</span>
<span id="cb28-53"><a href="Chapter3.html#cb28-53" tabindex="-1"></a><span class="fu">rm</span>(smiltaji)</span>
<span id="cb28-54"><a href="Chapter3.html#cb28-54" tabindex="-1"></a><span class="fu">rm</span>(klases)</span>
<span id="cb28-55"><a href="Chapter3.html#cb28-55" tabindex="-1"></a><span class="fu">rm</span>(dynworld)</span>
<span id="cb28-56"><a href="Chapter3.html#cb28-56" tabindex="-1"></a><span class="fu">rm</span>(dw2)</span>
<span id="cb28-57"><a href="Chapter3.html#cb28-57" tabindex="-1"></a><span class="fu">rm</span>(rastri_ainavai)</span>
<span id="cb28-58"><a href="Chapter3.html#cb28-58" tabindex="-1"></a><span class="fu">rm</span>(rastrs_ainava)</span>
<span id="cb28-59"><a href="Chapter3.html#cb28-59" tabindex="-1"></a></span>
<span id="cb28-60"><a href="Chapter3.html#cb28-60" tabindex="-1"></a><span class="co"># maskēšana</span></span>
<span id="cb28-61"><a href="Chapter3.html#cb28-61" tabindex="-1"></a>rastrs_ainava<span class="ot">=</span><span class="fu">rast</span>(<span class="st">&quot;./IevadesDati/ainava/Ainava_vienkarsa.tif&quot;</span>)</span>
<span id="cb28-62"><a href="Chapter3.html#cb28-62" tabindex="-1"></a>masketa_ainava<span class="ot">=</span>terra<span class="sc">::</span><span class="fu">mask</span>(rastrs_ainava,</span>
<span id="cb28-63"><a href="Chapter3.html#cb28-63" tabindex="-1"></a>                           template_t,</span>
<span id="cb28-64"><a href="Chapter3.html#cb28-64" tabindex="-1"></a>                           <span class="at">filename=</span><span class="st">&quot;./IevadesDati/ainava/Ainava_vienk_mask.tif&quot;</span>,</span>
<span id="cb28-65"><a href="Chapter3.html#cb28-65" tabindex="-1"></a>                           <span class="at">overwrite=</span><span class="cn">TRUE</span>)</span>
<span id="cb28-66"><a href="Chapter3.html#cb28-66" tabindex="-1"></a>masketa_ainava2<span class="ot">=</span>terra<span class="sc">::</span><span class="fu">mask</span>(rastrs_ainava,</span>
<span id="cb28-67"><a href="Chapter3.html#cb28-67" tabindex="-1"></a>                           template_t,</span>
<span id="cb28-68"><a href="Chapter3.html#cb28-68" tabindex="-1"></a>                           <span class="at">filename=</span><span class="st">&quot;./Rastri_10m/Ainava_vienk_mask.tif&quot;</span>,</span>
<span id="cb28-69"><a href="Chapter3.html#cb28-69" tabindex="-1"></a>                           <span class="at">overwrite=</span><span class="cn">TRUE</span>)</span>
<span id="cb28-70"><a href="Chapter3.html#cb28-70" tabindex="-1"></a></span>
<span id="cb28-71"><a href="Chapter3.html#cb28-71" tabindex="-1"></a><span class="co"># liekā aizvākšana</span></span>
<span id="cb28-72"><a href="Chapter3.html#cb28-72" tabindex="-1"></a><span class="fu">rm</span>(rastrs_ainava)</span>
<span id="cb28-73"><a href="Chapter3.html#cb28-73" tabindex="-1"></a><span class="fu">rm</span>(masketa_ainava)</span></code></pre></div>
</details>
<p><br></p>
<div id="Chapter3.2.2.1" class="section level4 hasAnchor" number="3.2.2.1">
<h4><span class="header-section-number">3.2.2.1</span> Lauku ainava<a href="Chapter3.html#Chapter3.2.2.1" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>Šajā apakšnodaļā apkopoti ar lauku ainavu saistītie ievades produkti - 10 m izšķirtspējā sagatavoti rastra slāņi, kas cieši saistīti ar virsnodaļā aprakstīto ainavu un nepieciešami tālākai EGV sagatavošanai. Lai atvieglotu meklēšanu un atsaukšanos, tie iedalīti vēl zamāka līmeņa apakšnodaļās.</p>
<p>Sekojošajās apakšnodaļās esošajos kodu apgabalos sākuma daļa atkārtojas. Nenoliedzami, tas nomāc svarīgo - slānim specifisko daļu. Tomēr tas ļauj katru no tiem uztvert un izpildīt kā neatkarīgu uzdevumu, ja ir pieejami izmantojamie zemāka līmeņa slāņi, uz kuriem atsauces sniegtas aprakstos.</p>
<div id="Chapter3.2.2.1.1" class="section level5 hasAnchor" number="3.2.2.1.1">
<h5><span class="header-section-number">3.2.2.1.1</span> Lauku bloki<a href="Chapter3.html#Chapter3.2.2.1.1" class="anchor-section" aria-label="Anchor link to header"></a></h5>
<p>Rastrs ar šūnas izmēru 10 m un segumu visai Latvijas teritorijai.</p>
<ul>
<li><p>Vērtība <code>1</code> apzīmē šūnas, kurās ir lauka blokos iekļauti poligoni;</p></li>
<li><p>Vērtība <code>0</code> - pārējās Latvijas teritorijā esošās šūnas.</p></li>
</ul>
<p>Zemāk esošās komandu rindas izveido failu <code>Lauki_BlokiYN.tif</code>.</p>
<details class=chunk-details><summary class=chunk-summary><span class=chunk-summary-text>Code</span></summary>
<div class="sourceCode" id="cb29"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb29-1"><a href="Chapter3.html#cb29-1" tabindex="-1"></a><span class="co"># Libs</span></span>
<span id="cb29-2"><a href="Chapter3.html#cb29-2" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(tidyverse)) {<span class="fu">install.packages</span>(<span class="st">&quot;tidyverse&quot;</span>); <span class="fu">require</span>(tidyverse)}</span>
<span id="cb29-3"><a href="Chapter3.html#cb29-3" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(sf)) {<span class="fu">install.packages</span>(<span class="st">&quot;sf&quot;</span>); <span class="fu">require</span>(sf)}</span>
<span id="cb29-4"><a href="Chapter3.html#cb29-4" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(arrow)) {<span class="fu">install.packages</span>(<span class="st">&quot;arrow&quot;</span>); <span class="fu">require</span>(arrow)}</span>
<span id="cb29-5"><a href="Chapter3.html#cb29-5" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(sfarrow)) {<span class="fu">install.packages</span>(<span class="st">&quot;sfarrow&quot;</span>); <span class="fu">require</span>(sfarrow)}</span>
<span id="cb29-6"><a href="Chapter3.html#cb29-6" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(terra)) {<span class="fu">install.packages</span>(<span class="st">&quot;terra&quot;</span>); <span class="fu">require</span>(terra)}</span>
<span id="cb29-7"><a href="Chapter3.html#cb29-7" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(raster)) {<span class="fu">install.packages</span>(<span class="st">&quot;raster&quot;</span>); <span class="fu">require</span>(raster)}</span>
<span id="cb29-8"><a href="Chapter3.html#cb29-8" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(fasterize)) {<span class="fu">install.packages</span>(<span class="st">&quot;fasterize&quot;</span>); <span class="fu">require</span>(fasterize)}</span>
<span id="cb29-9"><a href="Chapter3.html#cb29-9" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(readxl)) {<span class="fu">install.packages</span>(<span class="st">&quot;readxl&quot;</span>); <span class="fu">require</span>(readxl)}</span>
<span id="cb29-10"><a href="Chapter3.html#cb29-10" tabindex="-1"></a></span>
<span id="cb29-11"><a href="Chapter3.html#cb29-11" tabindex="-1"></a><span class="co"># templates</span></span>
<span id="cb29-12"><a href="Chapter3.html#cb29-12" tabindex="-1"></a>template_t<span class="ot">=</span><span class="fu">rast</span>(<span class="st">&quot;./Templates/TemplateRasters/LV10m_10km.tif&quot;</span>)</span>
<span id="cb29-13"><a href="Chapter3.html#cb29-13" tabindex="-1"></a>template_r<span class="ot">=</span><span class="fu">raster</span>(template_t)</span>
<span id="cb29-14"><a href="Chapter3.html#cb29-14" tabindex="-1"></a></span>
<span id="cb29-15"><a href="Chapter3.html#cb29-15" tabindex="-1"></a>nulles<span class="ot">=</span>terra<span class="sc">::</span><span class="fu">subst</span>(template_t,<span class="at">from=</span><span class="dv">1</span>,<span class="at">to=</span><span class="dv">0</span>)</span>
<span id="cb29-16"><a href="Chapter3.html#cb29-16" tabindex="-1"></a></span>
<span id="cb29-17"><a href="Chapter3.html#cb29-17" tabindex="-1"></a><span class="co"># vienkāršā ainava</span></span>
<span id="cb29-18"><a href="Chapter3.html#cb29-18" tabindex="-1"></a>ainava_t<span class="ot">=</span><span class="fu">rast</span>(<span class="st">&quot;./Rastri_10m/Ainava_vienk_mask.tif&quot;</span>)</span>
<span id="cb29-19"><a href="Chapter3.html#cb29-19" tabindex="-1"></a>ainava_r<span class="ot">=</span><span class="fu">raster</span>(ainava_t)</span>
<span id="cb29-20"><a href="Chapter3.html#cb29-20" tabindex="-1"></a></span>
<span id="cb29-21"><a href="Chapter3.html#cb29-21" tabindex="-1"></a><span class="co"># lauki</span></span>
<span id="cb29-22"><a href="Chapter3.html#cb29-22" tabindex="-1"></a>lad_klasem<span class="ot">=</span><span class="fu">read_excel</span>(<span class="st">&quot;./IevadesDati/LAD/KulturuKodi_2024.xlsx&quot;</span>)</span>
<span id="cb29-23"><a href="Chapter3.html#cb29-23" tabindex="-1"></a>lad<span class="ot">=</span><span class="fu">st_read_parquet</span>(<span class="st">&quot;./IevadesDati/LAD/LAD_lauki.parquet&quot;</span>)</span>
<span id="cb29-24"><a href="Chapter3.html#cb29-24" tabindex="-1"></a>lad<span class="sc">$</span>yes<span class="ot">=</span><span class="dv">1</span></span>
<span id="cb29-25"><a href="Chapter3.html#cb29-25" tabindex="-1"></a></span>
<span id="cb29-26"><a href="Chapter3.html#cb29-26" tabindex="-1"></a></span>
<span id="cb29-27"><a href="Chapter3.html#cb29-27" tabindex="-1"></a><span class="co"># lauku bloki</span></span>
<span id="cb29-28"><a href="Chapter3.html#cb29-28" tabindex="-1"></a>lauki1<span class="ot">=</span>fasterize<span class="sc">::</span><span class="fu">fasterize</span>(lad,template_r,<span class="at">field=</span><span class="st">&quot;yes&quot;</span>)</span>
<span id="cb29-29"><a href="Chapter3.html#cb29-29" tabindex="-1"></a>lauki1<span class="ot">=</span><span class="fu">rast</span>(lauki1)</span>
<span id="cb29-30"><a href="Chapter3.html#cb29-30" tabindex="-1"></a>laukiYN<span class="ot">=</span><span class="fu">classify</span>(lauki1, <span class="fu">cbind</span>(<span class="cn">NA</span>, <span class="cn">NA</span>, <span class="dv">0</span>), <span class="at">right=</span><span class="cn">FALSE</span>)</span>
<span id="cb29-31"><a href="Chapter3.html#cb29-31" tabindex="-1"></a>aizpildits<span class="ot">=</span>terra<span class="sc">::</span><span class="fu">cover</span>(laukiYN,nulles)</span>
<span id="cb29-32"><a href="Chapter3.html#cb29-32" tabindex="-1"></a>pecmaskas_rastrs<span class="ot">=</span><span class="fu">mask</span>(aizpildits,template_t,</span>
<span id="cb29-33"><a href="Chapter3.html#cb29-33" tabindex="-1"></a>                      <span class="at">filename=</span><span class="st">&quot;./Rastri_10m/Lauki_BlokiYN.tif&quot;</span>,</span>
<span id="cb29-34"><a href="Chapter3.html#cb29-34" tabindex="-1"></a>                      <span class="at">overwrite=</span><span class="cn">TRUE</span>)</span></code></pre></div>
</details>
<p><br></p>
</div>
<div id="Chapter3.2.2.1.2" class="section level5 hasAnchor" number="3.2.2.1.2">
<h5><span class="header-section-number">3.2.2.1.2</span> Zālāji ārpus lauku blokiem, pieskaitot bezatbalsta<a href="Chapter3.html#Chapter3.2.2.1.2" class="anchor-section" aria-label="Anchor link to header"></a></h5>
<p>Rastrs ar šūnas izmēru 10 m un segumu visai Latvijas teritorijai.</p>
<ul>
<li><p>Vērtība <code>1</code> apzīmē šūnas, kurās <a href="Chapter3.html#Chapter3.2.2">vienkāršās ainavas slānī</a> ir
reģistrēti zālāji (klase <code>330</code>), bet tie neatrodas <a href="Chapter3.html#Chapter3.2.2.1.1">lauku blokos</a>,
izņemot tās <a href="./Papilddati/KulturuKodi_2024.xlsx">LAD klases</a>, kuras iedalītas
grupā (lauks <code>SDM_grupa_sakums</code>) “zālāji (ārpus lauku blokiem un bezatbalsta platības)”;</p></li>
<li><p>Vērtība <code>0</code> - pārējās Latvijas teritorijā esošās šūnas.</p></li>
</ul>
<p>Zemāk esošās komandu rindas izveido failu <code>Lauki_ZalajiBezatbNELAD.tif</code>.</p>
<details class=chunk-details><summary class=chunk-summary><span class=chunk-summary-text>Code</span></summary>
<div class="sourceCode" id="cb30"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb30-1"><a href="Chapter3.html#cb30-1" tabindex="-1"></a><span class="co"># Libs</span></span>
<span id="cb30-2"><a href="Chapter3.html#cb30-2" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(tidyverse)) {<span class="fu">install.packages</span>(<span class="st">&quot;tidyverse&quot;</span>); <span class="fu">require</span>(tidyverse)}</span>
<span id="cb30-3"><a href="Chapter3.html#cb30-3" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(sf)) {<span class="fu">install.packages</span>(<span class="st">&quot;sf&quot;</span>); <span class="fu">require</span>(sf)}</span>
<span id="cb30-4"><a href="Chapter3.html#cb30-4" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(arrow)) {<span class="fu">install.packages</span>(<span class="st">&quot;arrow&quot;</span>); <span class="fu">require</span>(arrow)}</span>
<span id="cb30-5"><a href="Chapter3.html#cb30-5" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(sfarrow)) {<span class="fu">install.packages</span>(<span class="st">&quot;sfarrow&quot;</span>); <span class="fu">require</span>(sfarrow)}</span>
<span id="cb30-6"><a href="Chapter3.html#cb30-6" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(terra)) {<span class="fu">install.packages</span>(<span class="st">&quot;terra&quot;</span>); <span class="fu">require</span>(terra)}</span>
<span id="cb30-7"><a href="Chapter3.html#cb30-7" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(raster)) {<span class="fu">install.packages</span>(<span class="st">&quot;raster&quot;</span>); <span class="fu">require</span>(raster)}</span>
<span id="cb30-8"><a href="Chapter3.html#cb30-8" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(fasterize)) {<span class="fu">install.packages</span>(<span class="st">&quot;fasterize&quot;</span>); <span class="fu">require</span>(fasterize)}</span>
<span id="cb30-9"><a href="Chapter3.html#cb30-9" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(readxl)) {<span class="fu">install.packages</span>(<span class="st">&quot;readxl&quot;</span>); <span class="fu">require</span>(readxl)}</span>
<span id="cb30-10"><a href="Chapter3.html#cb30-10" tabindex="-1"></a></span>
<span id="cb30-11"><a href="Chapter3.html#cb30-11" tabindex="-1"></a><span class="co"># templates</span></span>
<span id="cb30-12"><a href="Chapter3.html#cb30-12" tabindex="-1"></a>template_t<span class="ot">=</span><span class="fu">rast</span>(<span class="st">&quot;./Templates/TemplateRasters/LV10m_10km.tif&quot;</span>)</span>
<span id="cb30-13"><a href="Chapter3.html#cb30-13" tabindex="-1"></a>template_r<span class="ot">=</span><span class="fu">raster</span>(template_t)</span>
<span id="cb30-14"><a href="Chapter3.html#cb30-14" tabindex="-1"></a></span>
<span id="cb30-15"><a href="Chapter3.html#cb30-15" tabindex="-1"></a>nulles<span class="ot">=</span>terra<span class="sc">::</span><span class="fu">subst</span>(template_t,<span class="at">from=</span><span class="dv">1</span>,<span class="at">to=</span><span class="dv">0</span>)</span>
<span id="cb30-16"><a href="Chapter3.html#cb30-16" tabindex="-1"></a></span>
<span id="cb30-17"><a href="Chapter3.html#cb30-17" tabindex="-1"></a><span class="co"># vienkāršā ainava</span></span>
<span id="cb30-18"><a href="Chapter3.html#cb30-18" tabindex="-1"></a>ainava_t<span class="ot">=</span><span class="fu">rast</span>(<span class="st">&quot;./Rastri_10m/Ainava_vienk_mask.tif&quot;</span>)</span>
<span id="cb30-19"><a href="Chapter3.html#cb30-19" tabindex="-1"></a>ainava_r<span class="ot">=</span><span class="fu">raster</span>(ainava_t)</span>
<span id="cb30-20"><a href="Chapter3.html#cb30-20" tabindex="-1"></a></span>
<span id="cb30-21"><a href="Chapter3.html#cb30-21" tabindex="-1"></a><span class="co"># lauki</span></span>
<span id="cb30-22"><a href="Chapter3.html#cb30-22" tabindex="-1"></a>lad_klasem<span class="ot">=</span><span class="fu">read_excel</span>(<span class="st">&quot;./IevadesDati/LAD/KulturuKodi_2024.xlsx&quot;</span>)</span>
<span id="cb30-23"><a href="Chapter3.html#cb30-23" tabindex="-1"></a>lad<span class="ot">=</span><span class="fu">st_read_parquet</span>(<span class="st">&quot;./IevadesDati/LAD/LAD_lauki.parquet&quot;</span>)</span>
<span id="cb30-24"><a href="Chapter3.html#cb30-24" tabindex="-1"></a>lad<span class="sc">$</span>yes<span class="ot">=</span><span class="dv">1</span></span>
<span id="cb30-25"><a href="Chapter3.html#cb30-25" tabindex="-1"></a></span>
<span id="cb30-26"><a href="Chapter3.html#cb30-26" tabindex="-1"></a></span>
<span id="cb30-27"><a href="Chapter3.html#cb30-27" tabindex="-1"></a><span class="co"># ārpus lauku blokiem esoši zālāji</span></span>
<span id="cb30-28"><a href="Chapter3.html#cb30-28" tabindex="-1"></a>zalaji<span class="ot">=</span><span class="fu">ifel</span>(ainava_t<span class="sc">==</span><span class="dv">330</span>,<span class="dv">1</span>,<span class="cn">NA</span>)</span>
<span id="cb30-29"><a href="Chapter3.html#cb30-29" tabindex="-1"></a>bezatb<span class="ot">=</span>lad_klasem <span class="sc">%&gt;%</span> <span class="fu">filter</span>(<span class="fu">str_detect</span>(SDM_grupa_sakums,<span class="st">&quot;ārpus lauku blokiem&quot;</span>))</span>
<span id="cb30-30"><a href="Chapter3.html#cb30-30" tabindex="-1"></a>piesk<span class="ot">=</span>lad <span class="sc">%&gt;%</span> <span class="fu">filter</span>(PRODUCT_CODE <span class="sc">%in%</span> bezatb<span class="sc">$</span>kods)</span>
<span id="cb30-31"><a href="Chapter3.html#cb30-31" tabindex="-1"></a>piesk2<span class="ot">=</span>fasterize<span class="sc">::</span><span class="fu">fasterize</span>(piesk,template_r,<span class="at">field=</span><span class="st">&quot;yes&quot;</span>)</span>
<span id="cb30-32"><a href="Chapter3.html#cb30-32" tabindex="-1"></a>piesk2<span class="ot">=</span><span class="fu">rast</span>(piesk2)</span>
<span id="cb30-33"><a href="Chapter3.html#cb30-33" tabindex="-1"></a>LaukuBloki<span class="ot">=</span><span class="fu">rast</span>(<span class="st">&quot;./Rastri_10m/Lauki_BlokiYN.tif&quot;</span>)</span>
<span id="cb30-34"><a href="Chapter3.html#cb30-34" tabindex="-1"></a>zalaji2<span class="ot">=</span><span class="fu">ifel</span>(<span class="sc">!</span><span class="fu">is.na</span>(zalaji)<span class="sc">&amp;</span>LaukuBloki<span class="sc">==</span><span class="dv">0</span>,<span class="dv">1</span>,<span class="dv">0</span>)</span>
<span id="cb30-35"><a href="Chapter3.html#cb30-35" tabindex="-1"></a>zalaji3<span class="ot">=</span><span class="fu">merge</span>(piesk2,zalaji2)</span>
<span id="cb30-36"><a href="Chapter3.html#cb30-36" tabindex="-1"></a>aizpildits<span class="ot">=</span>terra<span class="sc">::</span><span class="fu">cover</span>(zalaji3,nulles)</span>
<span id="cb30-37"><a href="Chapter3.html#cb30-37" tabindex="-1"></a>pecmaskas_rastrs<span class="ot">=</span><span class="fu">mask</span>(aizpildits,template_t,</span>
<span id="cb30-38"><a href="Chapter3.html#cb30-38" tabindex="-1"></a>                      <span class="at">filename=</span><span class="st">&quot;./Rastri_10m/Lauki_ZalajiBezatbNELAD.tif&quot;</span>,</span>
<span id="cb30-39"><a href="Chapter3.html#cb30-39" tabindex="-1"></a>                      <span class="at">overwrite=</span><span class="cn">TRUE</span>)</span></code></pre></div>
</details>
<p><br></p>
</div>
<div id="Chapter3.2.2.1.3" class="section level5 hasAnchor" number="3.2.2.1.3">
<h5><span class="header-section-number">3.2.2.1.3</span> Zālāji visi<a href="Chapter3.html#Chapter3.2.2.1.3" class="anchor-section" aria-label="Anchor link to header"></a></h5>
<p>Rastrs ar šūnas izmēru 10 m un segumu visai Latvijas teritorijai.</p>
<ul>
<li><p>Vērtība <code>1</code> apzīmē šūnas, kurās <a href="Chapter3.html#Chapter3.2.2">vienkāršās ainavas slānī</a> ir
reģistrēti zālāji (klase <code>330</code>);</p></li>
<li><p>Vērtība <code>0</code> - pārējās Latvijas teritorijā esošās šūnas.</p></li>
</ul>
<p>Zemāk esošās komandu rindas izveido failu <code>Lauki_zalajiYN.tif</code>.</p>
<details class=chunk-details><summary class=chunk-summary><span class=chunk-summary-text>Code</span></summary>
<div class="sourceCode" id="cb31"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb31-1"><a href="Chapter3.html#cb31-1" tabindex="-1"></a><span class="co"># Libs</span></span>
<span id="cb31-2"><a href="Chapter3.html#cb31-2" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(tidyverse)) {<span class="fu">install.packages</span>(<span class="st">&quot;tidyverse&quot;</span>); <span class="fu">require</span>(tidyverse)}</span>
<span id="cb31-3"><a href="Chapter3.html#cb31-3" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(sf)) {<span class="fu">install.packages</span>(<span class="st">&quot;sf&quot;</span>); <span class="fu">require</span>(sf)}</span>
<span id="cb31-4"><a href="Chapter3.html#cb31-4" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(arrow)) {<span class="fu">install.packages</span>(<span class="st">&quot;arrow&quot;</span>); <span class="fu">require</span>(arrow)}</span>
<span id="cb31-5"><a href="Chapter3.html#cb31-5" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(sfarrow)) {<span class="fu">install.packages</span>(<span class="st">&quot;sfarrow&quot;</span>); <span class="fu">require</span>(sfarrow)}</span>
<span id="cb31-6"><a href="Chapter3.html#cb31-6" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(terra)) {<span class="fu">install.packages</span>(<span class="st">&quot;terra&quot;</span>); <span class="fu">require</span>(terra)}</span>
<span id="cb31-7"><a href="Chapter3.html#cb31-7" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(raster)) {<span class="fu">install.packages</span>(<span class="st">&quot;raster&quot;</span>); <span class="fu">require</span>(raster)}</span>
<span id="cb31-8"><a href="Chapter3.html#cb31-8" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(fasterize)) {<span class="fu">install.packages</span>(<span class="st">&quot;fasterize&quot;</span>); <span class="fu">require</span>(fasterize)}</span>
<span id="cb31-9"><a href="Chapter3.html#cb31-9" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(readxl)) {<span class="fu">install.packages</span>(<span class="st">&quot;readxl&quot;</span>); <span class="fu">require</span>(readxl)}</span>
<span id="cb31-10"><a href="Chapter3.html#cb31-10" tabindex="-1"></a></span>
<span id="cb31-11"><a href="Chapter3.html#cb31-11" tabindex="-1"></a><span class="co"># templates</span></span>
<span id="cb31-12"><a href="Chapter3.html#cb31-12" tabindex="-1"></a>template_t<span class="ot">=</span><span class="fu">rast</span>(<span class="st">&quot;./Templates/TemplateRasters/LV10m_10km.tif&quot;</span>)</span>
<span id="cb31-13"><a href="Chapter3.html#cb31-13" tabindex="-1"></a>template_r<span class="ot">=</span><span class="fu">raster</span>(template_t)</span>
<span id="cb31-14"><a href="Chapter3.html#cb31-14" tabindex="-1"></a></span>
<span id="cb31-15"><a href="Chapter3.html#cb31-15" tabindex="-1"></a>nulles<span class="ot">=</span>terra<span class="sc">::</span><span class="fu">subst</span>(template_t,<span class="at">from=</span><span class="dv">1</span>,<span class="at">to=</span><span class="dv">0</span>)</span>
<span id="cb31-16"><a href="Chapter3.html#cb31-16" tabindex="-1"></a></span>
<span id="cb31-17"><a href="Chapter3.html#cb31-17" tabindex="-1"></a><span class="co"># vienkāršā ainava</span></span>
<span id="cb31-18"><a href="Chapter3.html#cb31-18" tabindex="-1"></a>ainava_t<span class="ot">=</span><span class="fu">rast</span>(<span class="st">&quot;./Rastri_10m/Ainava_vienk_mask.tif&quot;</span>)</span>
<span id="cb31-19"><a href="Chapter3.html#cb31-19" tabindex="-1"></a>ainava_r<span class="ot">=</span><span class="fu">raster</span>(ainava_t)</span>
<span id="cb31-20"><a href="Chapter3.html#cb31-20" tabindex="-1"></a></span>
<span id="cb31-21"><a href="Chapter3.html#cb31-21" tabindex="-1"></a><span class="co"># zālāji</span></span>
<span id="cb31-22"><a href="Chapter3.html#cb31-22" tabindex="-1"></a>zalajiYN<span class="ot">=</span><span class="fu">ifel</span>(ainava_t<span class="sc">==</span><span class="dv">330</span>,<span class="dv">1</span>,<span class="dv">0</span>,</span>
<span id="cb31-23"><a href="Chapter3.html#cb31-23" tabindex="-1"></a>              <span class="at">filename=</span><span class="st">&quot;./Rastri_10m/Lauki_zalajiYN.tif&quot;</span>,</span>
<span id="cb31-24"><a href="Chapter3.html#cb31-24" tabindex="-1"></a>              <span class="at">overwrite=</span><span class="cn">TRUE</span>)</span></code></pre></div>
</details>
<p><br></p>
</div>
<div id="Chapter3.2.2.1.4" class="section level5 hasAnchor" number="3.2.2.1.4">
<h5><span class="header-section-number">3.2.2.1.4</span> Zālāji LAD ne ppg<a href="Chapter3.html#Chapter3.2.2.1.4" class="anchor-section" aria-label="Anchor link to header"></a></h5>
<p>Rastrs ar šūnas izmēru 10 m un segumu visai Latvijas teritorijai.</p>
<ul>
<li><p>Vērtība <code>1</code> apzīmē šūnas, kurās atrodas <a href="Chapter3.html#Chapter3.2.2.1.3">Zālāji visi</a> un
<a href="./Papilddati/KulturuKodi_2024.xlsx">LAD kultūru kodi</a> ir grupā
(lauks <code>SDM_grupa_sakums</code>) “zālāji (kultivētie)”;</p></li>
<li><p>Vērtība <code>0</code> - pārējās Latvijas teritorijā esošās šūnas.</p></li>
</ul>
<p>Zemāk esošās komandu rindas izveido failu <code>Lauki_ZalajiKultivetie.tif</code>.</p>
<details class=chunk-details><summary class=chunk-summary><span class=chunk-summary-text>Code</span></summary>
<div class="sourceCode" id="cb32"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb32-1"><a href="Chapter3.html#cb32-1" tabindex="-1"></a><span class="co"># Libs</span></span>
<span id="cb32-2"><a href="Chapter3.html#cb32-2" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(tidyverse)) {<span class="fu">install.packages</span>(<span class="st">&quot;tidyverse&quot;</span>); <span class="fu">require</span>(tidyverse)}</span>
<span id="cb32-3"><a href="Chapter3.html#cb32-3" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(sf)) {<span class="fu">install.packages</span>(<span class="st">&quot;sf&quot;</span>); <span class="fu">require</span>(sf)}</span>
<span id="cb32-4"><a href="Chapter3.html#cb32-4" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(arrow)) {<span class="fu">install.packages</span>(<span class="st">&quot;arrow&quot;</span>); <span class="fu">require</span>(arrow)}</span>
<span id="cb32-5"><a href="Chapter3.html#cb32-5" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(sfarrow)) {<span class="fu">install.packages</span>(<span class="st">&quot;sfarrow&quot;</span>); <span class="fu">require</span>(sfarrow)}</span>
<span id="cb32-6"><a href="Chapter3.html#cb32-6" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(terra)) {<span class="fu">install.packages</span>(<span class="st">&quot;terra&quot;</span>); <span class="fu">require</span>(terra)}</span>
<span id="cb32-7"><a href="Chapter3.html#cb32-7" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(raster)) {<span class="fu">install.packages</span>(<span class="st">&quot;raster&quot;</span>); <span class="fu">require</span>(raster)}</span>
<span id="cb32-8"><a href="Chapter3.html#cb32-8" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(fasterize)) {<span class="fu">install.packages</span>(<span class="st">&quot;fasterize&quot;</span>); <span class="fu">require</span>(fasterize)}</span>
<span id="cb32-9"><a href="Chapter3.html#cb32-9" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(readxl)) {<span class="fu">install.packages</span>(<span class="st">&quot;readxl&quot;</span>); <span class="fu">require</span>(readxl)}</span>
<span id="cb32-10"><a href="Chapter3.html#cb32-10" tabindex="-1"></a></span>
<span id="cb32-11"><a href="Chapter3.html#cb32-11" tabindex="-1"></a><span class="co"># templates</span></span>
<span id="cb32-12"><a href="Chapter3.html#cb32-12" tabindex="-1"></a>template_t<span class="ot">=</span><span class="fu">rast</span>(<span class="st">&quot;./Templates/TemplateRasters/LV10m_10km.tif&quot;</span>)</span>
<span id="cb32-13"><a href="Chapter3.html#cb32-13" tabindex="-1"></a>template_r<span class="ot">=</span><span class="fu">raster</span>(template_t)</span>
<span id="cb32-14"><a href="Chapter3.html#cb32-14" tabindex="-1"></a></span>
<span id="cb32-15"><a href="Chapter3.html#cb32-15" tabindex="-1"></a>nulles<span class="ot">=</span>terra<span class="sc">::</span><span class="fu">subst</span>(template_t,<span class="at">from=</span><span class="dv">1</span>,<span class="at">to=</span><span class="dv">0</span>)</span>
<span id="cb32-16"><a href="Chapter3.html#cb32-16" tabindex="-1"></a></span>
<span id="cb32-17"><a href="Chapter3.html#cb32-17" tabindex="-1"></a><span class="co"># vienkāršā ainava</span></span>
<span id="cb32-18"><a href="Chapter3.html#cb32-18" tabindex="-1"></a>ainava_t<span class="ot">=</span><span class="fu">rast</span>(<span class="st">&quot;./Rastri_10m/Ainava_vienk_mask.tif&quot;</span>)</span>
<span id="cb32-19"><a href="Chapter3.html#cb32-19" tabindex="-1"></a>ainava_r<span class="ot">=</span><span class="fu">raster</span>(ainava_t)</span>
<span id="cb32-20"><a href="Chapter3.html#cb32-20" tabindex="-1"></a></span>
<span id="cb32-21"><a href="Chapter3.html#cb32-21" tabindex="-1"></a><span class="co"># lauki</span></span>
<span id="cb32-22"><a href="Chapter3.html#cb32-22" tabindex="-1"></a>lad_klasem<span class="ot">=</span><span class="fu">read_excel</span>(<span class="st">&quot;./IevadesDati/LAD/KulturuKodi_2024.xlsx&quot;</span>)</span>
<span id="cb32-23"><a href="Chapter3.html#cb32-23" tabindex="-1"></a>lad<span class="ot">=</span><span class="fu">st_read_parquet</span>(<span class="st">&quot;./IevadesDati/LAD/LAD_lauki.parquet&quot;</span>)</span>
<span id="cb32-24"><a href="Chapter3.html#cb32-24" tabindex="-1"></a>lad<span class="sc">$</span>yes<span class="ot">=</span><span class="dv">1</span></span>
<span id="cb32-25"><a href="Chapter3.html#cb32-25" tabindex="-1"></a></span>
<span id="cb32-26"><a href="Chapter3.html#cb32-26" tabindex="-1"></a></span>
<span id="cb32-27"><a href="Chapter3.html#cb32-27" tabindex="-1"></a></span>
<span id="cb32-28"><a href="Chapter3.html#cb32-28" tabindex="-1"></a><span class="co"># kultivētie zālāji</span></span>
<span id="cb32-29"><a href="Chapter3.html#cb32-29" tabindex="-1"></a>kultivetie<span class="ot">=</span>lad_klasem <span class="sc">%&gt;%</span> <span class="fu">filter</span>(<span class="fu">str_detect</span>(SDM_grupa_sakums,<span class="st">&quot;kulti&quot;</span>))</span>
<span id="cb32-30"><a href="Chapter3.html#cb32-30" tabindex="-1"></a>lad_kultivetie<span class="ot">=</span>lad <span class="sc">%&gt;%</span> <span class="fu">filter</span>(lad<span class="sc">$</span>PRODUCT_CODE <span class="sc">%in%</span> kultivetie<span class="sc">$</span>kods)</span>
<span id="cb32-31"><a href="Chapter3.html#cb32-31" tabindex="-1"></a>zalaji_kulti<span class="ot">=</span>fasterize<span class="sc">::</span><span class="fu">fasterize</span>(lad_kultivetie,template_r,<span class="at">field=</span><span class="st">&quot;yes&quot;</span>)</span>
<span id="cb32-32"><a href="Chapter3.html#cb32-32" tabindex="-1"></a>zalaji_kulti<span class="ot">=</span><span class="fu">rast</span>(zalaji_kulti)</span>
<span id="cb32-33"><a href="Chapter3.html#cb32-33" tabindex="-1"></a></span>
<span id="cb32-34"><a href="Chapter3.html#cb32-34" tabindex="-1"></a>zalajiYN<span class="ot">=</span><span class="fu">rast</span>(<span class="st">&quot;./Rastri_10m/Lauki_zalajiYN.tif&quot;</span>)</span>
<span id="cb32-35"><a href="Chapter3.html#cb32-35" tabindex="-1"></a>zalaji_kulti2<span class="ot">=</span><span class="fu">ifel</span>(<span class="sc">!</span><span class="fu">is.na</span>(zalaji_kulti)<span class="sc">&amp;</span>zalajiYN<span class="sc">==</span><span class="dv">1</span>,<span class="dv">1</span>,<span class="dv">0</span>)</span>
<span id="cb32-36"><a href="Chapter3.html#cb32-36" tabindex="-1"></a>aizpildits<span class="ot">=</span>terra<span class="sc">::</span><span class="fu">cover</span>(zalaji_kulti2,nulles)</span>
<span id="cb32-37"><a href="Chapter3.html#cb32-37" tabindex="-1"></a>pecmaskas_rastrs<span class="ot">=</span><span class="fu">mask</span>(aizpildits,template_t,</span>
<span id="cb32-38"><a href="Chapter3.html#cb32-38" tabindex="-1"></a>                      <span class="at">filename=</span><span class="st">&quot;./Rastri_10m/Lauki_ZalajiKultivetie.tif&quot;</span>,</span>
<span id="cb32-39"><a href="Chapter3.html#cb32-39" tabindex="-1"></a>                   <span class="at">overwrite=</span><span class="cn">TRUE</span>)</span></code></pre></div>
</details>
<p><br></p>
</div>
<div id="Chapter3.2.2.1.5" class="section level5 hasAnchor" number="3.2.2.1.5">
<h5><span class="header-section-number">3.2.2.1.5</span> Zālāji ilglaicīgie<a href="Chapter3.html#Chapter3.2.2.1.5" class="anchor-section" aria-label="Anchor link to header"></a></h5>
<p>Rastrs ar šūnas izmēru 10 m un segumu visai Latvijas teritorijai.</p>
<ul>
<li><p>Vērtība <code>1</code> apzīmē šūnas, kurās atrodas <a href="Chapter3.html#Chapter3.2.2.1.3">Zālāji visi</a> un
<a href="./Papilddati/KulturuKodi_2024.xlsx">LAD kultūru kodi</a> ir grupā
(lauks <code>SDM_grupa_sakums</code>) “zālāji (kultivētie)”;</p></li>
<li><p>Vērtība <code>0</code> - pārējās Latvijas teritorijā esošās šūnas.</p></li>
</ul>
<p>Zemāk esošās komandu rindas izveido failu <code>Lauki_ZalajiIlggadigie.tif</code>.</p>
<details class=chunk-details><summary class=chunk-summary><span class=chunk-summary-text>Code</span></summary>
<div class="sourceCode" id="cb33"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb33-1"><a href="Chapter3.html#cb33-1" tabindex="-1"></a><span class="co"># Libs</span></span>
<span id="cb33-2"><a href="Chapter3.html#cb33-2" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(tidyverse)) {<span class="fu">install.packages</span>(<span class="st">&quot;tidyverse&quot;</span>); <span class="fu">require</span>(tidyverse)}</span>
<span id="cb33-3"><a href="Chapter3.html#cb33-3" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(sf)) {<span class="fu">install.packages</span>(<span class="st">&quot;sf&quot;</span>); <span class="fu">require</span>(sf)}</span>
<span id="cb33-4"><a href="Chapter3.html#cb33-4" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(arrow)) {<span class="fu">install.packages</span>(<span class="st">&quot;arrow&quot;</span>); <span class="fu">require</span>(arrow)}</span>
<span id="cb33-5"><a href="Chapter3.html#cb33-5" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(sfarrow)) {<span class="fu">install.packages</span>(<span class="st">&quot;sfarrow&quot;</span>); <span class="fu">require</span>(sfarrow)}</span>
<span id="cb33-6"><a href="Chapter3.html#cb33-6" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(terra)) {<span class="fu">install.packages</span>(<span class="st">&quot;terra&quot;</span>); <span class="fu">require</span>(terra)}</span>
<span id="cb33-7"><a href="Chapter3.html#cb33-7" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(raster)) {<span class="fu">install.packages</span>(<span class="st">&quot;raster&quot;</span>); <span class="fu">require</span>(raster)}</span>
<span id="cb33-8"><a href="Chapter3.html#cb33-8" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(fasterize)) {<span class="fu">install.packages</span>(<span class="st">&quot;fasterize&quot;</span>); <span class="fu">require</span>(fasterize)}</span>
<span id="cb33-9"><a href="Chapter3.html#cb33-9" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(readxl)) {<span class="fu">install.packages</span>(<span class="st">&quot;readxl&quot;</span>); <span class="fu">require</span>(readxl)}</span>
<span id="cb33-10"><a href="Chapter3.html#cb33-10" tabindex="-1"></a></span>
<span id="cb33-11"><a href="Chapter3.html#cb33-11" tabindex="-1"></a><span class="co"># templates</span></span>
<span id="cb33-12"><a href="Chapter3.html#cb33-12" tabindex="-1"></a>template_t<span class="ot">=</span><span class="fu">rast</span>(<span class="st">&quot;./Templates/TemplateRasters/LV10m_10km.tif&quot;</span>)</span>
<span id="cb33-13"><a href="Chapter3.html#cb33-13" tabindex="-1"></a>template_r<span class="ot">=</span><span class="fu">raster</span>(template_t)</span>
<span id="cb33-14"><a href="Chapter3.html#cb33-14" tabindex="-1"></a></span>
<span id="cb33-15"><a href="Chapter3.html#cb33-15" tabindex="-1"></a>nulles<span class="ot">=</span>terra<span class="sc">::</span><span class="fu">subst</span>(template_t,<span class="at">from=</span><span class="dv">1</span>,<span class="at">to=</span><span class="dv">0</span>)</span>
<span id="cb33-16"><a href="Chapter3.html#cb33-16" tabindex="-1"></a></span>
<span id="cb33-17"><a href="Chapter3.html#cb33-17" tabindex="-1"></a><span class="co"># vienkāršā ainava</span></span>
<span id="cb33-18"><a href="Chapter3.html#cb33-18" tabindex="-1"></a>ainava_t<span class="ot">=</span><span class="fu">rast</span>(<span class="st">&quot;./Rastri_10m/Ainava_vienk_mask.tif&quot;</span>)</span>
<span id="cb33-19"><a href="Chapter3.html#cb33-19" tabindex="-1"></a>ainava_r<span class="ot">=</span><span class="fu">raster</span>(ainava_t)</span>
<span id="cb33-20"><a href="Chapter3.html#cb33-20" tabindex="-1"></a></span>
<span id="cb33-21"><a href="Chapter3.html#cb33-21" tabindex="-1"></a><span class="co"># lauki</span></span>
<span id="cb33-22"><a href="Chapter3.html#cb33-22" tabindex="-1"></a>lad_klasem<span class="ot">=</span><span class="fu">read_excel</span>(<span class="st">&quot;./IevadesDati/LAD/KulturuKodi_2024.xlsx&quot;</span>)</span>
<span id="cb33-23"><a href="Chapter3.html#cb33-23" tabindex="-1"></a>lad<span class="ot">=</span><span class="fu">st_read_parquet</span>(<span class="st">&quot;./IevadesDati/LAD/LAD_lauki.parquet&quot;</span>)</span>
<span id="cb33-24"><a href="Chapter3.html#cb33-24" tabindex="-1"></a>lad<span class="sc">$</span>yes<span class="ot">=</span><span class="dv">1</span></span>
<span id="cb33-25"><a href="Chapter3.html#cb33-25" tabindex="-1"></a></span>
<span id="cb33-26"><a href="Chapter3.html#cb33-26" tabindex="-1"></a><span class="co"># ilggadīgie zālāji</span></span>
<span id="cb33-27"><a href="Chapter3.html#cb33-27" tabindex="-1"></a>ppg<span class="ot">=</span>lad_klasem <span class="sc">%&gt;%</span> <span class="fu">filter</span>(<span class="fu">str_detect</span>(SDM_grupa_sakums,<span class="st">&quot;ilgg&quot;</span>))</span>
<span id="cb33-28"><a href="Chapter3.html#cb33-28" tabindex="-1"></a>lad_ppg<span class="ot">=</span>lad <span class="sc">%&gt;%</span> <span class="fu">filter</span>(lad<span class="sc">$</span>PRODUCT_CODE <span class="sc">%in%</span> ppg<span class="sc">$</span>kods)</span>
<span id="cb33-29"><a href="Chapter3.html#cb33-29" tabindex="-1"></a>zalaji_ppg<span class="ot">=</span>fasterize<span class="sc">::</span><span class="fu">fasterize</span>(lad_ppg,template_r,<span class="at">field=</span><span class="st">&quot;yes&quot;</span>)</span>
<span id="cb33-30"><a href="Chapter3.html#cb33-30" tabindex="-1"></a>zalaji_ppg<span class="ot">=</span><span class="fu">rast</span>(zalaji_ppg)</span>
<span id="cb33-31"><a href="Chapter3.html#cb33-31" tabindex="-1"></a>zalajiYN<span class="ot">=</span><span class="fu">rast</span>(<span class="st">&quot;./Rastri_10m/Lauki_zalajiYN.tif&quot;</span>)</span>
<span id="cb33-32"><a href="Chapter3.html#cb33-32" tabindex="-1"></a>zalaji_ppg2<span class="ot">=</span><span class="fu">ifel</span>(<span class="sc">!</span><span class="fu">is.na</span>(zalaji_ppg)<span class="sc">&amp;</span>zalajiYN<span class="sc">==</span><span class="dv">1</span>,<span class="dv">1</span>,<span class="dv">0</span>)</span>
<span id="cb33-33"><a href="Chapter3.html#cb33-33" tabindex="-1"></a>aizpildits<span class="ot">=</span>terra<span class="sc">::</span><span class="fu">cover</span>(zalaji_ppg2,nulles)</span>
<span id="cb33-34"><a href="Chapter3.html#cb33-34" tabindex="-1"></a>pecmaskas_rastrs<span class="ot">=</span><span class="fu">mask</span>(aizpildits,template_t,</span>
<span id="cb33-35"><a href="Chapter3.html#cb33-35" tabindex="-1"></a>                      <span class="at">filename=</span><span class="st">&quot;./Rastri_10m/Lauki_ZalajiIlggadigie.tif&quot;</span>,</span>
<span id="cb33-36"><a href="Chapter3.html#cb33-36" tabindex="-1"></a>                   <span class="at">overwrite=</span><span class="cn">TRUE</span>)</span></code></pre></div>
</details>
<p><br></p>
</div>
<div id="Chapter3.2.2.1.6" class="section level5 hasAnchor" number="3.2.2.1.6">
<h5><span class="header-section-number">3.2.2.1.6</span> Papuves<a href="Chapter3.html#Chapter3.2.2.1.6" class="anchor-section" aria-label="Anchor link to header"></a></h5>
<p>Rastrs ar šūnas izmēru 10 m un segumu visai Latvijas teritorijai.</p>
<ul>
<li><p>Vērtība <code>1</code> apzīmē šūnas, kurās <a href="Chapter3.html#Chapter3.2.2">vienkāršās ainavas slānī</a> ir
reģistrētas papuves (klase <code>320</code>);</p></li>
<li><p>Vērtība <code>0</code> - pārējās Latvijas teritorijā esošās šūnas.</p></li>
</ul>
<p>Zemāk esošās komandu rindas izveido failu <code>Lauki_papuvesYN.tif</code>.</p>
<details class=chunk-details><summary class=chunk-summary><span class=chunk-summary-text>Code</span></summary>
<div class="sourceCode" id="cb34"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb34-1"><a href="Chapter3.html#cb34-1" tabindex="-1"></a><span class="co"># Libs</span></span>
<span id="cb34-2"><a href="Chapter3.html#cb34-2" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(tidyverse)) {<span class="fu">install.packages</span>(<span class="st">&quot;tidyverse&quot;</span>); <span class="fu">require</span>(tidyverse)}</span>
<span id="cb34-3"><a href="Chapter3.html#cb34-3" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(sf)) {<span class="fu">install.packages</span>(<span class="st">&quot;sf&quot;</span>); <span class="fu">require</span>(sf)}</span>
<span id="cb34-4"><a href="Chapter3.html#cb34-4" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(arrow)) {<span class="fu">install.packages</span>(<span class="st">&quot;arrow&quot;</span>); <span class="fu">require</span>(arrow)}</span>
<span id="cb34-5"><a href="Chapter3.html#cb34-5" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(sfarrow)) {<span class="fu">install.packages</span>(<span class="st">&quot;sfarrow&quot;</span>); <span class="fu">require</span>(sfarrow)}</span>
<span id="cb34-6"><a href="Chapter3.html#cb34-6" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(terra)) {<span class="fu">install.packages</span>(<span class="st">&quot;terra&quot;</span>); <span class="fu">require</span>(terra)}</span>
<span id="cb34-7"><a href="Chapter3.html#cb34-7" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(raster)) {<span class="fu">install.packages</span>(<span class="st">&quot;raster&quot;</span>); <span class="fu">require</span>(raster)}</span>
<span id="cb34-8"><a href="Chapter3.html#cb34-8" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(fasterize)) {<span class="fu">install.packages</span>(<span class="st">&quot;fasterize&quot;</span>); <span class="fu">require</span>(fasterize)}</span>
<span id="cb34-9"><a href="Chapter3.html#cb34-9" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(readxl)) {<span class="fu">install.packages</span>(<span class="st">&quot;readxl&quot;</span>); <span class="fu">require</span>(readxl)}</span>
<span id="cb34-10"><a href="Chapter3.html#cb34-10" tabindex="-1"></a></span>
<span id="cb34-11"><a href="Chapter3.html#cb34-11" tabindex="-1"></a><span class="co"># templates</span></span>
<span id="cb34-12"><a href="Chapter3.html#cb34-12" tabindex="-1"></a>template_t<span class="ot">=</span><span class="fu">rast</span>(<span class="st">&quot;./Templates/TemplateRasters/LV10m_10km.tif&quot;</span>)</span>
<span id="cb34-13"><a href="Chapter3.html#cb34-13" tabindex="-1"></a>template_r<span class="ot">=</span><span class="fu">raster</span>(template_t)</span>
<span id="cb34-14"><a href="Chapter3.html#cb34-14" tabindex="-1"></a></span>
<span id="cb34-15"><a href="Chapter3.html#cb34-15" tabindex="-1"></a>nulles<span class="ot">=</span>terra<span class="sc">::</span><span class="fu">subst</span>(template_t,<span class="at">from=</span><span class="dv">1</span>,<span class="at">to=</span><span class="dv">0</span>)</span>
<span id="cb34-16"><a href="Chapter3.html#cb34-16" tabindex="-1"></a></span>
<span id="cb34-17"><a href="Chapter3.html#cb34-17" tabindex="-1"></a><span class="co"># vienkāršā ainava</span></span>
<span id="cb34-18"><a href="Chapter3.html#cb34-18" tabindex="-1"></a>ainava_t<span class="ot">=</span><span class="fu">rast</span>(<span class="st">&quot;./Rastri_10m/Ainava_vienk_mask.tif&quot;</span>)</span>
<span id="cb34-19"><a href="Chapter3.html#cb34-19" tabindex="-1"></a>ainava_r<span class="ot">=</span><span class="fu">raster</span>(ainava_t)</span>
<span id="cb34-20"><a href="Chapter3.html#cb34-20" tabindex="-1"></a></span>
<span id="cb34-21"><a href="Chapter3.html#cb34-21" tabindex="-1"></a><span class="co"># papuves</span></span>
<span id="cb34-22"><a href="Chapter3.html#cb34-22" tabindex="-1"></a>papuvesYN<span class="ot">=</span><span class="fu">ifel</span>(ainava_t<span class="sc">==</span><span class="dv">320</span>,<span class="dv">1</span>,<span class="dv">0</span>,</span>
<span id="cb34-23"><a href="Chapter3.html#cb34-23" tabindex="-1"></a>              <span class="at">filename=</span><span class="st">&quot;./Rastri_10m/Lauki_papuvesYN.tif&quot;</span>,</span>
<span id="cb34-24"><a href="Chapter3.html#cb34-24" tabindex="-1"></a>              <span class="at">overwrite=</span><span class="cn">TRUE</span>)</span></code></pre></div>
</details>
<p><br></p>
</div>
<div id="Chapter3.2.2.1.7" class="section level5 hasAnchor" number="3.2.2.1.7">
<h5><span class="header-section-number">3.2.2.1.7</span> Krūmveida stādījumi<a href="Chapter3.html#Chapter3.2.2.1.7" class="anchor-section" aria-label="Anchor link to header"></a></h5>
<p>Rastrs ar šūnas izmēru 10 m un segumu visai Latvijas teritorijai.</p>
<ul>
<li><p>Vērtība <code>1</code> apzīmē šūnas, kurās <a href="Chapter3.html#Chapter3.2.2">vienkāršās ainavas slānī</a> ir
reģistrēta klase <code>620</code> un
<a href="./Papilddati/KulturuKodi_2024.xlsx">LAD kultūru kodi</a> ir grupā
(lauks <code>SDM_grupa_sakums</code>) “krūmveida ilggadīgie stādījumi”;</p></li>
<li><p>Vērtība <code>0</code> - pārējās Latvijas teritorijā esošās šūnas.</p></li>
</ul>
<p>Zemāk esošās komandu rindas izveido failu <code>Lauki_KrumiLAD.tif</code>.</p>
<details class=chunk-details><summary class=chunk-summary><span class=chunk-summary-text>Code</span></summary>
<div class="sourceCode" id="cb35"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb35-1"><a href="Chapter3.html#cb35-1" tabindex="-1"></a><span class="co"># Libs</span></span>
<span id="cb35-2"><a href="Chapter3.html#cb35-2" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(tidyverse)) {<span class="fu">install.packages</span>(<span class="st">&quot;tidyverse&quot;</span>); <span class="fu">require</span>(tidyverse)}</span>
<span id="cb35-3"><a href="Chapter3.html#cb35-3" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(sf)) {<span class="fu">install.packages</span>(<span class="st">&quot;sf&quot;</span>); <span class="fu">require</span>(sf)}</span>
<span id="cb35-4"><a href="Chapter3.html#cb35-4" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(arrow)) {<span class="fu">install.packages</span>(<span class="st">&quot;arrow&quot;</span>); <span class="fu">require</span>(arrow)}</span>
<span id="cb35-5"><a href="Chapter3.html#cb35-5" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(sfarrow)) {<span class="fu">install.packages</span>(<span class="st">&quot;sfarrow&quot;</span>); <span class="fu">require</span>(sfarrow)}</span>
<span id="cb35-6"><a href="Chapter3.html#cb35-6" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(terra)) {<span class="fu">install.packages</span>(<span class="st">&quot;terra&quot;</span>); <span class="fu">require</span>(terra)}</span>
<span id="cb35-7"><a href="Chapter3.html#cb35-7" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(raster)) {<span class="fu">install.packages</span>(<span class="st">&quot;raster&quot;</span>); <span class="fu">require</span>(raster)}</span>
<span id="cb35-8"><a href="Chapter3.html#cb35-8" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(fasterize)) {<span class="fu">install.packages</span>(<span class="st">&quot;fasterize&quot;</span>); <span class="fu">require</span>(fasterize)}</span>
<span id="cb35-9"><a href="Chapter3.html#cb35-9" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(readxl)) {<span class="fu">install.packages</span>(<span class="st">&quot;readxl&quot;</span>); <span class="fu">require</span>(readxl)}</span>
<span id="cb35-10"><a href="Chapter3.html#cb35-10" tabindex="-1"></a></span>
<span id="cb35-11"><a href="Chapter3.html#cb35-11" tabindex="-1"></a><span class="co"># templates</span></span>
<span id="cb35-12"><a href="Chapter3.html#cb35-12" tabindex="-1"></a>template_t<span class="ot">=</span><span class="fu">rast</span>(<span class="st">&quot;./Templates/TemplateRasters/LV10m_10km.tif&quot;</span>)</span>
<span id="cb35-13"><a href="Chapter3.html#cb35-13" tabindex="-1"></a>template_r<span class="ot">=</span><span class="fu">raster</span>(template_t)</span>
<span id="cb35-14"><a href="Chapter3.html#cb35-14" tabindex="-1"></a></span>
<span id="cb35-15"><a href="Chapter3.html#cb35-15" tabindex="-1"></a>nulles<span class="ot">=</span>terra<span class="sc">::</span><span class="fu">subst</span>(template_t,<span class="at">from=</span><span class="dv">1</span>,<span class="at">to=</span><span class="dv">0</span>)</span>
<span id="cb35-16"><a href="Chapter3.html#cb35-16" tabindex="-1"></a></span>
<span id="cb35-17"><a href="Chapter3.html#cb35-17" tabindex="-1"></a><span class="co"># vienkāršā ainava</span></span>
<span id="cb35-18"><a href="Chapter3.html#cb35-18" tabindex="-1"></a>ainava_t<span class="ot">=</span><span class="fu">rast</span>(<span class="st">&quot;./Rastri_10m/Ainava_vienk_mask.tif&quot;</span>)</span>
<span id="cb35-19"><a href="Chapter3.html#cb35-19" tabindex="-1"></a>ainava_r<span class="ot">=</span><span class="fu">raster</span>(ainava_t)</span>
<span id="cb35-20"><a href="Chapter3.html#cb35-20" tabindex="-1"></a></span>
<span id="cb35-21"><a href="Chapter3.html#cb35-21" tabindex="-1"></a><span class="co"># lauki</span></span>
<span id="cb35-22"><a href="Chapter3.html#cb35-22" tabindex="-1"></a>lad_klasem<span class="ot">=</span><span class="fu">read_excel</span>(<span class="st">&quot;./IevadesDati/LAD/KulturuKodi_2024.xlsx&quot;</span>)</span>
<span id="cb35-23"><a href="Chapter3.html#cb35-23" tabindex="-1"></a>lad<span class="ot">=</span><span class="fu">st_read_parquet</span>(<span class="st">&quot;./IevadesDati/LAD/LAD_lauki.parquet&quot;</span>)</span>
<span id="cb35-24"><a href="Chapter3.html#cb35-24" tabindex="-1"></a>lad<span class="sc">$</span>yes<span class="ot">=</span><span class="dv">1</span></span>
<span id="cb35-25"><a href="Chapter3.html#cb35-25" tabindex="-1"></a></span>
<span id="cb35-26"><a href="Chapter3.html#cb35-26" tabindex="-1"></a></span>
<span id="cb35-27"><a href="Chapter3.html#cb35-27" tabindex="-1"></a></span>
<span id="cb35-28"><a href="Chapter3.html#cb35-28" tabindex="-1"></a><span class="co"># krūmveida stādījumi</span></span>
<span id="cb35-29"><a href="Chapter3.html#cb35-29" tabindex="-1"></a>stadijumi<span class="ot">=</span>lad_klasem <span class="sc">%&gt;%</span> <span class="fu">filter</span>(<span class="fu">str_detect</span>(SDM_grupa_sakums,<span class="st">&quot;krūmv&quot;</span>))</span>
<span id="cb35-30"><a href="Chapter3.html#cb35-30" tabindex="-1"></a>lad_krumi<span class="ot">=</span>lad <span class="sc">%&gt;%</span> <span class="fu">filter</span>(lad<span class="sc">$</span>PRODUCT_CODE <span class="sc">%in%</span> stadijumi<span class="sc">$</span>kods)</span>
<span id="cb35-31"><a href="Chapter3.html#cb35-31" tabindex="-1"></a>krumi_lad<span class="ot">=</span>fasterize<span class="sc">::</span><span class="fu">fasterize</span>(lad_krumi,template_r,<span class="at">field=</span><span class="st">&quot;yes&quot;</span>)</span>
<span id="cb35-32"><a href="Chapter3.html#cb35-32" tabindex="-1"></a>krumi_lad<span class="ot">=</span><span class="fu">rast</span>(krumi_lad)</span>
<span id="cb35-33"><a href="Chapter3.html#cb35-33" tabindex="-1"></a>krumi_ainava<span class="ot">=</span><span class="fu">ifel</span>(ainava_t<span class="sc">==</span><span class="dv">620</span>,<span class="dv">1</span>,<span class="dv">0</span>)</span>
<span id="cb35-34"><a href="Chapter3.html#cb35-34" tabindex="-1"></a>krumi_lad2<span class="ot">=</span><span class="fu">ifel</span>(<span class="sc">!</span><span class="fu">is.na</span>(krumi_lad)<span class="sc">&amp;</span>krumi_ainava<span class="sc">==</span><span class="dv">1</span>,<span class="dv">1</span>,<span class="dv">0</span>)</span>
<span id="cb35-35"><a href="Chapter3.html#cb35-35" tabindex="-1"></a>aizpildits<span class="ot">=</span>terra<span class="sc">::</span><span class="fu">cover</span>(krumi_lad2,nulles)</span>
<span id="cb35-36"><a href="Chapter3.html#cb35-36" tabindex="-1"></a>pecmaskas_rastrs<span class="ot">=</span><span class="fu">mask</span>(aizpildits,template_t,</span>
<span id="cb35-37"><a href="Chapter3.html#cb35-37" tabindex="-1"></a>                      <span class="at">filename=</span><span class="st">&quot;./Rastri_10m/Lauki_KrumiLAD.tif&quot;</span>,</span>
<span id="cb35-38"><a href="Chapter3.html#cb35-38" tabindex="-1"></a>                 <span class="at">overwrite=</span><span class="cn">TRUE</span>)</span></code></pre></div>
</details>
<p><br></p>
</div>
<div id="Chapter3.2.2.1.8" class="section level5 hasAnchor" number="3.2.2.1.8">
<h5><span class="header-section-number">3.2.2.1.8</span> Augļudārzi LAD<a href="Chapter3.html#Chapter3.2.2.1.8" class="anchor-section" aria-label="Anchor link to header"></a></h5>
<p>Rastrs ar šūnas izmēru 10 m un segumu visai Latvijas teritorijai.</p>
<ul>
<li><p>Vērtība <code>1</code> apzīmē šūnas, kurās <a href="Chapter3.html#Chapter3.2.2">vienkāršās ainavas slānī</a> ir
reģistrēta klase <code>420</code> un
<a href="./Papilddati/KulturuKodi_2024.xlsx">LAD kultūru kodi</a> ir grupā
(lauks <code>SDM_grupa_sakums</code>) “augļudārzi”;</p></li>
<li><p>Vērtība <code>0</code> - pārējās Latvijas teritorijā esošās šūnas.</p></li>
</ul>
<p>Zemāk esošās komandu rindas izveido failu <code>Lauki_AugludarziLAD.tif</code>.</p>
<details class=chunk-details><summary class=chunk-summary><span class=chunk-summary-text>Code</span></summary>
<div class="sourceCode" id="cb36"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb36-1"><a href="Chapter3.html#cb36-1" tabindex="-1"></a><span class="co"># Libs</span></span>
<span id="cb36-2"><a href="Chapter3.html#cb36-2" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(tidyverse)) {<span class="fu">install.packages</span>(<span class="st">&quot;tidyverse&quot;</span>); <span class="fu">require</span>(tidyverse)}</span>
<span id="cb36-3"><a href="Chapter3.html#cb36-3" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(sf)) {<span class="fu">install.packages</span>(<span class="st">&quot;sf&quot;</span>); <span class="fu">require</span>(sf)}</span>
<span id="cb36-4"><a href="Chapter3.html#cb36-4" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(arrow)) {<span class="fu">install.packages</span>(<span class="st">&quot;arrow&quot;</span>); <span class="fu">require</span>(arrow)}</span>
<span id="cb36-5"><a href="Chapter3.html#cb36-5" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(sfarrow)) {<span class="fu">install.packages</span>(<span class="st">&quot;sfarrow&quot;</span>); <span class="fu">require</span>(sfarrow)}</span>
<span id="cb36-6"><a href="Chapter3.html#cb36-6" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(terra)) {<span class="fu">install.packages</span>(<span class="st">&quot;terra&quot;</span>); <span class="fu">require</span>(terra)}</span>
<span id="cb36-7"><a href="Chapter3.html#cb36-7" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(raster)) {<span class="fu">install.packages</span>(<span class="st">&quot;raster&quot;</span>); <span class="fu">require</span>(raster)}</span>
<span id="cb36-8"><a href="Chapter3.html#cb36-8" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(fasterize)) {<span class="fu">install.packages</span>(<span class="st">&quot;fasterize&quot;</span>); <span class="fu">require</span>(fasterize)}</span>
<span id="cb36-9"><a href="Chapter3.html#cb36-9" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(readxl)) {<span class="fu">install.packages</span>(<span class="st">&quot;readxl&quot;</span>); <span class="fu">require</span>(readxl)}</span>
<span id="cb36-10"><a href="Chapter3.html#cb36-10" tabindex="-1"></a></span>
<span id="cb36-11"><a href="Chapter3.html#cb36-11" tabindex="-1"></a><span class="co"># templates</span></span>
<span id="cb36-12"><a href="Chapter3.html#cb36-12" tabindex="-1"></a>template_t<span class="ot">=</span><span class="fu">rast</span>(<span class="st">&quot;./Templates/TemplateRasters/LV10m_10km.tif&quot;</span>)</span>
<span id="cb36-13"><a href="Chapter3.html#cb36-13" tabindex="-1"></a>template_r<span class="ot">=</span><span class="fu">raster</span>(template_t)</span>
<span id="cb36-14"><a href="Chapter3.html#cb36-14" tabindex="-1"></a></span>
<span id="cb36-15"><a href="Chapter3.html#cb36-15" tabindex="-1"></a>nulles<span class="ot">=</span>terra<span class="sc">::</span><span class="fu">subst</span>(template_t,<span class="at">from=</span><span class="dv">1</span>,<span class="at">to=</span><span class="dv">0</span>)</span>
<span id="cb36-16"><a href="Chapter3.html#cb36-16" tabindex="-1"></a></span>
<span id="cb36-17"><a href="Chapter3.html#cb36-17" tabindex="-1"></a><span class="co"># vienkāršā ainava</span></span>
<span id="cb36-18"><a href="Chapter3.html#cb36-18" tabindex="-1"></a>ainava_t<span class="ot">=</span><span class="fu">rast</span>(<span class="st">&quot;./Rastri_10m/Ainava_vienk_mask.tif&quot;</span>)</span>
<span id="cb36-19"><a href="Chapter3.html#cb36-19" tabindex="-1"></a>ainava_r<span class="ot">=</span><span class="fu">raster</span>(ainava_t)</span>
<span id="cb36-20"><a href="Chapter3.html#cb36-20" tabindex="-1"></a></span>
<span id="cb36-21"><a href="Chapter3.html#cb36-21" tabindex="-1"></a><span class="co"># lauki</span></span>
<span id="cb36-22"><a href="Chapter3.html#cb36-22" tabindex="-1"></a>lad_klasem<span class="ot">=</span><span class="fu">read_excel</span>(<span class="st">&quot;./IevadesDati/LAD/KulturuKodi_2024.xlsx&quot;</span>)</span>
<span id="cb36-23"><a href="Chapter3.html#cb36-23" tabindex="-1"></a>lad<span class="ot">=</span><span class="fu">st_read_parquet</span>(<span class="st">&quot;./IevadesDati/LAD/LAD_lauki.parquet&quot;</span>)</span>
<span id="cb36-24"><a href="Chapter3.html#cb36-24" tabindex="-1"></a>lad<span class="sc">$</span>yes<span class="ot">=</span><span class="dv">1</span></span>
<span id="cb36-25"><a href="Chapter3.html#cb36-25" tabindex="-1"></a></span>
<span id="cb36-26"><a href="Chapter3.html#cb36-26" tabindex="-1"></a></span>
<span id="cb36-27"><a href="Chapter3.html#cb36-27" tabindex="-1"></a><span class="co"># augļudārzi LAD</span></span>
<span id="cb36-28"><a href="Chapter3.html#cb36-28" tabindex="-1"></a>augludarzi<span class="ot">=</span>lad_klasem <span class="sc">%&gt;%</span> <span class="fu">filter</span>(<span class="fu">str_detect</span>(SDM_grupa_sakums,<span class="st">&quot;augļud&quot;</span>))</span>
<span id="cb36-29"><a href="Chapter3.html#cb36-29" tabindex="-1"></a>lad_augludarzi<span class="ot">=</span>lad <span class="sc">%&gt;%</span> <span class="fu">filter</span>(lad<span class="sc">$</span>PRODUCT_CODE <span class="sc">%in%</span> augludarzi<span class="sc">$</span>kods)</span>
<span id="cb36-30"><a href="Chapter3.html#cb36-30" tabindex="-1"></a>augludarzi_lad<span class="ot">=</span>fasterize<span class="sc">::</span><span class="fu">fasterize</span>(lad_augludarzi,template_r,<span class="at">field=</span><span class="st">&quot;yes&quot;</span>)</span>
<span id="cb36-31"><a href="Chapter3.html#cb36-31" tabindex="-1"></a>augludarzi_lad<span class="ot">=</span><span class="fu">rast</span>(augludarzi_lad)</span>
<span id="cb36-32"><a href="Chapter3.html#cb36-32" tabindex="-1"></a>vasarnicas<span class="ot">=</span><span class="fu">ifel</span>(ainava_t<span class="sc">==</span><span class="dv">420</span>,<span class="dv">1</span>,<span class="dv">0</span>)</span>
<span id="cb36-33"><a href="Chapter3.html#cb36-33" tabindex="-1"></a>augludarzi_lad2<span class="ot">=</span><span class="fu">ifel</span>(<span class="sc">!</span><span class="fu">is.na</span>(augludarzi_lad)<span class="sc">&amp;</span>vasarnicas<span class="sc">==</span><span class="dv">1</span>,<span class="dv">1</span>,<span class="dv">0</span>)</span>
<span id="cb36-34"><a href="Chapter3.html#cb36-34" tabindex="-1"></a>aizpildits<span class="ot">=</span>terra<span class="sc">::</span><span class="fu">cover</span>(augludarzi_lad2,nulles)</span>
<span id="cb36-35"><a href="Chapter3.html#cb36-35" tabindex="-1"></a>pecmaskas_rastrs<span class="ot">=</span><span class="fu">mask</span>(aizpildits,template_t,</span>
<span id="cb36-36"><a href="Chapter3.html#cb36-36" tabindex="-1"></a>                      <span class="at">filename=</span><span class="st">&quot;./Rastri_10m/Lauki_AugludarziLAD.tif&quot;</span>,</span>
<span id="cb36-37"><a href="Chapter3.html#cb36-37" tabindex="-1"></a>                <span class="at">overwrite=</span><span class="cn">TRUE</span>)</span></code></pre></div>
</details>
<p><br></p>
</div>
<div id="Chapter3.2.2.1.9" class="section level5 hasAnchor" number="3.2.2.1.9">
<h5><span class="header-section-number">3.2.2.1.9</span> Aramzemes visas<a href="Chapter3.html#Chapter3.2.2.1.9" class="anchor-section" aria-label="Anchor link to header"></a></h5>
<p>Rastrs ar šūnas izmēru 10 m un segumu visai Latvijas teritorijai.</p>
<ul>
<li><p>Vērtība <code>1</code> apzīmē šūnas, kurās <a href="Chapter3.html#Chapter3.2.2">vienkāršās ainavas slānī</a> ir
reģistrēta klase <code>310</code>;</p></li>
<li><p>Vērtība <code>0</code> - pārējās Latvijas teritorijā esošās šūnas.</p></li>
</ul>
<p>Zemāk esošās komandu rindas izveido failu <code>Lauki_AramzemesYN.tif</code>.</p>
<details class=chunk-details><summary class=chunk-summary><span class=chunk-summary-text>Code</span></summary>
<div class="sourceCode" id="cb37"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb37-1"><a href="Chapter3.html#cb37-1" tabindex="-1"></a><span class="co"># Libs</span></span>
<span id="cb37-2"><a href="Chapter3.html#cb37-2" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(tidyverse)) {<span class="fu">install.packages</span>(<span class="st">&quot;tidyverse&quot;</span>); <span class="fu">require</span>(tidyverse)}</span>
<span id="cb37-3"><a href="Chapter3.html#cb37-3" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(sf)) {<span class="fu">install.packages</span>(<span class="st">&quot;sf&quot;</span>); <span class="fu">require</span>(sf)}</span>
<span id="cb37-4"><a href="Chapter3.html#cb37-4" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(arrow)) {<span class="fu">install.packages</span>(<span class="st">&quot;arrow&quot;</span>); <span class="fu">require</span>(arrow)}</span>
<span id="cb37-5"><a href="Chapter3.html#cb37-5" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(sfarrow)) {<span class="fu">install.packages</span>(<span class="st">&quot;sfarrow&quot;</span>); <span class="fu">require</span>(sfarrow)}</span>
<span id="cb37-6"><a href="Chapter3.html#cb37-6" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(terra)) {<span class="fu">install.packages</span>(<span class="st">&quot;terra&quot;</span>); <span class="fu">require</span>(terra)}</span>
<span id="cb37-7"><a href="Chapter3.html#cb37-7" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(raster)) {<span class="fu">install.packages</span>(<span class="st">&quot;raster&quot;</span>); <span class="fu">require</span>(raster)}</span>
<span id="cb37-8"><a href="Chapter3.html#cb37-8" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(fasterize)) {<span class="fu">install.packages</span>(<span class="st">&quot;fasterize&quot;</span>); <span class="fu">require</span>(fasterize)}</span>
<span id="cb37-9"><a href="Chapter3.html#cb37-9" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(readxl)) {<span class="fu">install.packages</span>(<span class="st">&quot;readxl&quot;</span>); <span class="fu">require</span>(readxl)}</span>
<span id="cb37-10"><a href="Chapter3.html#cb37-10" tabindex="-1"></a></span>
<span id="cb37-11"><a href="Chapter3.html#cb37-11" tabindex="-1"></a><span class="co"># templates</span></span>
<span id="cb37-12"><a href="Chapter3.html#cb37-12" tabindex="-1"></a>template_t<span class="ot">=</span><span class="fu">rast</span>(<span class="st">&quot;./Templates/TemplateRasters/LV10m_10km.tif&quot;</span>)</span>
<span id="cb37-13"><a href="Chapter3.html#cb37-13" tabindex="-1"></a>template_r<span class="ot">=</span><span class="fu">raster</span>(template_t)</span>
<span id="cb37-14"><a href="Chapter3.html#cb37-14" tabindex="-1"></a></span>
<span id="cb37-15"><a href="Chapter3.html#cb37-15" tabindex="-1"></a>nulles<span class="ot">=</span>terra<span class="sc">::</span><span class="fu">subst</span>(template_t,<span class="at">from=</span><span class="dv">1</span>,<span class="at">to=</span><span class="dv">0</span>)</span>
<span id="cb37-16"><a href="Chapter3.html#cb37-16" tabindex="-1"></a></span>
<span id="cb37-17"><a href="Chapter3.html#cb37-17" tabindex="-1"></a><span class="co"># vienkāršā ainava</span></span>
<span id="cb37-18"><a href="Chapter3.html#cb37-18" tabindex="-1"></a>ainava_t<span class="ot">=</span><span class="fu">rast</span>(<span class="st">&quot;./Rastri_10m/Ainava_vienk_mask.tif&quot;</span>)</span>
<span id="cb37-19"><a href="Chapter3.html#cb37-19" tabindex="-1"></a>ainava_r<span class="ot">=</span><span class="fu">raster</span>(ainava_t)</span>
<span id="cb37-20"><a href="Chapter3.html#cb37-20" tabindex="-1"></a></span>
<span id="cb37-21"><a href="Chapter3.html#cb37-21" tabindex="-1"></a><span class="co"># aramzemes</span></span>
<span id="cb37-22"><a href="Chapter3.html#cb37-22" tabindex="-1"></a>aramzemesYN<span class="ot">=</span><span class="fu">ifel</span>(ainava_t<span class="sc">==</span><span class="dv">310</span>,<span class="dv">1</span>,<span class="dv">0</span>,</span>
<span id="cb37-23"><a href="Chapter3.html#cb37-23" tabindex="-1"></a>                 <span class="at">filename=</span><span class="st">&quot;./Rastri_10m/Lauki_AramzemesYN.tif&quot;</span>,</span>
<span id="cb37-24"><a href="Chapter3.html#cb37-24" tabindex="-1"></a>                 <span class="at">overwrite=</span><span class="cn">TRUE</span>)</span></code></pre></div>
</details>
<p><br></p>
</div>
<div id="Chapter3.2.2.1.10" class="section level5 hasAnchor" number="3.2.2.1.10">
<h5><span class="header-section-number">3.2.2.1.10</span> Aramzemes: ziemas rapsis un ripsis<a href="Chapter3.html#Chapter3.2.2.1.10" class="anchor-section" aria-label="Anchor link to header"></a></h5>
<p>Rastrs ar šūnas izmēru 10 m un segumu visai Latvijas teritorijai.</p>
<ul>
<li><p>Vērtība <code>1</code> apzīmē šūnas, kurās <a href="Chapter3.html#Chapter3.2.2.1.9">Aramzemes visas</a> ir
reģistrēta klase <code>1</code> un
<a href="./Papilddati/KulturuKodi_2024.xlsx">LAD kultūru kodi</a> ir grupā
(lauks <code>SDM_grupa_sakums</code>) “aramzemes (ziemas rapsis un ripsis)”;</p></li>
<li><p>Vērtība <code>0</code> - pārējās Latvijas teritorijā esošās šūnas.</p></li>
</ul>
<p>Zemāk esošās komandu rindas izveido failu <code>Lauki_AramzemeZiemasRapsi.tif</code>.</p>
<details class=chunk-details><summary class=chunk-summary><span class=chunk-summary-text>Code</span></summary>
<div class="sourceCode" id="cb38"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb38-1"><a href="Chapter3.html#cb38-1" tabindex="-1"></a><span class="co"># Libs</span></span>
<span id="cb38-2"><a href="Chapter3.html#cb38-2" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(tidyverse)) {<span class="fu">install.packages</span>(<span class="st">&quot;tidyverse&quot;</span>); <span class="fu">require</span>(tidyverse)}</span>
<span id="cb38-3"><a href="Chapter3.html#cb38-3" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(sf)) {<span class="fu">install.packages</span>(<span class="st">&quot;sf&quot;</span>); <span class="fu">require</span>(sf)}</span>
<span id="cb38-4"><a href="Chapter3.html#cb38-4" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(arrow)) {<span class="fu">install.packages</span>(<span class="st">&quot;arrow&quot;</span>); <span class="fu">require</span>(arrow)}</span>
<span id="cb38-5"><a href="Chapter3.html#cb38-5" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(sfarrow)) {<span class="fu">install.packages</span>(<span class="st">&quot;sfarrow&quot;</span>); <span class="fu">require</span>(sfarrow)}</span>
<span id="cb38-6"><a href="Chapter3.html#cb38-6" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(terra)) {<span class="fu">install.packages</span>(<span class="st">&quot;terra&quot;</span>); <span class="fu">require</span>(terra)}</span>
<span id="cb38-7"><a href="Chapter3.html#cb38-7" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(raster)) {<span class="fu">install.packages</span>(<span class="st">&quot;raster&quot;</span>); <span class="fu">require</span>(raster)}</span>
<span id="cb38-8"><a href="Chapter3.html#cb38-8" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(fasterize)) {<span class="fu">install.packages</span>(<span class="st">&quot;fasterize&quot;</span>); <span class="fu">require</span>(fasterize)}</span>
<span id="cb38-9"><a href="Chapter3.html#cb38-9" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(readxl)) {<span class="fu">install.packages</span>(<span class="st">&quot;readxl&quot;</span>); <span class="fu">require</span>(readxl)}</span>
<span id="cb38-10"><a href="Chapter3.html#cb38-10" tabindex="-1"></a></span>
<span id="cb38-11"><a href="Chapter3.html#cb38-11" tabindex="-1"></a><span class="co"># templates</span></span>
<span id="cb38-12"><a href="Chapter3.html#cb38-12" tabindex="-1"></a>template_t<span class="ot">=</span><span class="fu">rast</span>(<span class="st">&quot;./Templates/TemplateRasters/LV10m_10km.tif&quot;</span>)</span>
<span id="cb38-13"><a href="Chapter3.html#cb38-13" tabindex="-1"></a>template_r<span class="ot">=</span><span class="fu">raster</span>(template_t)</span>
<span id="cb38-14"><a href="Chapter3.html#cb38-14" tabindex="-1"></a></span>
<span id="cb38-15"><a href="Chapter3.html#cb38-15" tabindex="-1"></a>nulles<span class="ot">=</span>terra<span class="sc">::</span><span class="fu">subst</span>(template_t,<span class="at">from=</span><span class="dv">1</span>,<span class="at">to=</span><span class="dv">0</span>)</span>
<span id="cb38-16"><a href="Chapter3.html#cb38-16" tabindex="-1"></a></span>
<span id="cb38-17"><a href="Chapter3.html#cb38-17" tabindex="-1"></a><span class="co"># vienkāršā ainava</span></span>
<span id="cb38-18"><a href="Chapter3.html#cb38-18" tabindex="-1"></a>ainava_t<span class="ot">=</span><span class="fu">rast</span>(<span class="st">&quot;./Rastri_10m/Ainava_vienk_mask.tif&quot;</span>)</span>
<span id="cb38-19"><a href="Chapter3.html#cb38-19" tabindex="-1"></a>ainava_r<span class="ot">=</span><span class="fu">raster</span>(ainava_t)</span>
<span id="cb38-20"><a href="Chapter3.html#cb38-20" tabindex="-1"></a></span>
<span id="cb38-21"><a href="Chapter3.html#cb38-21" tabindex="-1"></a><span class="co"># lauki</span></span>
<span id="cb38-22"><a href="Chapter3.html#cb38-22" tabindex="-1"></a>lad_klasem<span class="ot">=</span><span class="fu">read_excel</span>(<span class="st">&quot;./IevadesDati/LAD/KulturuKodi_2024.xlsx&quot;</span>)</span>
<span id="cb38-23"><a href="Chapter3.html#cb38-23" tabindex="-1"></a>lad<span class="ot">=</span><span class="fu">st_read_parquet</span>(<span class="st">&quot;./IevadesDati/LAD/LAD_lauki.parquet&quot;</span>)</span>
<span id="cb38-24"><a href="Chapter3.html#cb38-24" tabindex="-1"></a>lad<span class="sc">$</span>yes<span class="ot">=</span><span class="dv">1</span></span>
<span id="cb38-25"><a href="Chapter3.html#cb38-25" tabindex="-1"></a></span>
<span id="cb38-26"><a href="Chapter3.html#cb38-26" tabindex="-1"></a></span>
<span id="cb38-27"><a href="Chapter3.html#cb38-27" tabindex="-1"></a><span class="co"># ziemas rapši, ripši utml</span></span>
<span id="cb38-28"><a href="Chapter3.html#cb38-28" tabindex="-1"></a>lad_grupa<span class="ot">=</span>lad_klasem <span class="sc">%&gt;%</span> <span class="fu">filter</span>(<span class="fu">str_detect</span>(SDM_grupa_sakums,<span class="st">&quot;ziemas rapsis&quot;</span>))</span>
<span id="cb38-29"><a href="Chapter3.html#cb38-29" tabindex="-1"></a>lad_atlase<span class="ot">=</span>lad <span class="sc">%&gt;%</span> <span class="fu">filter</span>(lad<span class="sc">$</span>PRODUCT_CODE <span class="sc">%in%</span> lad_grupa<span class="sc">$</span>kods)</span>
<span id="cb38-30"><a href="Chapter3.html#cb38-30" tabindex="-1"></a>rastrs_lad<span class="ot">=</span>fasterize<span class="sc">::</span><span class="fu">fasterize</span>(lad_atlase,template_r,<span class="at">field=</span><span class="st">&quot;yes&quot;</span>)</span>
<span id="cb38-31"><a href="Chapter3.html#cb38-31" tabindex="-1"></a>rastrs_lad<span class="ot">=</span><span class="fu">rast</span>(rastrs_lad)</span>
<span id="cb38-32"><a href="Chapter3.html#cb38-32" tabindex="-1"></a>ainavas_maska<span class="ot">=</span><span class="fu">rast</span>(<span class="st">&quot;./Rastri_10m/Lauki_AramzemesYN.tif&quot;</span>)</span>
<span id="cb38-33"><a href="Chapter3.html#cb38-33" tabindex="-1"></a>pirmsmaskas_rastrs<span class="ot">=</span><span class="fu">ifel</span>(<span class="sc">!</span><span class="fu">is.na</span>(rastrs_lad)<span class="sc">&amp;</span>ainavas_maska<span class="sc">==</span><span class="dv">1</span>,<span class="dv">1</span>,<span class="dv">0</span>)</span>
<span id="cb38-34"><a href="Chapter3.html#cb38-34" tabindex="-1"></a>aizpildits<span class="ot">=</span>terra<span class="sc">::</span><span class="fu">cover</span>(pirmsmaskas_rastrs,nulles)</span>
<span id="cb38-35"><a href="Chapter3.html#cb38-35" tabindex="-1"></a>pecmaskas_rastrs<span class="ot">=</span><span class="fu">mask</span>(aizpildits,template_t,</span>
<span id="cb38-36"><a href="Chapter3.html#cb38-36" tabindex="-1"></a>                      <span class="at">filename=</span><span class="st">&quot;./Rastri_10m/Lauki_AramzemeZiemasRapsi.tif&quot;</span>,</span>
<span id="cb38-37"><a href="Chapter3.html#cb38-37" tabindex="-1"></a>                     <span class="at">overwrite=</span><span class="cn">TRUE</span>)</span></code></pre></div>
</details>
<p><br></p>
</div>
<div id="Chapter3.2.2.1.11" class="section level5 hasAnchor" number="3.2.2.1.11">
<h5><span class="header-section-number">3.2.2.1.11</span> Aramzemes: vasaras rapsis un ripsis + kukurūza + pākšaugi<a href="Chapter3.html#Chapter3.2.2.1.11" class="anchor-section" aria-label="Anchor link to header"></a></h5>
<p>Rastrs ar šūnas izmēru 10 m un segumu visai Latvijas teritorijai.</p>
<ul>
<li><p>Vērtība <code>1</code> apzīmē šūnas, kurās <a href="Chapter3.html#Chapter3.2.2.1.9">Aramzemes visas</a> ir
reģistrēta klase <code>1</code> un
<a href="./Papilddati/KulturuKodi_2024.xlsx">LAD kultūru kodi</a> ir grupā
(lauks <code>SDM_grupa_sakums</code>) “aramzemes (vasaras rapsis un rispsis, kukurūzas, zirņi un pupas, soja, kaņepes)”;</p></li>
<li><p>Vērtība <code>0</code> - pārējās Latvijas teritorijā esošās šūnas.</p></li>
</ul>
<p>Zemāk esošās komandu rindas izveido failu <code>Lauki_AramzemeVasarasRapsiUTML.tif</code>.</p>
<details class=chunk-details><summary class=chunk-summary><span class=chunk-summary-text>Code</span></summary>
<div class="sourceCode" id="cb39"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb39-1"><a href="Chapter3.html#cb39-1" tabindex="-1"></a><span class="co"># Libs</span></span>
<span id="cb39-2"><a href="Chapter3.html#cb39-2" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(tidyverse)) {<span class="fu">install.packages</span>(<span class="st">&quot;tidyverse&quot;</span>); <span class="fu">require</span>(tidyverse)}</span>
<span id="cb39-3"><a href="Chapter3.html#cb39-3" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(sf)) {<span class="fu">install.packages</span>(<span class="st">&quot;sf&quot;</span>); <span class="fu">require</span>(sf)}</span>
<span id="cb39-4"><a href="Chapter3.html#cb39-4" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(arrow)) {<span class="fu">install.packages</span>(<span class="st">&quot;arrow&quot;</span>); <span class="fu">require</span>(arrow)}</span>
<span id="cb39-5"><a href="Chapter3.html#cb39-5" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(sfarrow)) {<span class="fu">install.packages</span>(<span class="st">&quot;sfarrow&quot;</span>); <span class="fu">require</span>(sfarrow)}</span>
<span id="cb39-6"><a href="Chapter3.html#cb39-6" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(terra)) {<span class="fu">install.packages</span>(<span class="st">&quot;terra&quot;</span>); <span class="fu">require</span>(terra)}</span>
<span id="cb39-7"><a href="Chapter3.html#cb39-7" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(raster)) {<span class="fu">install.packages</span>(<span class="st">&quot;raster&quot;</span>); <span class="fu">require</span>(raster)}</span>
<span id="cb39-8"><a href="Chapter3.html#cb39-8" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(fasterize)) {<span class="fu">install.packages</span>(<span class="st">&quot;fasterize&quot;</span>); <span class="fu">require</span>(fasterize)}</span>
<span id="cb39-9"><a href="Chapter3.html#cb39-9" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(readxl)) {<span class="fu">install.packages</span>(<span class="st">&quot;readxl&quot;</span>); <span class="fu">require</span>(readxl)}</span>
<span id="cb39-10"><a href="Chapter3.html#cb39-10" tabindex="-1"></a></span>
<span id="cb39-11"><a href="Chapter3.html#cb39-11" tabindex="-1"></a><span class="co"># templates</span></span>
<span id="cb39-12"><a href="Chapter3.html#cb39-12" tabindex="-1"></a>template_t<span class="ot">=</span><span class="fu">rast</span>(<span class="st">&quot;./Templates/TemplateRasters/LV10m_10km.tif&quot;</span>)</span>
<span id="cb39-13"><a href="Chapter3.html#cb39-13" tabindex="-1"></a>template_r<span class="ot">=</span><span class="fu">raster</span>(template_t)</span>
<span id="cb39-14"><a href="Chapter3.html#cb39-14" tabindex="-1"></a></span>
<span id="cb39-15"><a href="Chapter3.html#cb39-15" tabindex="-1"></a>nulles<span class="ot">=</span>terra<span class="sc">::</span><span class="fu">subst</span>(template_t,<span class="at">from=</span><span class="dv">1</span>,<span class="at">to=</span><span class="dv">0</span>)</span>
<span id="cb39-16"><a href="Chapter3.html#cb39-16" tabindex="-1"></a></span>
<span id="cb39-17"><a href="Chapter3.html#cb39-17" tabindex="-1"></a><span class="co"># vienkāršā ainava</span></span>
<span id="cb39-18"><a href="Chapter3.html#cb39-18" tabindex="-1"></a>ainava_t<span class="ot">=</span><span class="fu">rast</span>(<span class="st">&quot;./Rastri_10m/Ainava_vienk_mask.tif&quot;</span>)</span>
<span id="cb39-19"><a href="Chapter3.html#cb39-19" tabindex="-1"></a>ainava_r<span class="ot">=</span><span class="fu">raster</span>(ainava_t)</span>
<span id="cb39-20"><a href="Chapter3.html#cb39-20" tabindex="-1"></a></span>
<span id="cb39-21"><a href="Chapter3.html#cb39-21" tabindex="-1"></a><span class="co"># lauki</span></span>
<span id="cb39-22"><a href="Chapter3.html#cb39-22" tabindex="-1"></a>lad_klasem<span class="ot">=</span><span class="fu">read_excel</span>(<span class="st">&quot;./IevadesDati/LAD/KulturuKodi_2024.xlsx&quot;</span>)</span>
<span id="cb39-23"><a href="Chapter3.html#cb39-23" tabindex="-1"></a>lad<span class="ot">=</span><span class="fu">st_read_parquet</span>(<span class="st">&quot;./IevadesDati/LAD/LAD_lauki.parquet&quot;</span>)</span>
<span id="cb39-24"><a href="Chapter3.html#cb39-24" tabindex="-1"></a>lad<span class="sc">$</span>yes<span class="ot">=</span><span class="dv">1</span></span>
<span id="cb39-25"><a href="Chapter3.html#cb39-25" tabindex="-1"></a></span>
<span id="cb39-26"><a href="Chapter3.html#cb39-26" tabindex="-1"></a></span>
<span id="cb39-27"><a href="Chapter3.html#cb39-27" tabindex="-1"></a><span class="co"># Aramzemes: vasaras rapsis un ripsis + kukurūza + pākšaugi</span></span>
<span id="cb39-28"><a href="Chapter3.html#cb39-28" tabindex="-1"></a>lad_grupa<span class="ot">=</span>lad_klasem <span class="sc">%&gt;%</span> <span class="fu">filter</span>(<span class="fu">str_detect</span>(SDM_grupa_sakums,<span class="st">&quot;vasaras rapsis&quot;</span>))</span>
<span id="cb39-29"><a href="Chapter3.html#cb39-29" tabindex="-1"></a>lad_atlase<span class="ot">=</span>lad <span class="sc">%&gt;%</span> <span class="fu">filter</span>(lad<span class="sc">$</span>PRODUCT_CODE <span class="sc">%in%</span> lad_grupa<span class="sc">$</span>kods)</span>
<span id="cb39-30"><a href="Chapter3.html#cb39-30" tabindex="-1"></a>rastrs_lad<span class="ot">=</span>fasterize<span class="sc">::</span><span class="fu">fasterize</span>(lad_atlase,template_r,<span class="at">field=</span><span class="st">&quot;yes&quot;</span>)</span>
<span id="cb39-31"><a href="Chapter3.html#cb39-31" tabindex="-1"></a>rastrs_lad<span class="ot">=</span><span class="fu">rast</span>(rastrs_lad)</span>
<span id="cb39-32"><a href="Chapter3.html#cb39-32" tabindex="-1"></a>ainavas_maska<span class="ot">=</span><span class="fu">rast</span>(<span class="st">&quot;./Rastri_10m/Lauki_AramzemesYN.tif&quot;</span>)</span>
<span id="cb39-33"><a href="Chapter3.html#cb39-33" tabindex="-1"></a>pirmsmaskas_rastrs<span class="ot">=</span><span class="fu">ifel</span>(<span class="sc">!</span><span class="fu">is.na</span>(rastrs_lad)<span class="sc">&amp;</span>ainavas_maska<span class="sc">==</span><span class="dv">1</span>,<span class="dv">1</span>,<span class="dv">0</span>)</span>
<span id="cb39-34"><a href="Chapter3.html#cb39-34" tabindex="-1"></a>aizpildits<span class="ot">=</span>terra<span class="sc">::</span><span class="fu">cover</span>(pirmsmaskas_rastrs,nulles)</span>
<span id="cb39-35"><a href="Chapter3.html#cb39-35" tabindex="-1"></a>pecmaskas_rastrs<span class="ot">=</span><span class="fu">mask</span>(aizpildits,template_t,</span>
<span id="cb39-36"><a href="Chapter3.html#cb39-36" tabindex="-1"></a>                      <span class="at">filename=</span><span class="st">&quot;./Rastri_10m/Lauki_AramzemeVasarasRapsiUTML.tif&quot;</span>,</span>
<span id="cb39-37"><a href="Chapter3.html#cb39-37" tabindex="-1"></a>                      <span class="at">overwrite=</span><span class="cn">TRUE</span>)</span></code></pre></div>
</details>
<p><br></p>
</div>
<div id="Chapter3.2.2.1.12" class="section level5 hasAnchor" number="3.2.2.1.12">
<h5><span class="header-section-number">3.2.2.1.12</span> Aramzemes: vagu un rušināmkultūras<a href="Chapter3.html#Chapter3.2.2.1.12" class="anchor-section" aria-label="Anchor link to header"></a></h5>
<p>Rastrs ar šūnas izmēru 10 m un segumu visai Latvijas teritorijai.</p>
<ul>
<li><p>Vērtība <code>1</code> apzīmē šūnas, kurās <a href="Chapter3.html#Chapter3.2.2.1.9">Aramzemes visas</a> ir
reģistrēta klase <code>1</code> un
<a href="./Papilddati/KulturuKodi_2024.xlsx">LAD kultūru kodi</a> ir grupā
(lauks <code>SDM_grupa_sakums</code>) “aramzemes (vagu un rušināmkultūru)”;</p></li>
<li><p>Vērtība <code>0</code> - pārējās Latvijas teritorijā esošās šūnas.</p></li>
</ul>
<p>Zemāk esošās komandu rindas izveido failu <code>Lauki_AramzemeVaguRusinamkulturas.tif</code>.</p>
<details class=chunk-details><summary class=chunk-summary><span class=chunk-summary-text>Code</span></summary>
<div class="sourceCode" id="cb40"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb40-1"><a href="Chapter3.html#cb40-1" tabindex="-1"></a><span class="co"># Libs</span></span>
<span id="cb40-2"><a href="Chapter3.html#cb40-2" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(tidyverse)) {<span class="fu">install.packages</span>(<span class="st">&quot;tidyverse&quot;</span>); <span class="fu">require</span>(tidyverse)}</span>
<span id="cb40-3"><a href="Chapter3.html#cb40-3" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(sf)) {<span class="fu">install.packages</span>(<span class="st">&quot;sf&quot;</span>); <span class="fu">require</span>(sf)}</span>
<span id="cb40-4"><a href="Chapter3.html#cb40-4" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(arrow)) {<span class="fu">install.packages</span>(<span class="st">&quot;arrow&quot;</span>); <span class="fu">require</span>(arrow)}</span>
<span id="cb40-5"><a href="Chapter3.html#cb40-5" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(sfarrow)) {<span class="fu">install.packages</span>(<span class="st">&quot;sfarrow&quot;</span>); <span class="fu">require</span>(sfarrow)}</span>
<span id="cb40-6"><a href="Chapter3.html#cb40-6" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(terra)) {<span class="fu">install.packages</span>(<span class="st">&quot;terra&quot;</span>); <span class="fu">require</span>(terra)}</span>
<span id="cb40-7"><a href="Chapter3.html#cb40-7" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(raster)) {<span class="fu">install.packages</span>(<span class="st">&quot;raster&quot;</span>); <span class="fu">require</span>(raster)}</span>
<span id="cb40-8"><a href="Chapter3.html#cb40-8" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(fasterize)) {<span class="fu">install.packages</span>(<span class="st">&quot;fasterize&quot;</span>); <span class="fu">require</span>(fasterize)}</span>
<span id="cb40-9"><a href="Chapter3.html#cb40-9" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(readxl)) {<span class="fu">install.packages</span>(<span class="st">&quot;readxl&quot;</span>); <span class="fu">require</span>(readxl)}</span>
<span id="cb40-10"><a href="Chapter3.html#cb40-10" tabindex="-1"></a></span>
<span id="cb40-11"><a href="Chapter3.html#cb40-11" tabindex="-1"></a><span class="co"># templates</span></span>
<span id="cb40-12"><a href="Chapter3.html#cb40-12" tabindex="-1"></a>template_t<span class="ot">=</span><span class="fu">rast</span>(<span class="st">&quot;./Templates/TemplateRasters/LV10m_10km.tif&quot;</span>)</span>
<span id="cb40-13"><a href="Chapter3.html#cb40-13" tabindex="-1"></a>template_r<span class="ot">=</span><span class="fu">raster</span>(template_t)</span>
<span id="cb40-14"><a href="Chapter3.html#cb40-14" tabindex="-1"></a></span>
<span id="cb40-15"><a href="Chapter3.html#cb40-15" tabindex="-1"></a>nulles<span class="ot">=</span>terra<span class="sc">::</span><span class="fu">subst</span>(template_t,<span class="at">from=</span><span class="dv">1</span>,<span class="at">to=</span><span class="dv">0</span>)</span>
<span id="cb40-16"><a href="Chapter3.html#cb40-16" tabindex="-1"></a></span>
<span id="cb40-17"><a href="Chapter3.html#cb40-17" tabindex="-1"></a><span class="co"># vienkāršā ainava</span></span>
<span id="cb40-18"><a href="Chapter3.html#cb40-18" tabindex="-1"></a>ainava_t<span class="ot">=</span><span class="fu">rast</span>(<span class="st">&quot;./Rastri_10m/Ainava_vienk_mask.tif&quot;</span>)</span>
<span id="cb40-19"><a href="Chapter3.html#cb40-19" tabindex="-1"></a>ainava_r<span class="ot">=</span><span class="fu">raster</span>(ainava_t)</span>
<span id="cb40-20"><a href="Chapter3.html#cb40-20" tabindex="-1"></a></span>
<span id="cb40-21"><a href="Chapter3.html#cb40-21" tabindex="-1"></a><span class="co"># lauki</span></span>
<span id="cb40-22"><a href="Chapter3.html#cb40-22" tabindex="-1"></a>lad_klasem<span class="ot">=</span><span class="fu">read_excel</span>(<span class="st">&quot;./IevadesDati/LAD/KulturuKodi_2024.xlsx&quot;</span>)</span>
<span id="cb40-23"><a href="Chapter3.html#cb40-23" tabindex="-1"></a>lad<span class="ot">=</span><span class="fu">st_read_parquet</span>(<span class="st">&quot;./IevadesDati/LAD/LAD_lauki.parquet&quot;</span>)</span>
<span id="cb40-24"><a href="Chapter3.html#cb40-24" tabindex="-1"></a>lad<span class="sc">$</span>yes<span class="ot">=</span><span class="dv">1</span></span>
<span id="cb40-25"><a href="Chapter3.html#cb40-25" tabindex="-1"></a></span>
<span id="cb40-26"><a href="Chapter3.html#cb40-26" tabindex="-1"></a></span>
<span id="cb40-27"><a href="Chapter3.html#cb40-27" tabindex="-1"></a><span class="co"># Aramzemes: vagu un rušināmkultūras</span></span>
<span id="cb40-28"><a href="Chapter3.html#cb40-28" tabindex="-1"></a>lad_grupa<span class="ot">=</span>lad_klasem <span class="sc">%&gt;%</span> <span class="fu">filter</span>(<span class="fu">str_detect</span>(SDM_grupa_sakums,<span class="st">&quot;rušin&quot;</span>))</span>
<span id="cb40-29"><a href="Chapter3.html#cb40-29" tabindex="-1"></a>lad_atlase<span class="ot">=</span>lad <span class="sc">%&gt;%</span> <span class="fu">filter</span>(lad<span class="sc">$</span>PRODUCT_CODE <span class="sc">%in%</span> lad_grupa<span class="sc">$</span>kods)</span>
<span id="cb40-30"><a href="Chapter3.html#cb40-30" tabindex="-1"></a>rastrs_lad<span class="ot">=</span>fasterize<span class="sc">::</span><span class="fu">fasterize</span>(lad_atlase,template_r,<span class="at">field=</span><span class="st">&quot;yes&quot;</span>)</span>
<span id="cb40-31"><a href="Chapter3.html#cb40-31" tabindex="-1"></a>rastrs_lad<span class="ot">=</span><span class="fu">rast</span>(rastrs_lad)</span>
<span id="cb40-32"><a href="Chapter3.html#cb40-32" tabindex="-1"></a></span>
<span id="cb40-33"><a href="Chapter3.html#cb40-33" tabindex="-1"></a>ainavas_maska<span class="ot">=</span><span class="fu">rast</span>(<span class="st">&quot;./Rastri_10m/Lauki_AramzemesYN.tif&quot;</span>)</span>
<span id="cb40-34"><a href="Chapter3.html#cb40-34" tabindex="-1"></a></span>
<span id="cb40-35"><a href="Chapter3.html#cb40-35" tabindex="-1"></a>pirmsmaskas_rastrs<span class="ot">=</span><span class="fu">ifel</span>(<span class="sc">!</span><span class="fu">is.na</span>(rastrs_lad)<span class="sc">&amp;</span>ainavas_maska<span class="sc">==</span><span class="dv">1</span>,<span class="dv">1</span>,<span class="dv">0</span>)</span>
<span id="cb40-36"><a href="Chapter3.html#cb40-36" tabindex="-1"></a>aizpildits<span class="ot">=</span>terra<span class="sc">::</span><span class="fu">cover</span>(pirmsmaskas_rastrs,nulles)</span>
<span id="cb40-37"><a href="Chapter3.html#cb40-37" tabindex="-1"></a>pecmaskas_rastrs<span class="ot">=</span><span class="fu">mask</span>(aizpildits,template_t,</span>
<span id="cb40-38"><a href="Chapter3.html#cb40-38" tabindex="-1"></a>                      <span class="at">filename=</span><span class="st">&quot;./Rastri_10m/Lauki_AramzemeVaguRusinamkulturas.tif&quot;</span>,</span>
<span id="cb40-39"><a href="Chapter3.html#cb40-39" tabindex="-1"></a>                      <span class="at">overwrite=</span><span class="cn">TRUE</span>)</span></code></pre></div>
</details>
<p><br></p>
</div>
<div id="Chapter3.2.2.1.13" class="section level5 hasAnchor" number="3.2.2.1.13">
<h5><span class="header-section-number">3.2.2.1.13</span> Aramzemes: ne- labības, rapši, kukurūzas, pākšaugi, vagu kultūras<a href="Chapter3.html#Chapter3.2.2.1.13" class="anchor-section" aria-label="Anchor link to header"></a></h5>
<p>Rastrs ar šūnas izmēru 10 m un segumu visai Latvijas teritorijai.</p>
<ul>
<li><p>Vērtība <code>1</code> apzīmē šūnas, kurās <a href="Chapter3.html#Chapter3.2.2.1.9">Aramzemes visas</a> ir
reģistrēta klase <code>1</code> un
<a href="./Papilddati/KulturuKodi_2024.xlsx">LAD kultūru kodi</a> <strong>nav</strong> grupās
(lauks <code>SDM_grupa_sakums</code>), kuru nosaukumi satur frāzes “labīb”, “rušin”, “rapsis”;</p></li>
<li><p>Vērtība <code>0</code> - pārējās Latvijas teritorijā esošās šūnas.</p></li>
</ul>
<p>Zemāk esošās komandu rindas izveido failu <code>Lauki_AramzemeParejas.tif</code>.</p>
<details class=chunk-details><summary class=chunk-summary><span class=chunk-summary-text>Code</span></summary>
<div class="sourceCode" id="cb41"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb41-1"><a href="Chapter3.html#cb41-1" tabindex="-1"></a><span class="co"># Libs</span></span>
<span id="cb41-2"><a href="Chapter3.html#cb41-2" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(tidyverse)) {<span class="fu">install.packages</span>(<span class="st">&quot;tidyverse&quot;</span>); <span class="fu">require</span>(tidyverse)}</span>
<span id="cb41-3"><a href="Chapter3.html#cb41-3" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(sf)) {<span class="fu">install.packages</span>(<span class="st">&quot;sf&quot;</span>); <span class="fu">require</span>(sf)}</span>
<span id="cb41-4"><a href="Chapter3.html#cb41-4" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(arrow)) {<span class="fu">install.packages</span>(<span class="st">&quot;arrow&quot;</span>); <span class="fu">require</span>(arrow)}</span>
<span id="cb41-5"><a href="Chapter3.html#cb41-5" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(sfarrow)) {<span class="fu">install.packages</span>(<span class="st">&quot;sfarrow&quot;</span>); <span class="fu">require</span>(sfarrow)}</span>
<span id="cb41-6"><a href="Chapter3.html#cb41-6" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(terra)) {<span class="fu">install.packages</span>(<span class="st">&quot;terra&quot;</span>); <span class="fu">require</span>(terra)}</span>
<span id="cb41-7"><a href="Chapter3.html#cb41-7" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(raster)) {<span class="fu">install.packages</span>(<span class="st">&quot;raster&quot;</span>); <span class="fu">require</span>(raster)}</span>
<span id="cb41-8"><a href="Chapter3.html#cb41-8" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(fasterize)) {<span class="fu">install.packages</span>(<span class="st">&quot;fasterize&quot;</span>); <span class="fu">require</span>(fasterize)}</span>
<span id="cb41-9"><a href="Chapter3.html#cb41-9" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(readxl)) {<span class="fu">install.packages</span>(<span class="st">&quot;readxl&quot;</span>); <span class="fu">require</span>(readxl)}</span>
<span id="cb41-10"><a href="Chapter3.html#cb41-10" tabindex="-1"></a></span>
<span id="cb41-11"><a href="Chapter3.html#cb41-11" tabindex="-1"></a><span class="co"># templates</span></span>
<span id="cb41-12"><a href="Chapter3.html#cb41-12" tabindex="-1"></a>template_t<span class="ot">=</span><span class="fu">rast</span>(<span class="st">&quot;./Templates/TemplateRasters/LV10m_10km.tif&quot;</span>)</span>
<span id="cb41-13"><a href="Chapter3.html#cb41-13" tabindex="-1"></a>template_r<span class="ot">=</span><span class="fu">raster</span>(template_t)</span>
<span id="cb41-14"><a href="Chapter3.html#cb41-14" tabindex="-1"></a></span>
<span id="cb41-15"><a href="Chapter3.html#cb41-15" tabindex="-1"></a>nulles<span class="ot">=</span>terra<span class="sc">::</span><span class="fu">subst</span>(template_t,<span class="at">from=</span><span class="dv">1</span>,<span class="at">to=</span><span class="dv">0</span>)</span>
<span id="cb41-16"><a href="Chapter3.html#cb41-16" tabindex="-1"></a></span>
<span id="cb41-17"><a href="Chapter3.html#cb41-17" tabindex="-1"></a><span class="co"># vienkāršā ainava</span></span>
<span id="cb41-18"><a href="Chapter3.html#cb41-18" tabindex="-1"></a>ainava_t<span class="ot">=</span><span class="fu">rast</span>(<span class="st">&quot;./Rastri_10m/Ainava_vienk_mask.tif&quot;</span>)</span>
<span id="cb41-19"><a href="Chapter3.html#cb41-19" tabindex="-1"></a>ainava_r<span class="ot">=</span><span class="fu">raster</span>(ainava_t)</span>
<span id="cb41-20"><a href="Chapter3.html#cb41-20" tabindex="-1"></a></span>
<span id="cb41-21"><a href="Chapter3.html#cb41-21" tabindex="-1"></a><span class="co"># lauki</span></span>
<span id="cb41-22"><a href="Chapter3.html#cb41-22" tabindex="-1"></a>lad_klasem<span class="ot">=</span><span class="fu">read_excel</span>(<span class="st">&quot;./IevadesDati/LAD/KulturuKodi_2024.xlsx&quot;</span>)</span>
<span id="cb41-23"><a href="Chapter3.html#cb41-23" tabindex="-1"></a>lad<span class="ot">=</span><span class="fu">st_read_parquet</span>(<span class="st">&quot;./IevadesDati/LAD/LAD_lauki.parquet&quot;</span>)</span>
<span id="cb41-24"><a href="Chapter3.html#cb41-24" tabindex="-1"></a>lad<span class="sc">$</span>yes<span class="ot">=</span><span class="dv">1</span></span>
<span id="cb41-25"><a href="Chapter3.html#cb41-25" tabindex="-1"></a></span>
<span id="cb41-26"><a href="Chapter3.html#cb41-26" tabindex="-1"></a></span>
<span id="cb41-27"><a href="Chapter3.html#cb41-27" tabindex="-1"></a><span class="co"># Aramzemes: ne- labības, rapši, kukurūzas, pākšaugi, vagu kultūras</span></span>
<span id="cb41-28"><a href="Chapter3.html#cb41-28" tabindex="-1"></a>lad_grupa<span class="ot">=</span>lad_klasem <span class="sc">%&gt;%</span> <span class="fu">filter</span>(<span class="fu">str_detect</span>(SDM_grupa_sakums,<span class="st">&quot;labīb&quot;</span>)<span class="sc">|</span></span>
<span id="cb41-29"><a href="Chapter3.html#cb41-29" tabindex="-1"></a>                                  <span class="fu">str_detect</span>(SDM_grupa_sakums,<span class="st">&quot;rušin&quot;</span>)<span class="sc">|</span></span>
<span id="cb41-30"><a href="Chapter3.html#cb41-30" tabindex="-1"></a>                                  <span class="fu">str_detect</span>(SDM_grupa_sakums,<span class="st">&quot;rapsis&quot;</span>))</span>
<span id="cb41-31"><a href="Chapter3.html#cb41-31" tabindex="-1"></a>lad_atlase<span class="ot">=</span>lad <span class="sc">%&gt;%</span> <span class="fu">filter</span>(lad<span class="sc">$</span>PRODUCT_CODE <span class="sc">%in%</span> lad_grupa<span class="sc">$</span>kods)</span>
<span id="cb41-32"><a href="Chapter3.html#cb41-32" tabindex="-1"></a>rastrs_lad<span class="ot">=</span>fasterize<span class="sc">::</span><span class="fu">fasterize</span>(lad_atlase,template_r,<span class="at">field=</span><span class="st">&quot;yes&quot;</span>)</span>
<span id="cb41-33"><a href="Chapter3.html#cb41-33" tabindex="-1"></a>rastrs_lad<span class="ot">=</span><span class="fu">rast</span>(rastrs_lad)</span>
<span id="cb41-34"><a href="Chapter3.html#cb41-34" tabindex="-1"></a></span>
<span id="cb41-35"><a href="Chapter3.html#cb41-35" tabindex="-1"></a>ainavas_maska<span class="ot">=</span><span class="fu">rast</span>(<span class="st">&quot;./Rastri_10m/Lauki_AramzemesYN.tif&quot;</span>)</span>
<span id="cb41-36"><a href="Chapter3.html#cb41-36" tabindex="-1"></a></span>
<span id="cb41-37"><a href="Chapter3.html#cb41-37" tabindex="-1"></a>pirmsmaskas_rastrs<span class="ot">=</span><span class="fu">ifel</span>(<span class="fu">is.na</span>(rastrs_lad)<span class="sc">&amp;</span>ainavas_maska<span class="sc">==</span><span class="dv">1</span>,<span class="dv">1</span>,<span class="dv">0</span>)</span>
<span id="cb41-38"><a href="Chapter3.html#cb41-38" tabindex="-1"></a>aizpildits<span class="ot">=</span>terra<span class="sc">::</span><span class="fu">cover</span>(pirmsmaskas_rastrs,nulles)</span>
<span id="cb41-39"><a href="Chapter3.html#cb41-39" tabindex="-1"></a>pecmaskas_rastrs<span class="ot">=</span><span class="fu">mask</span>(aizpildits,template_t,</span>
<span id="cb41-40"><a href="Chapter3.html#cb41-40" tabindex="-1"></a>                      <span class="at">filename=</span><span class="st">&quot;./Rastri_10m/Lauki_AramzemeParejas.tif&quot;</span>,</span>
<span id="cb41-41"><a href="Chapter3.html#cb41-41" tabindex="-1"></a>                      <span class="at">overwrite=</span><span class="cn">TRUE</span>)</span></code></pre></div>
</details>
<p><br></p>
</div>
<div id="Chapter3.2.2.1.14" class="section level5 hasAnchor" number="3.2.2.1.14">
<h5><span class="header-section-number">3.2.2.1.14</span> Aramzemes: labība ziemāji<a href="Chapter3.html#Chapter3.2.2.1.14" class="anchor-section" aria-label="Anchor link to header"></a></h5>
<p>Rastrs ar šūnas izmēru 10 m un segumu visai Latvijas teritorijai.</p>
<ul>
<li><p>Vērtība <code>1</code> apzīmē šūnas, kurās <a href="Chapter3.html#Chapter3.2.2.1.9">Aramzemes visas</a> ir
reģistrēta klase <code>1</code> un
<a href="./Papilddati/KulturuKodi_2024.xlsx">LAD kultūru kodi</a> ir grupā (lauks <code>SDM_grupa_sakums</code>)
“aramzemes (labība-ziemāji)”;</p></li>
<li><p>Vērtība <code>0</code> - pārējās Latvijas teritorijā esošās šūnas.</p></li>
</ul>
<p>Zemāk esošās komandu rindas izveido failu <code>Lauki_AramzemeLabibaZiemaji.tif</code>.</p>
<details class=chunk-details><summary class=chunk-summary><span class=chunk-summary-text>Code</span></summary>
<div class="sourceCode" id="cb42"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb42-1"><a href="Chapter3.html#cb42-1" tabindex="-1"></a><span class="co"># Libs</span></span>
<span id="cb42-2"><a href="Chapter3.html#cb42-2" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(tidyverse)) {<span class="fu">install.packages</span>(<span class="st">&quot;tidyverse&quot;</span>); <span class="fu">require</span>(tidyverse)}</span>
<span id="cb42-3"><a href="Chapter3.html#cb42-3" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(sf)) {<span class="fu">install.packages</span>(<span class="st">&quot;sf&quot;</span>); <span class="fu">require</span>(sf)}</span>
<span id="cb42-4"><a href="Chapter3.html#cb42-4" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(arrow)) {<span class="fu">install.packages</span>(<span class="st">&quot;arrow&quot;</span>); <span class="fu">require</span>(arrow)}</span>
<span id="cb42-5"><a href="Chapter3.html#cb42-5" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(sfarrow)) {<span class="fu">install.packages</span>(<span class="st">&quot;sfarrow&quot;</span>); <span class="fu">require</span>(sfarrow)}</span>
<span id="cb42-6"><a href="Chapter3.html#cb42-6" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(terra)) {<span class="fu">install.packages</span>(<span class="st">&quot;terra&quot;</span>); <span class="fu">require</span>(terra)}</span>
<span id="cb42-7"><a href="Chapter3.html#cb42-7" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(raster)) {<span class="fu">install.packages</span>(<span class="st">&quot;raster&quot;</span>); <span class="fu">require</span>(raster)}</span>
<span id="cb42-8"><a href="Chapter3.html#cb42-8" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(fasterize)) {<span class="fu">install.packages</span>(<span class="st">&quot;fasterize&quot;</span>); <span class="fu">require</span>(fasterize)}</span>
<span id="cb42-9"><a href="Chapter3.html#cb42-9" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(readxl)) {<span class="fu">install.packages</span>(<span class="st">&quot;readxl&quot;</span>); <span class="fu">require</span>(readxl)}</span>
<span id="cb42-10"><a href="Chapter3.html#cb42-10" tabindex="-1"></a></span>
<span id="cb42-11"><a href="Chapter3.html#cb42-11" tabindex="-1"></a><span class="co"># templates</span></span>
<span id="cb42-12"><a href="Chapter3.html#cb42-12" tabindex="-1"></a>template_t<span class="ot">=</span><span class="fu">rast</span>(<span class="st">&quot;./Templates/TemplateRasters/LV10m_10km.tif&quot;</span>)</span>
<span id="cb42-13"><a href="Chapter3.html#cb42-13" tabindex="-1"></a>template_r<span class="ot">=</span><span class="fu">raster</span>(template_t)</span>
<span id="cb42-14"><a href="Chapter3.html#cb42-14" tabindex="-1"></a></span>
<span id="cb42-15"><a href="Chapter3.html#cb42-15" tabindex="-1"></a>nulles<span class="ot">=</span>terra<span class="sc">::</span><span class="fu">subst</span>(template_t,<span class="at">from=</span><span class="dv">1</span>,<span class="at">to=</span><span class="dv">0</span>)</span>
<span id="cb42-16"><a href="Chapter3.html#cb42-16" tabindex="-1"></a></span>
<span id="cb42-17"><a href="Chapter3.html#cb42-17" tabindex="-1"></a><span class="co"># vienkāršā ainava</span></span>
<span id="cb42-18"><a href="Chapter3.html#cb42-18" tabindex="-1"></a>ainava_t<span class="ot">=</span><span class="fu">rast</span>(<span class="st">&quot;./Rastri_10m/Ainava_vienk_mask.tif&quot;</span>)</span>
<span id="cb42-19"><a href="Chapter3.html#cb42-19" tabindex="-1"></a>ainava_r<span class="ot">=</span><span class="fu">raster</span>(ainava_t)</span>
<span id="cb42-20"><a href="Chapter3.html#cb42-20" tabindex="-1"></a></span>
<span id="cb42-21"><a href="Chapter3.html#cb42-21" tabindex="-1"></a><span class="co"># lauki</span></span>
<span id="cb42-22"><a href="Chapter3.html#cb42-22" tabindex="-1"></a>lad_klasem<span class="ot">=</span><span class="fu">read_excel</span>(<span class="st">&quot;./IevadesDati/LAD/KulturuKodi_2024.xlsx&quot;</span>)</span>
<span id="cb42-23"><a href="Chapter3.html#cb42-23" tabindex="-1"></a>lad<span class="ot">=</span><span class="fu">st_read_parquet</span>(<span class="st">&quot;./IevadesDati/LAD/LAD_lauki.parquet&quot;</span>)</span>
<span id="cb42-24"><a href="Chapter3.html#cb42-24" tabindex="-1"></a>lad<span class="sc">$</span>yes<span class="ot">=</span><span class="dv">1</span></span>
<span id="cb42-25"><a href="Chapter3.html#cb42-25" tabindex="-1"></a></span>
<span id="cb42-26"><a href="Chapter3.html#cb42-26" tabindex="-1"></a></span>
<span id="cb42-27"><a href="Chapter3.html#cb42-27" tabindex="-1"></a><span class="co"># Aramzemes: labība ziemāji</span></span>
<span id="cb42-28"><a href="Chapter3.html#cb42-28" tabindex="-1"></a>lad_grupa<span class="ot">=</span>lad_klasem <span class="sc">%&gt;%</span> <span class="fu">filter</span>(<span class="fu">str_detect</span>(SDM_grupa_sakums,<span class="st">&quot;labība-ziem&quot;</span>))</span>
<span id="cb42-29"><a href="Chapter3.html#cb42-29" tabindex="-1"></a>lad_atlase<span class="ot">=</span>lad <span class="sc">%&gt;%</span> <span class="fu">filter</span>(lad<span class="sc">$</span>PRODUCT_CODE <span class="sc">%in%</span> lad_grupa<span class="sc">$</span>kods)</span>
<span id="cb42-30"><a href="Chapter3.html#cb42-30" tabindex="-1"></a>rastrs_lad<span class="ot">=</span>fasterize<span class="sc">::</span><span class="fu">fasterize</span>(lad_atlase,template_r,<span class="at">field=</span><span class="st">&quot;yes&quot;</span>)</span>
<span id="cb42-31"><a href="Chapter3.html#cb42-31" tabindex="-1"></a>rastrs_lad<span class="ot">=</span><span class="fu">rast</span>(rastrs_lad)</span>
<span id="cb42-32"><a href="Chapter3.html#cb42-32" tabindex="-1"></a></span>
<span id="cb42-33"><a href="Chapter3.html#cb42-33" tabindex="-1"></a>ainavas_maska<span class="ot">=</span><span class="fu">rast</span>(<span class="st">&quot;./Rastri_10m/Lauki_AramzemesYN.tif&quot;</span>)</span>
<span id="cb42-34"><a href="Chapter3.html#cb42-34" tabindex="-1"></a></span>
<span id="cb42-35"><a href="Chapter3.html#cb42-35" tabindex="-1"></a>pirmsmaskas_rastrs<span class="ot">=</span><span class="fu">ifel</span>(<span class="sc">!</span><span class="fu">is.na</span>(rastrs_lad)<span class="sc">&amp;</span>ainavas_maska<span class="sc">==</span><span class="dv">1</span>,<span class="dv">1</span>,<span class="dv">0</span>)</span>
<span id="cb42-36"><a href="Chapter3.html#cb42-36" tabindex="-1"></a>aizpildits<span class="ot">=</span>terra<span class="sc">::</span><span class="fu">cover</span>(pirmsmaskas_rastrs,nulles)</span>
<span id="cb42-37"><a href="Chapter3.html#cb42-37" tabindex="-1"></a>pecmaskas_rastrs<span class="ot">=</span><span class="fu">mask</span>(aizpildits,template_t,</span>
<span id="cb42-38"><a href="Chapter3.html#cb42-38" tabindex="-1"></a>                      <span class="at">filename=</span><span class="st">&quot;./Rastri_10m/Lauki_AramzemeLabibaZiemaji.tif&quot;</span>,</span>
<span id="cb42-39"><a href="Chapter3.html#cb42-39" tabindex="-1"></a>                      <span class="at">overwrite=</span><span class="cn">TRUE</span>)</span></code></pre></div>
</details>
<p><br></p>
</div>
<div id="Chapter3.2.2.1.15" class="section level5 hasAnchor" number="3.2.2.1.15">
<h5><span class="header-section-number">3.2.2.1.15</span> Aramzemes: labība vasarāji<a href="Chapter3.html#Chapter3.2.2.1.15" class="anchor-section" aria-label="Anchor link to header"></a></h5>
<p>Rastrs ar šūnas izmēru 10 m un segumu visai Latvijas teritorijai.</p>
<ul>
<li><p>Vērtība <code>1</code> apzīmē šūnas, kurās <a href="Chapter3.html#Chapter3.2.2.1.9">Aramzemes visas</a> ir
reģistrēta klase <code>1</code> un
<a href="./Papilddati/KulturuKodi_2024.xlsx">LAD kultūru kodi</a> ir grupā (lauks <code>SDM_grupa_sakums</code>)
“aramzemes (labība-vasarāji)”;</p></li>
<li><p>Vērtība <code>0</code> - pārējās Latvijas teritorijā esošās šūnas.</p></li>
</ul>
<p>Zemāk esošās komandu rindas izveido failu <code>Lauki_AramzemeLabibaVasaraji.tif</code>.</p>
<details class=chunk-details><summary class=chunk-summary><span class=chunk-summary-text>Code</span></summary>
<div class="sourceCode" id="cb43"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb43-1"><a href="Chapter3.html#cb43-1" tabindex="-1"></a><span class="co"># Libs</span></span>
<span id="cb43-2"><a href="Chapter3.html#cb43-2" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(tidyverse)) {<span class="fu">install.packages</span>(<span class="st">&quot;tidyverse&quot;</span>); <span class="fu">require</span>(tidyverse)}</span>
<span id="cb43-3"><a href="Chapter3.html#cb43-3" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(sf)) {<span class="fu">install.packages</span>(<span class="st">&quot;sf&quot;</span>); <span class="fu">require</span>(sf)}</span>
<span id="cb43-4"><a href="Chapter3.html#cb43-4" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(arrow)) {<span class="fu">install.packages</span>(<span class="st">&quot;arrow&quot;</span>); <span class="fu">require</span>(arrow)}</span>
<span id="cb43-5"><a href="Chapter3.html#cb43-5" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(sfarrow)) {<span class="fu">install.packages</span>(<span class="st">&quot;sfarrow&quot;</span>); <span class="fu">require</span>(sfarrow)}</span>
<span id="cb43-6"><a href="Chapter3.html#cb43-6" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(terra)) {<span class="fu">install.packages</span>(<span class="st">&quot;terra&quot;</span>); <span class="fu">require</span>(terra)}</span>
<span id="cb43-7"><a href="Chapter3.html#cb43-7" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(raster)) {<span class="fu">install.packages</span>(<span class="st">&quot;raster&quot;</span>); <span class="fu">require</span>(raster)}</span>
<span id="cb43-8"><a href="Chapter3.html#cb43-8" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(fasterize)) {<span class="fu">install.packages</span>(<span class="st">&quot;fasterize&quot;</span>); <span class="fu">require</span>(fasterize)}</span>
<span id="cb43-9"><a href="Chapter3.html#cb43-9" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(readxl)) {<span class="fu">install.packages</span>(<span class="st">&quot;readxl&quot;</span>); <span class="fu">require</span>(readxl)}</span>
<span id="cb43-10"><a href="Chapter3.html#cb43-10" tabindex="-1"></a></span>
<span id="cb43-11"><a href="Chapter3.html#cb43-11" tabindex="-1"></a><span class="co"># templates</span></span>
<span id="cb43-12"><a href="Chapter3.html#cb43-12" tabindex="-1"></a>template_t<span class="ot">=</span><span class="fu">rast</span>(<span class="st">&quot;./Templates/TemplateRasters/LV10m_10km.tif&quot;</span>)</span>
<span id="cb43-13"><a href="Chapter3.html#cb43-13" tabindex="-1"></a>template_r<span class="ot">=</span><span class="fu">raster</span>(template_t)</span>
<span id="cb43-14"><a href="Chapter3.html#cb43-14" tabindex="-1"></a></span>
<span id="cb43-15"><a href="Chapter3.html#cb43-15" tabindex="-1"></a>nulles<span class="ot">=</span>terra<span class="sc">::</span><span class="fu">subst</span>(template_t,<span class="at">from=</span><span class="dv">1</span>,<span class="at">to=</span><span class="dv">0</span>)</span>
<span id="cb43-16"><a href="Chapter3.html#cb43-16" tabindex="-1"></a></span>
<span id="cb43-17"><a href="Chapter3.html#cb43-17" tabindex="-1"></a><span class="co"># vienkāršā ainava</span></span>
<span id="cb43-18"><a href="Chapter3.html#cb43-18" tabindex="-1"></a>ainava_t<span class="ot">=</span><span class="fu">rast</span>(<span class="st">&quot;./Rastri_10m/Ainava_vienk_mask.tif&quot;</span>)</span>
<span id="cb43-19"><a href="Chapter3.html#cb43-19" tabindex="-1"></a>ainava_r<span class="ot">=</span><span class="fu">raster</span>(ainava_t)</span>
<span id="cb43-20"><a href="Chapter3.html#cb43-20" tabindex="-1"></a></span>
<span id="cb43-21"><a href="Chapter3.html#cb43-21" tabindex="-1"></a><span class="co"># lauki</span></span>
<span id="cb43-22"><a href="Chapter3.html#cb43-22" tabindex="-1"></a>lad_klasem<span class="ot">=</span><span class="fu">read_excel</span>(<span class="st">&quot;./IevadesDati/LAD/KulturuKodi_2024.xlsx&quot;</span>)</span>
<span id="cb43-23"><a href="Chapter3.html#cb43-23" tabindex="-1"></a>lad<span class="ot">=</span><span class="fu">st_read_parquet</span>(<span class="st">&quot;./IevadesDati/LAD/LAD_lauki.parquet&quot;</span>)</span>
<span id="cb43-24"><a href="Chapter3.html#cb43-24" tabindex="-1"></a>lad<span class="sc">$</span>yes<span class="ot">=</span><span class="dv">1</span></span>
<span id="cb43-25"><a href="Chapter3.html#cb43-25" tabindex="-1"></a></span>
<span id="cb43-26"><a href="Chapter3.html#cb43-26" tabindex="-1"></a></span>
<span id="cb43-27"><a href="Chapter3.html#cb43-27" tabindex="-1"></a><span class="co"># Aramzemes: labība vasarāji</span></span>
<span id="cb43-28"><a href="Chapter3.html#cb43-28" tabindex="-1"></a></span>
<span id="cb43-29"><a href="Chapter3.html#cb43-29" tabindex="-1"></a>lad_grupa<span class="ot">=</span>lad_klasem <span class="sc">%&gt;%</span> <span class="fu">filter</span>(<span class="fu">str_detect</span>(SDM_grupa_sakums,<span class="st">&quot;labība-vasar&quot;</span>))</span>
<span id="cb43-30"><a href="Chapter3.html#cb43-30" tabindex="-1"></a>lad_atlase<span class="ot">=</span>lad <span class="sc">%&gt;%</span> <span class="fu">filter</span>(lad<span class="sc">$</span>PRODUCT_CODE <span class="sc">%in%</span> lad_grupa<span class="sc">$</span>kods)</span>
<span id="cb43-31"><a href="Chapter3.html#cb43-31" tabindex="-1"></a>rastrs_lad<span class="ot">=</span>fasterize<span class="sc">::</span><span class="fu">fasterize</span>(lad_atlase,template_r,<span class="at">field=</span><span class="st">&quot;yes&quot;</span>)</span>
<span id="cb43-32"><a href="Chapter3.html#cb43-32" tabindex="-1"></a>rastrs_lad<span class="ot">=</span><span class="fu">rast</span>(rastrs_lad)</span>
<span id="cb43-33"><a href="Chapter3.html#cb43-33" tabindex="-1"></a></span>
<span id="cb43-34"><a href="Chapter3.html#cb43-34" tabindex="-1"></a>ainavas_maska<span class="ot">=</span><span class="fu">rast</span>(<span class="st">&quot;./Rastri_10m/Lauki_AramzemesYN.tif&quot;</span>)</span>
<span id="cb43-35"><a href="Chapter3.html#cb43-35" tabindex="-1"></a></span>
<span id="cb43-36"><a href="Chapter3.html#cb43-36" tabindex="-1"></a>pirmsmaskas_rastrs<span class="ot">=</span><span class="fu">ifel</span>(<span class="sc">!</span><span class="fu">is.na</span>(rastrs_lad)<span class="sc">&amp;</span>ainavas_maska<span class="sc">==</span><span class="dv">1</span>,<span class="dv">1</span>,<span class="dv">0</span>)</span>
<span id="cb43-37"><a href="Chapter3.html#cb43-37" tabindex="-1"></a>aizpildits<span class="ot">=</span>terra<span class="sc">::</span><span class="fu">cover</span>(pirmsmaskas_rastrs,nulles)</span>
<span id="cb43-38"><a href="Chapter3.html#cb43-38" tabindex="-1"></a>pecmaskas_rastrs<span class="ot">=</span><span class="fu">mask</span>(aizpildits,template_t,</span>
<span id="cb43-39"><a href="Chapter3.html#cb43-39" tabindex="-1"></a>                      <span class="at">filename=</span><span class="st">&quot;./Rastri_10m/Lauki_AramzemeLabibaVasaraji.tif&quot;</span>,</span>
<span id="cb43-40"><a href="Chapter3.html#cb43-40" tabindex="-1"></a>                      <span class="at">overwrite=</span><span class="cn">TRUE</span>)</span></code></pre></div>
</details>
<p><br></p>
</div>
<div id="Chapter3.2.2.1.16" class="section level5 hasAnchor" number="3.2.2.1.16">
<h5><span class="header-section-number">3.2.2.1.16</span> Lauku daudzveidībai<a href="Chapter3.html#Chapter3.2.2.1.16" class="anchor-section" aria-label="Anchor link to header"></a></h5>
<p>Rastrs ar šūnas izmēru 10 m un segumu visai Latvijas teritorijai. To veido slāņi
sekojošajā secībā ar norādītajiem kodiem:</p>
<ul>
<li><p>kods <code>311</code> satur <a href="Chapter3.html#Chapter3.2.2.1.15">Aramzemes: labība vasarāji</a></p></li>
<li><p>kods <code>312</code> satur <a href="Chapter3.html#Chapter3.2.2.1.14">Aramzemes: labība ziemāji</a></p></li>
<li><p>kods <code>313</code> satur <a href="Chapter3.html#Chapter3.2.2.1.11">Aramzemes: vasaras rapsis un ripsis + kukurūza + pākšaugi</a></p></li>
<li><p>kods <code>314</code> satur <a href="Chapter3.html#Chapter3.2.2.1.10">Aramzemes: ziemas rapsis un ripsis</a></p></li>
<li><p>kods <code>315</code> satur <a href="Chapter3.html#Chapter3.2.2.1.12">Aramzemes: vagu un rušināmkultūras</a></p></li>
<li><p>kods <code>316</code> satur <a href="Chapter3.html#Chapter3.2.2.1.13">Aramzemes: citas</a></p></li>
<li><p>kods <code>340</code> satur <a href="Chapter3.html#Chapter3.2.2.1.8">Augļudārzi LAD</a></p></li>
<li><p>kods <code>350</code> satur <a href="Chapter3.html#Chapter3.2.2.1.7">Krūmveida stādījumi</a></p></li>
<li><p>kods <code>320</code> satur <a href="Chapter3.html#Chapter3.2.2.1.6">Papuves</a></p></li>
<li><p>kods <code>331</code> satur <a href="Chapter3.html#Chapter3.2.2.1.4">Zālāji LAD ne ppg</a></p></li>
<li><p>kods <code>332</code> satur <a href="Chapter3.html#Chapter3.2.2.1.5">Zālāji ilglaicīgie</a></p></li>
<li><p>kods <code>333</code> satur <a href="Chapter3.html#Chapter3.2.2.1.2">Zālāji ārpus lauku blokiem, pieskaitot bezatbalsta</a></p></li>
<li><p>atlikušās vietas Latvijas teritorijā aizpildītas ar vērtību <code>1</code></p></li>
</ul>
<p>Zemāk esošās komandu rindas izveido failu <code>Ainava_LaukuDaudzveidibai.tif</code>.</p>
<details class=chunk-details><summary class=chunk-summary><span class=chunk-summary-text>Code</span></summary>
<div class="sourceCode" id="cb44"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb44-1"><a href="Chapter3.html#cb44-1" tabindex="-1"></a><span class="co"># Libs</span></span>
<span id="cb44-2"><a href="Chapter3.html#cb44-2" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(tidyverse)) {<span class="fu">install.packages</span>(<span class="st">&quot;tidyverse&quot;</span>); <span class="fu">require</span>(tidyverse)}</span>
<span id="cb44-3"><a href="Chapter3.html#cb44-3" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(sf)) {<span class="fu">install.packages</span>(<span class="st">&quot;sf&quot;</span>); <span class="fu">require</span>(sf)}</span>
<span id="cb44-4"><a href="Chapter3.html#cb44-4" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(arrow)) {<span class="fu">install.packages</span>(<span class="st">&quot;arrow&quot;</span>); <span class="fu">require</span>(arrow)}</span>
<span id="cb44-5"><a href="Chapter3.html#cb44-5" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(sfarrow)) {<span class="fu">install.packages</span>(<span class="st">&quot;sfarrow&quot;</span>); <span class="fu">require</span>(sfarrow)}</span>
<span id="cb44-6"><a href="Chapter3.html#cb44-6" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(terra)) {<span class="fu">install.packages</span>(<span class="st">&quot;terra&quot;</span>); <span class="fu">require</span>(terra)}</span>
<span id="cb44-7"><a href="Chapter3.html#cb44-7" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(raster)) {<span class="fu">install.packages</span>(<span class="st">&quot;raster&quot;</span>); <span class="fu">require</span>(raster)}</span>
<span id="cb44-8"><a href="Chapter3.html#cb44-8" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(fasterize)) {<span class="fu">install.packages</span>(<span class="st">&quot;fasterize&quot;</span>); <span class="fu">require</span>(fasterize)}</span>
<span id="cb44-9"><a href="Chapter3.html#cb44-9" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(readxl)) {<span class="fu">install.packages</span>(<span class="st">&quot;readxl&quot;</span>); <span class="fu">require</span>(readxl)}</span>
<span id="cb44-10"><a href="Chapter3.html#cb44-10" tabindex="-1"></a></span>
<span id="cb44-11"><a href="Chapter3.html#cb44-11" tabindex="-1"></a><span class="co"># templates</span></span>
<span id="cb44-12"><a href="Chapter3.html#cb44-12" tabindex="-1"></a>template_t<span class="ot">=</span><span class="fu">rast</span>(<span class="st">&quot;./Templates/TemplateRasters/LV10m_10km.tif&quot;</span>)</span>
<span id="cb44-13"><a href="Chapter3.html#cb44-13" tabindex="-1"></a>template_r<span class="ot">=</span><span class="fu">raster</span>(template_t)</span>
<span id="cb44-14"><a href="Chapter3.html#cb44-14" tabindex="-1"></a></span>
<span id="cb44-15"><a href="Chapter3.html#cb44-15" tabindex="-1"></a>nulles<span class="ot">=</span>terra<span class="sc">::</span><span class="fu">subst</span>(template_t,<span class="at">from=</span><span class="dv">1</span>,<span class="at">to=</span><span class="dv">0</span>)</span>
<span id="cb44-16"><a href="Chapter3.html#cb44-16" tabindex="-1"></a></span>
<span id="cb44-17"><a href="Chapter3.html#cb44-17" tabindex="-1"></a><span class="co"># vienkāršā ainava</span></span>
<span id="cb44-18"><a href="Chapter3.html#cb44-18" tabindex="-1"></a>ainava_t<span class="ot">=</span><span class="fu">rast</span>(<span class="st">&quot;./Rastri_10m/Ainava_vienk_mask.tif&quot;</span>)</span>
<span id="cb44-19"><a href="Chapter3.html#cb44-19" tabindex="-1"></a>ainava_r<span class="ot">=</span><span class="fu">raster</span>(ainava_t)</span>
<span id="cb44-20"><a href="Chapter3.html#cb44-20" tabindex="-1"></a></span>
<span id="cb44-21"><a href="Chapter3.html#cb44-21" tabindex="-1"></a><span class="do">### Lauku daudzveidībai ----</span></span>
<span id="cb44-22"><a href="Chapter3.html#cb44-22" tabindex="-1"></a></span>
<span id="cb44-23"><a href="Chapter3.html#cb44-23" tabindex="-1"></a><span class="co"># Aramzemes: labība-vasarāji</span></span>
<span id="cb44-24"><a href="Chapter3.html#cb44-24" tabindex="-1"></a>aram1<span class="ot">=</span><span class="fu">rast</span>(<span class="st">&quot;./Rastri_10m/Lauki_AramzemeLabibaVasaraji.tif&quot;</span>)</span>
<span id="cb44-25"><a href="Chapter3.html#cb44-25" tabindex="-1"></a>aram1<span class="ot">=</span><span class="fu">ifel</span>(aram1<span class="sc">==</span><span class="dv">1</span>,<span class="dv">311</span>,<span class="cn">NA</span>)</span>
<span id="cb44-26"><a href="Chapter3.html#cb44-26" tabindex="-1"></a><span class="co"># Aramzemes: labība-ziemāji</span></span>
<span id="cb44-27"><a href="Chapter3.html#cb44-27" tabindex="-1"></a>aram2<span class="ot">=</span><span class="fu">rast</span>(<span class="st">&quot;./Rastri_10m/Lauki_AramzemeLabibaZiemaji.tif&quot;</span>)</span>
<span id="cb44-28"><a href="Chapter3.html#cb44-28" tabindex="-1"></a>aram2<span class="ot">=</span><span class="fu">ifel</span>(aram2<span class="sc">==</span><span class="dv">1</span>,<span class="dv">312</span>,<span class="cn">NA</span>)</span>
<span id="cb44-29"><a href="Chapter3.html#cb44-29" tabindex="-1"></a><span class="co"># Aramzemes: vasaras rapsi</span></span>
<span id="cb44-30"><a href="Chapter3.html#cb44-30" tabindex="-1"></a>aram3<span class="ot">=</span><span class="fu">rast</span>(<span class="st">&quot;./Rastri_10m/Lauki_AramzemeVasarasRapsiUTML.tif&quot;</span>)</span>
<span id="cb44-31"><a href="Chapter3.html#cb44-31" tabindex="-1"></a>aram3<span class="ot">=</span><span class="fu">ifel</span>(aram3<span class="sc">==</span><span class="dv">1</span>,<span class="dv">313</span>,<span class="cn">NA</span>)</span>
<span id="cb44-32"><a href="Chapter3.html#cb44-32" tabindex="-1"></a><span class="co"># Aramzemes: ziemas rapsi</span></span>
<span id="cb44-33"><a href="Chapter3.html#cb44-33" tabindex="-1"></a>aram4<span class="ot">=</span><span class="fu">rast</span>(<span class="st">&quot;./Rastri_10m/Lauki_AramzemeZiemasRapsi.tif&quot;</span>)</span>
<span id="cb44-34"><a href="Chapter3.html#cb44-34" tabindex="-1"></a>aram4<span class="ot">=</span><span class="fu">ifel</span>(aram4<span class="sc">==</span><span class="dv">1</span>,<span class="dv">314</span>,<span class="cn">NA</span>)</span>
<span id="cb44-35"><a href="Chapter3.html#cb44-35" tabindex="-1"></a><span class="co"># Aramzemes: rusinamkulturas</span></span>
<span id="cb44-36"><a href="Chapter3.html#cb44-36" tabindex="-1"></a>aram5<span class="ot">=</span><span class="fu">rast</span>(<span class="st">&quot;./Rastri_10m/Lauki_AramzemeVaguRusinamkulturas.tif&quot;</span>)</span>
<span id="cb44-37"><a href="Chapter3.html#cb44-37" tabindex="-1"></a>aram5<span class="ot">=</span><span class="fu">ifel</span>(aram5<span class="sc">==</span><span class="dv">1</span>,<span class="dv">315</span>,<span class="cn">NA</span>)</span>
<span id="cb44-38"><a href="Chapter3.html#cb44-38" tabindex="-1"></a><span class="co"># Aramzemes: citas</span></span>
<span id="cb44-39"><a href="Chapter3.html#cb44-39" tabindex="-1"></a>aram6<span class="ot">=</span><span class="fu">rast</span>(<span class="st">&quot;./Rastri_10m/Lauki_AramzemeParejas.tif&quot;</span>)</span>
<span id="cb44-40"><a href="Chapter3.html#cb44-40" tabindex="-1"></a>aram6<span class="ot">=</span><span class="fu">ifel</span>(aram6<span class="sc">==</span><span class="dv">1</span>,<span class="dv">316</span>,<span class="cn">NA</span>)</span>
<span id="cb44-41"><a href="Chapter3.html#cb44-41" tabindex="-1"></a><span class="co"># Augļudārzi</span></span>
<span id="cb44-42"><a href="Chapter3.html#cb44-42" tabindex="-1"></a>augludarzi<span class="ot">=</span><span class="fu">rast</span>(<span class="st">&quot;./Rastri_10m/Lauki_AugludarziLAD.tif&quot;</span>)</span>
<span id="cb44-43"><a href="Chapter3.html#cb44-43" tabindex="-1"></a>augludarzi<span class="ot">=</span><span class="fu">ifel</span>(augludarzi<span class="sc">==</span><span class="dv">1</span>,<span class="dv">340</span>,<span class="cn">NA</span>)</span>
<span id="cb44-44"><a href="Chapter3.html#cb44-44" tabindex="-1"></a><span class="co"># Ilggadīgie krūmi</span></span>
<span id="cb44-45"><a href="Chapter3.html#cb44-45" tabindex="-1"></a>krumi_lad<span class="ot">=</span><span class="fu">rast</span>(<span class="st">&quot;./Rastri_10m/Lauki_KrumiLAD.tif&quot;</span>)</span>
<span id="cb44-46"><a href="Chapter3.html#cb44-46" tabindex="-1"></a>krumi_lad<span class="ot">=</span><span class="fu">ifel</span>(krumi_lad<span class="sc">==</span><span class="dv">1</span>,<span class="dv">350</span>,<span class="cn">NA</span>)</span>
<span id="cb44-47"><a href="Chapter3.html#cb44-47" tabindex="-1"></a><span class="co"># Papuves</span></span>
<span id="cb44-48"><a href="Chapter3.html#cb44-48" tabindex="-1"></a>papuves<span class="ot">=</span><span class="fu">rast</span>(<span class="st">&quot;./Rastri_10m/Lauki_papuvesYN.tif&quot;</span>)</span>
<span id="cb44-49"><a href="Chapter3.html#cb44-49" tabindex="-1"></a>papuves<span class="ot">=</span><span class="fu">ifel</span>(papuves<span class="sc">==</span><span class="dv">1</span>,<span class="dv">320</span>,<span class="cn">NA</span>)</span>
<span id="cb44-50"><a href="Chapter3.html#cb44-50" tabindex="-1"></a><span class="co"># Zālāji kultivētie</span></span>
<span id="cb44-51"><a href="Chapter3.html#cb44-51" tabindex="-1"></a>zal1<span class="ot">=</span><span class="fu">rast</span>(<span class="st">&quot;./Rastri_10m/Lauki_ZalajiKultivetie.tif&quot;</span>)</span>
<span id="cb44-52"><a href="Chapter3.html#cb44-52" tabindex="-1"></a>zal1<span class="ot">=</span><span class="fu">ifel</span>(zal1<span class="sc">==</span><span class="dv">1</span>,<span class="dv">331</span>,<span class="cn">NA</span>)</span>
<span id="cb44-53"><a href="Chapter3.html#cb44-53" tabindex="-1"></a><span class="co"># Zālāji ilggadīgie</span></span>
<span id="cb44-54"><a href="Chapter3.html#cb44-54" tabindex="-1"></a>zal2<span class="ot">=</span><span class="fu">rast</span>(<span class="st">&quot;./Rastri_10m/Lauki_ZalajiIlggadigie.tif&quot;</span>)</span>
<span id="cb44-55"><a href="Chapter3.html#cb44-55" tabindex="-1"></a>zal2<span class="ot">=</span><span class="fu">ifel</span>(zal2<span class="sc">==</span><span class="dv">1</span>,<span class="dv">332</span>,<span class="cn">NA</span>)</span>
<span id="cb44-56"><a href="Chapter3.html#cb44-56" tabindex="-1"></a><span class="co"># Zālāji pārējie</span></span>
<span id="cb44-57"><a href="Chapter3.html#cb44-57" tabindex="-1"></a>zal3<span class="ot">=</span><span class="fu">rast</span>(<span class="st">&quot;./Rastri_10m/Lauki_ZalajiBezatbNELAD.tif&quot;</span>)</span>
<span id="cb44-58"><a href="Chapter3.html#cb44-58" tabindex="-1"></a>zal3<span class="ot">=</span><span class="fu">ifel</span>(zal3<span class="sc">==</span><span class="dv">1</span>,<span class="dv">333</span>,<span class="cn">NA</span>)</span>
<span id="cb44-59"><a href="Chapter3.html#cb44-59" tabindex="-1"></a></span>
<span id="cb44-60"><a href="Chapter3.html#cb44-60" tabindex="-1"></a></span>
<span id="cb44-61"><a href="Chapter3.html#cb44-61" tabindex="-1"></a>lauku_ainavai<span class="ot">=</span><span class="fu">sprc</span>(aram1,aram2,aram3,aram4,aram5,aram6,augludarzi,krumi_lad,</span>
<span id="cb44-62"><a href="Chapter3.html#cb44-62" tabindex="-1"></a>                   papuves,zal1,zal2,zal3)</span>
<span id="cb44-63"><a href="Chapter3.html#cb44-63" tabindex="-1"></a>lauku_ainava<span class="ot">=</span>terra<span class="sc">::</span><span class="fu">merge</span>(lauku_ainavai)</span>
<span id="cb44-64"><a href="Chapter3.html#cb44-64" tabindex="-1"></a>lauku_daudzveidibai<span class="ot">=</span>terra<span class="sc">::</span><span class="fu">cover</span>(lauku_ainava,template_t,</span>
<span id="cb44-65"><a href="Chapter3.html#cb44-65" tabindex="-1"></a>                                 <span class="at">values=</span><span class="cn">NA</span>,</span>
<span id="cb44-66"><a href="Chapter3.html#cb44-66" tabindex="-1"></a>                                 <span class="at">filename=</span><span class="st">&quot;./Rastri_10m/Ainava_LaukuDaudzveidibai.tif&quot;</span>,</span>
<span id="cb44-67"><a href="Chapter3.html#cb44-67" tabindex="-1"></a>                                 <span class="at">overwrite=</span><span class="cn">TRUE</span>)</span></code></pre></div>
</details>
<p><br></p>
</div>
</div>
<div id="Chapter3.2.2.2" class="section level4 hasAnchor" number="3.2.2.2">
<h4><span class="header-section-number">3.2.2.2</span> Mežu ainava<a href="Chapter3.html#Chapter3.2.2.2" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>Šajā apakšnodaļā apkopoti ar mežu ainavu saistītie ievades produkti - 10 m izšķirtspējā sagatavoti rastra slāņi, kas cieši saistīti ar virsnodaļā aprakstīto ainavu un nepieciešami tālākai EGV sagatavošanai. Lai atvieglotu meklēšanu un atsaukšanos, tie iedalīti vēl zamāka līmeņa apakšnodaļās.</p>
<p>Sekojošajās apakšnodaļās esošajos kodu apgabalos sākuma daļa atkārtojas. Nenoliedzami, tas nomāc svarīgo - slānim specifisko daļu. Tomēr tas ļauj katru no tiem uztvert un izpildīt kā neatkarīgu uzdevumu, ja ir pieejami izmantojamie zemāka līmeņa slāņi, uz kuriem atsauces sniegtas aprakstos.</p>
<div id="Chapter3.2.2.2.1" class="section level5 hasAnchor" number="3.2.2.2.1">
<h5><span class="header-section-number">3.2.2.2.1</span> Oligotrofi susinātie meži<a href="Chapter3.html#Chapter3.2.2.2.1" class="anchor-section" aria-label="Anchor link to header"></a></h5>
<p>Rastrs ar šūnas izmēru 10 m un segumu visai Latvijas teritorijai.</p>
<ul>
<li><p>Vērtība <code>656</code> apzīmē šūnas, kurās <a href="Chapter3.html#Chapter3.2.2">vienkāršās ainavas maskā</a> ir
reģistrētas klases diapazonā no <code>600</code> līdz <code>700</code> un
<a href="https://www.vmd.gov.lv/lv/meza-valsts-registra-meza-inventarizacijas-failu-struktura">Meža valsts reģistra Meža inventarizācijas failā</a>
laukā <code>mt</code> norādītas vērtības: 17=viršu ārenis, 18=mētru ārenis, 22=viršu kūdrenis,
23=mētru kūdrenis;</p></li>
<li><p>Vērtība <code>0</code> - pārējās Latvijas teritorijā esošās šūnas.</p></li>
</ul>
<p>Zemāk esošās komandu rindas izveido failu <code>Mezi_OligoSus.tif</code>.</p>
<details class=chunk-details><summary class=chunk-summary><span class=chunk-summary-text>Code</span></summary>
<div class="sourceCode" id="cb45"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb45-1"><a href="Chapter3.html#cb45-1" tabindex="-1"></a><span class="co"># Libs</span></span>
<span id="cb45-2"><a href="Chapter3.html#cb45-2" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(tidyverse)) {<span class="fu">install.packages</span>(<span class="st">&quot;tidyverse&quot;</span>); <span class="fu">require</span>(tidyverse)}</span>
<span id="cb45-3"><a href="Chapter3.html#cb45-3" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(sf)) {<span class="fu">install.packages</span>(<span class="st">&quot;sf&quot;</span>); <span class="fu">require</span>(sf)}</span>
<span id="cb45-4"><a href="Chapter3.html#cb45-4" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(arrow)) {<span class="fu">install.packages</span>(<span class="st">&quot;arrow&quot;</span>); <span class="fu">require</span>(arrow)}</span>
<span id="cb45-5"><a href="Chapter3.html#cb45-5" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(sfarrow)) {<span class="fu">install.packages</span>(<span class="st">&quot;sfarrow&quot;</span>); <span class="fu">require</span>(sfarrow)}</span>
<span id="cb45-6"><a href="Chapter3.html#cb45-6" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(terra)) {<span class="fu">install.packages</span>(<span class="st">&quot;terra&quot;</span>); <span class="fu">require</span>(terra)}</span>
<span id="cb45-7"><a href="Chapter3.html#cb45-7" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(raster)) {<span class="fu">install.packages</span>(<span class="st">&quot;raster&quot;</span>); <span class="fu">require</span>(raster)}</span>
<span id="cb45-8"><a href="Chapter3.html#cb45-8" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(fasterize)) {<span class="fu">install.packages</span>(<span class="st">&quot;fasterize&quot;</span>); <span class="fu">require</span>(fasterize)}</span>
<span id="cb45-9"><a href="Chapter3.html#cb45-9" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(readxl)) {<span class="fu">install.packages</span>(<span class="st">&quot;readxl&quot;</span>); <span class="fu">require</span>(readxl)}</span>
<span id="cb45-10"><a href="Chapter3.html#cb45-10" tabindex="-1"></a></span>
<span id="cb45-11"><a href="Chapter3.html#cb45-11" tabindex="-1"></a><span class="co"># templates</span></span>
<span id="cb45-12"><a href="Chapter3.html#cb45-12" tabindex="-1"></a>template_t<span class="ot">=</span><span class="fu">rast</span>(<span class="st">&quot;./Templates/TemplateRasters/LV10m_10km.tif&quot;</span>)</span>
<span id="cb45-13"><a href="Chapter3.html#cb45-13" tabindex="-1"></a>template_r<span class="ot">=</span><span class="fu">raster</span>(template_t)</span>
<span id="cb45-14"><a href="Chapter3.html#cb45-14" tabindex="-1"></a></span>
<span id="cb45-15"><a href="Chapter3.html#cb45-15" tabindex="-1"></a>nulles<span class="ot">=</span>terra<span class="sc">::</span><span class="fu">subst</span>(template_t,<span class="at">from=</span><span class="dv">1</span>,<span class="at">to=</span><span class="dv">0</span>)</span>
<span id="cb45-16"><a href="Chapter3.html#cb45-16" tabindex="-1"></a></span>
<span id="cb45-17"><a href="Chapter3.html#cb45-17" tabindex="-1"></a><span class="co"># vienkāršā ainava</span></span>
<span id="cb45-18"><a href="Chapter3.html#cb45-18" tabindex="-1"></a>ainava_t<span class="ot">=</span><span class="fu">rast</span>(<span class="st">&quot;./Rastri_10m/Ainava_vienk_mask.tif&quot;</span>)</span>
<span id="cb45-19"><a href="Chapter3.html#cb45-19" tabindex="-1"></a>ainava_r<span class="ot">=</span><span class="fu">raster</span>(ainava_t)</span>
<span id="cb45-20"><a href="Chapter3.html#cb45-20" tabindex="-1"></a>maska_meziem<span class="ot">=</span><span class="fu">ifel</span>(ainava_t<span class="sc">&gt;</span><span class="dv">600</span><span class="sc">&amp;</span>ainava_t<span class="sc">&lt;</span><span class="dv">700</span>,<span class="dv">1</span>,<span class="cn">NA</span>)</span>
<span id="cb45-21"><a href="Chapter3.html#cb45-21" tabindex="-1"></a></span>
<span id="cb45-22"><a href="Chapter3.html#cb45-22" tabindex="-1"></a><span class="co"># meži</span></span>
<span id="cb45-23"><a href="Chapter3.html#cb45-23" tabindex="-1"></a>mvr<span class="ot">=</span><span class="fu">st_read_parquet</span>(<span class="st">&quot;./IevadesDati/MVR/nogabali_2024janv.parquet&quot;</span>)</span>
<span id="cb45-24"><a href="Chapter3.html#cb45-24" tabindex="-1"></a>mvr<span class="sc">$</span>yes<span class="ot">=</span><span class="dv">1</span></span>
<span id="cb45-25"><a href="Chapter3.html#cb45-25" tabindex="-1"></a></span>
<span id="cb45-26"><a href="Chapter3.html#cb45-26" tabindex="-1"></a></span>
<span id="cb45-27"><a href="Chapter3.html#cb45-27" tabindex="-1"></a><span class="co"># Oligotrofi susinātie meži</span></span>
<span id="cb45-28"><a href="Chapter3.html#cb45-28" tabindex="-1"></a>nogabali<span class="ot">=</span>mvr <span class="sc">%&gt;%</span> </span>
<span id="cb45-29"><a href="Chapter3.html#cb45-29" tabindex="-1"></a>  <span class="fu">filter</span>(mt <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">&quot;17&quot;</span>,<span class="st">&quot;18&quot;</span>,<span class="st">&quot;22&quot;</span>,<span class="st">&quot;23&quot;</span>))</span>
<span id="cb45-30"><a href="Chapter3.html#cb45-30" tabindex="-1"></a>rastrs_mvr<span class="ot">=</span>fasterize<span class="sc">::</span><span class="fu">fasterize</span>(nogabali,template_r,<span class="at">field=</span><span class="st">&quot;yes&quot;</span>)</span>
<span id="cb45-31"><a href="Chapter3.html#cb45-31" tabindex="-1"></a>rastrs_mvr<span class="ot">=</span><span class="fu">rast</span>(rastrs_mvr)</span>
<span id="cb45-32"><a href="Chapter3.html#cb45-32" tabindex="-1"></a></span>
<span id="cb45-33"><a href="Chapter3.html#cb45-33" tabindex="-1"></a>pirmsmaskas_rastrs<span class="ot">=</span><span class="fu">ifel</span>(<span class="sc">!</span><span class="fu">is.na</span>(rastrs_mvr)<span class="sc">&amp;</span>maska_meziem<span class="sc">==</span><span class="dv">1</span>,<span class="dv">656</span>,<span class="dv">0</span>)</span>
<span id="cb45-34"><a href="Chapter3.html#cb45-34" tabindex="-1"></a>aizpildits<span class="ot">=</span>terra<span class="sc">::</span><span class="fu">cover</span>(pirmsmaskas_rastrs,nulles)</span>
<span id="cb45-35"><a href="Chapter3.html#cb45-35" tabindex="-1"></a>pecmaskas_rastrs<span class="ot">=</span><span class="fu">mask</span>(aizpildits,template_t,</span>
<span id="cb45-36"><a href="Chapter3.html#cb45-36" tabindex="-1"></a>                      <span class="at">filename=</span><span class="st">&quot;./Rastri_10m/Mezi_OligoSus.tif&quot;</span>,</span>
<span id="cb45-37"><a href="Chapter3.html#cb45-37" tabindex="-1"></a>                      <span class="at">overwrite=</span><span class="cn">TRUE</span>)</span></code></pre></div>
</details>
<p><br></p>
</div>
<div id="Chapter3.2.2.2.2" class="section level5 hasAnchor" number="3.2.2.2.2">
<h5><span class="header-section-number">3.2.2.2.2</span> Oligotrofi purvaiņu meži<a href="Chapter3.html#Chapter3.2.2.2.2" class="anchor-section" aria-label="Anchor link to header"></a></h5>
<p>Rastrs ar šūnas izmēru 10 m un segumu visai Latvijas teritorijai.</p>
<ul>
<li><p>Vērtība <code>654</code> apzīmē šūnas, kurās <a href="Chapter3.html#Chapter3.2.2">vienkāršās ainavas maskā</a> ir
reģistrētas klases diapazonā no <code>600</code> līdz <code>700</code> un
<a href="https://www.vmd.gov.lv/lv/meza-valsts-registra-meza-inventarizacijas-failu-struktura">Meža valsts reģistra Meža inventarizācijas failā</a>
laukā <code>mt</code> norādītas vērtības: 12=purvājs, 14=niedrājs;</p></li>
<li><p>Vērtība <code>0</code> - pārējās Latvijas teritorijā esošās šūnas.</p></li>
</ul>
<p>Zemāk esošās komandu rindas izveido failu <code>Mezi_OligoPurv.tif</code>.</p>
<details class=chunk-details><summary class=chunk-summary><span class=chunk-summary-text>Code</span></summary>
<div class="sourceCode" id="cb46"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb46-1"><a href="Chapter3.html#cb46-1" tabindex="-1"></a><span class="co"># Libs</span></span>
<span id="cb46-2"><a href="Chapter3.html#cb46-2" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(tidyverse)) {<span class="fu">install.packages</span>(<span class="st">&quot;tidyverse&quot;</span>); <span class="fu">require</span>(tidyverse)}</span>
<span id="cb46-3"><a href="Chapter3.html#cb46-3" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(sf)) {<span class="fu">install.packages</span>(<span class="st">&quot;sf&quot;</span>); <span class="fu">require</span>(sf)}</span>
<span id="cb46-4"><a href="Chapter3.html#cb46-4" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(arrow)) {<span class="fu">install.packages</span>(<span class="st">&quot;arrow&quot;</span>); <span class="fu">require</span>(arrow)}</span>
<span id="cb46-5"><a href="Chapter3.html#cb46-5" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(sfarrow)) {<span class="fu">install.packages</span>(<span class="st">&quot;sfarrow&quot;</span>); <span class="fu">require</span>(sfarrow)}</span>
<span id="cb46-6"><a href="Chapter3.html#cb46-6" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(terra)) {<span class="fu">install.packages</span>(<span class="st">&quot;terra&quot;</span>); <span class="fu">require</span>(terra)}</span>
<span id="cb46-7"><a href="Chapter3.html#cb46-7" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(raster)) {<span class="fu">install.packages</span>(<span class="st">&quot;raster&quot;</span>); <span class="fu">require</span>(raster)}</span>
<span id="cb46-8"><a href="Chapter3.html#cb46-8" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(fasterize)) {<span class="fu">install.packages</span>(<span class="st">&quot;fasterize&quot;</span>); <span class="fu">require</span>(fasterize)}</span>
<span id="cb46-9"><a href="Chapter3.html#cb46-9" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(readxl)) {<span class="fu">install.packages</span>(<span class="st">&quot;readxl&quot;</span>); <span class="fu">require</span>(readxl)}</span>
<span id="cb46-10"><a href="Chapter3.html#cb46-10" tabindex="-1"></a></span>
<span id="cb46-11"><a href="Chapter3.html#cb46-11" tabindex="-1"></a><span class="co"># templates</span></span>
<span id="cb46-12"><a href="Chapter3.html#cb46-12" tabindex="-1"></a>template_t<span class="ot">=</span><span class="fu">rast</span>(<span class="st">&quot;./Templates/TemplateRasters/LV10m_10km.tif&quot;</span>)</span>
<span id="cb46-13"><a href="Chapter3.html#cb46-13" tabindex="-1"></a>template_r<span class="ot">=</span><span class="fu">raster</span>(template_t)</span>
<span id="cb46-14"><a href="Chapter3.html#cb46-14" tabindex="-1"></a></span>
<span id="cb46-15"><a href="Chapter3.html#cb46-15" tabindex="-1"></a>nulles<span class="ot">=</span>terra<span class="sc">::</span><span class="fu">subst</span>(template_t,<span class="at">from=</span><span class="dv">1</span>,<span class="at">to=</span><span class="dv">0</span>)</span>
<span id="cb46-16"><a href="Chapter3.html#cb46-16" tabindex="-1"></a></span>
<span id="cb46-17"><a href="Chapter3.html#cb46-17" tabindex="-1"></a><span class="co"># vienkāršā ainava</span></span>
<span id="cb46-18"><a href="Chapter3.html#cb46-18" tabindex="-1"></a>ainava_t<span class="ot">=</span><span class="fu">rast</span>(<span class="st">&quot;./Rastri_10m/Ainava_vienk_mask.tif&quot;</span>)</span>
<span id="cb46-19"><a href="Chapter3.html#cb46-19" tabindex="-1"></a>ainava_r<span class="ot">=</span><span class="fu">raster</span>(ainava_t)</span>
<span id="cb46-20"><a href="Chapter3.html#cb46-20" tabindex="-1"></a>maska_meziem<span class="ot">=</span><span class="fu">ifel</span>(ainava_t<span class="sc">&gt;</span><span class="dv">600</span><span class="sc">&amp;</span>ainava_t<span class="sc">&lt;</span><span class="dv">700</span>,<span class="dv">1</span>,<span class="cn">NA</span>)</span>
<span id="cb46-21"><a href="Chapter3.html#cb46-21" tabindex="-1"></a></span>
<span id="cb46-22"><a href="Chapter3.html#cb46-22" tabindex="-1"></a><span class="co"># meži</span></span>
<span id="cb46-23"><a href="Chapter3.html#cb46-23" tabindex="-1"></a>mvr<span class="ot">=</span><span class="fu">st_read_parquet</span>(<span class="st">&quot;./IevadesDati/MVR/nogabali_2024janv.parquet&quot;</span>)</span>
<span id="cb46-24"><a href="Chapter3.html#cb46-24" tabindex="-1"></a>mvr<span class="sc">$</span>yes<span class="ot">=</span><span class="dv">1</span></span>
<span id="cb46-25"><a href="Chapter3.html#cb46-25" tabindex="-1"></a></span>
<span id="cb46-26"><a href="Chapter3.html#cb46-26" tabindex="-1"></a></span>
<span id="cb46-27"><a href="Chapter3.html#cb46-27" tabindex="-1"></a><span class="co"># oligotrofi purvaiņu meži</span></span>
<span id="cb46-28"><a href="Chapter3.html#cb46-28" tabindex="-1"></a>nogabali<span class="ot">=</span>mvr <span class="sc">%&gt;%</span> </span>
<span id="cb46-29"><a href="Chapter3.html#cb46-29" tabindex="-1"></a>  <span class="fu">filter</span>(mt <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">&quot;12&quot;</span>,<span class="st">&quot;14&quot;</span>))</span>
<span id="cb46-30"><a href="Chapter3.html#cb46-30" tabindex="-1"></a>rastrs_mvr<span class="ot">=</span>fasterize<span class="sc">::</span><span class="fu">fasterize</span>(nogabali,template_r,<span class="at">field=</span><span class="st">&quot;yes&quot;</span>)</span>
<span id="cb46-31"><a href="Chapter3.html#cb46-31" tabindex="-1"></a>rastrs_mvr<span class="ot">=</span><span class="fu">rast</span>(rastrs_mvr)</span>
<span id="cb46-32"><a href="Chapter3.html#cb46-32" tabindex="-1"></a></span>
<span id="cb46-33"><a href="Chapter3.html#cb46-33" tabindex="-1"></a>pirmsmaskas_rastrs<span class="ot">=</span><span class="fu">ifel</span>(<span class="sc">!</span><span class="fu">is.na</span>(rastrs_mvr)<span class="sc">&amp;</span>maska_meziem<span class="sc">==</span><span class="dv">1</span>,<span class="dv">654</span>,<span class="dv">0</span>)</span>
<span id="cb46-34"><a href="Chapter3.html#cb46-34" tabindex="-1"></a>aizpildits<span class="ot">=</span>terra<span class="sc">::</span><span class="fu">cover</span>(pirmsmaskas_rastrs,nulles)</span>
<span id="cb46-35"><a href="Chapter3.html#cb46-35" tabindex="-1"></a>pecmaskas_rastrs<span class="ot">=</span><span class="fu">mask</span>(aizpildits,template_t,</span>
<span id="cb46-36"><a href="Chapter3.html#cb46-36" tabindex="-1"></a>                      <span class="at">filename=</span><span class="st">&quot;./Rastri_10m/Mezi_OligoPurv.tif&quot;</span>,</span>
<span id="cb46-37"><a href="Chapter3.html#cb46-37" tabindex="-1"></a>                      <span class="at">overwrite=</span><span class="cn">TRUE</span>)</span></code></pre></div>
</details>
<p><br></p>
</div>
<div id="Chapter3.2.2.2.3" class="section level5 hasAnchor" number="3.2.2.2.3">
<h5><span class="header-section-number">3.2.2.2.3</span> Oligotrofi sausieņu un slapjaiņu meži<a href="Chapter3.html#Chapter3.2.2.2.3" class="anchor-section" aria-label="Anchor link to header"></a></h5>
<p>Rastrs ar šūnas izmēru 10 m un segumu visai Latvijas teritorijai.</p>
<ul>
<li><p>Vērtība <code>651</code> apzīmē šūnas, kurās <a href="Chapter3.html#Chapter3.2.2">vienkāršās ainavas maskā</a> ir
reģistrētas klases diapazonā no <code>600</code> līdz <code>700</code> un
<a href="https://www.vmd.gov.lv/lv/meza-valsts-registra-meza-inventarizacijas-failu-struktura">Meža valsts reģistra Meža inventarizācijas failā</a>
laukā <code>mt</code> norādītas vērtības: 1=sils, 2=mētrājs, 3=lāns, 7=grīnis, 8=slapjais mētrājs;</p></li>
<li><p>Vērtība <code>0</code> - pārējās Latvijas teritorijā esošās šūnas.</p></li>
</ul>
<p>Zemāk esošās komandu rindas izveido failu <code>Mezi_OligoSaus.tif</code>.</p>
<details class=chunk-details><summary class=chunk-summary><span class=chunk-summary-text>Code</span></summary>
<div class="sourceCode" id="cb47"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb47-1"><a href="Chapter3.html#cb47-1" tabindex="-1"></a><span class="co"># Libs</span></span>
<span id="cb47-2"><a href="Chapter3.html#cb47-2" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(tidyverse)) {<span class="fu">install.packages</span>(<span class="st">&quot;tidyverse&quot;</span>); <span class="fu">require</span>(tidyverse)}</span>
<span id="cb47-3"><a href="Chapter3.html#cb47-3" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(sf)) {<span class="fu">install.packages</span>(<span class="st">&quot;sf&quot;</span>); <span class="fu">require</span>(sf)}</span>
<span id="cb47-4"><a href="Chapter3.html#cb47-4" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(arrow)) {<span class="fu">install.packages</span>(<span class="st">&quot;arrow&quot;</span>); <span class="fu">require</span>(arrow)}</span>
<span id="cb47-5"><a href="Chapter3.html#cb47-5" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(sfarrow)) {<span class="fu">install.packages</span>(<span class="st">&quot;sfarrow&quot;</span>); <span class="fu">require</span>(sfarrow)}</span>
<span id="cb47-6"><a href="Chapter3.html#cb47-6" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(terra)) {<span class="fu">install.packages</span>(<span class="st">&quot;terra&quot;</span>); <span class="fu">require</span>(terra)}</span>
<span id="cb47-7"><a href="Chapter3.html#cb47-7" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(raster)) {<span class="fu">install.packages</span>(<span class="st">&quot;raster&quot;</span>); <span class="fu">require</span>(raster)}</span>
<span id="cb47-8"><a href="Chapter3.html#cb47-8" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(fasterize)) {<span class="fu">install.packages</span>(<span class="st">&quot;fasterize&quot;</span>); <span class="fu">require</span>(fasterize)}</span>
<span id="cb47-9"><a href="Chapter3.html#cb47-9" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(readxl)) {<span class="fu">install.packages</span>(<span class="st">&quot;readxl&quot;</span>); <span class="fu">require</span>(readxl)}</span>
<span id="cb47-10"><a href="Chapter3.html#cb47-10" tabindex="-1"></a></span>
<span id="cb47-11"><a href="Chapter3.html#cb47-11" tabindex="-1"></a><span class="co"># templates</span></span>
<span id="cb47-12"><a href="Chapter3.html#cb47-12" tabindex="-1"></a>template_t<span class="ot">=</span><span class="fu">rast</span>(<span class="st">&quot;./Templates/TemplateRasters/LV10m_10km.tif&quot;</span>)</span>
<span id="cb47-13"><a href="Chapter3.html#cb47-13" tabindex="-1"></a>template_r<span class="ot">=</span><span class="fu">raster</span>(template_t)</span>
<span id="cb47-14"><a href="Chapter3.html#cb47-14" tabindex="-1"></a></span>
<span id="cb47-15"><a href="Chapter3.html#cb47-15" tabindex="-1"></a>nulles<span class="ot">=</span>terra<span class="sc">::</span><span class="fu">subst</span>(template_t,<span class="at">from=</span><span class="dv">1</span>,<span class="at">to=</span><span class="dv">0</span>)</span>
<span id="cb47-16"><a href="Chapter3.html#cb47-16" tabindex="-1"></a></span>
<span id="cb47-17"><a href="Chapter3.html#cb47-17" tabindex="-1"></a><span class="co"># vienkāršā ainava</span></span>
<span id="cb47-18"><a href="Chapter3.html#cb47-18" tabindex="-1"></a>ainava_t<span class="ot">=</span><span class="fu">rast</span>(<span class="st">&quot;./Rastri_10m/Ainava_vienk_mask.tif&quot;</span>)</span>
<span id="cb47-19"><a href="Chapter3.html#cb47-19" tabindex="-1"></a>ainava_r<span class="ot">=</span><span class="fu">raster</span>(ainava_t)</span>
<span id="cb47-20"><a href="Chapter3.html#cb47-20" tabindex="-1"></a>maska_meziem<span class="ot">=</span><span class="fu">ifel</span>(ainava_t<span class="sc">&gt;</span><span class="dv">600</span><span class="sc">&amp;</span>ainava_t<span class="sc">&lt;</span><span class="dv">700</span>,<span class="dv">1</span>,<span class="cn">NA</span>)</span>
<span id="cb47-21"><a href="Chapter3.html#cb47-21" tabindex="-1"></a></span>
<span id="cb47-22"><a href="Chapter3.html#cb47-22" tabindex="-1"></a><span class="co"># meži</span></span>
<span id="cb47-23"><a href="Chapter3.html#cb47-23" tabindex="-1"></a>mvr<span class="ot">=</span><span class="fu">st_read_parquet</span>(<span class="st">&quot;./IevadesDati/MVR/nogabali_2024janv.parquet&quot;</span>)</span>
<span id="cb47-24"><a href="Chapter3.html#cb47-24" tabindex="-1"></a>mvr<span class="sc">$</span>yes<span class="ot">=</span><span class="dv">1</span></span>
<span id="cb47-25"><a href="Chapter3.html#cb47-25" tabindex="-1"></a></span>
<span id="cb47-26"><a href="Chapter3.html#cb47-26" tabindex="-1"></a></span>
<span id="cb47-27"><a href="Chapter3.html#cb47-27" tabindex="-1"></a><span class="co"># Oligotrofi sausieņu un slapjaiņu meži</span></span>
<span id="cb47-28"><a href="Chapter3.html#cb47-28" tabindex="-1"></a>nogabali<span class="ot">=</span>mvr <span class="sc">%&gt;%</span> </span>
<span id="cb47-29"><a href="Chapter3.html#cb47-29" tabindex="-1"></a>  <span class="fu">filter</span>(mt <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">&quot;1&quot;</span>,<span class="st">&quot;2&quot;</span>,<span class="st">&quot;3&quot;</span>,<span class="st">&quot;7&quot;</span>,<span class="st">&quot;8&quot;</span>))</span>
<span id="cb47-30"><a href="Chapter3.html#cb47-30" tabindex="-1"></a>rastrs_mvr<span class="ot">=</span>fasterize<span class="sc">::</span><span class="fu">fasterize</span>(nogabali,template_r,<span class="at">field=</span><span class="st">&quot;yes&quot;</span>)</span>
<span id="cb47-31"><a href="Chapter3.html#cb47-31" tabindex="-1"></a>rastrs_mvr<span class="ot">=</span><span class="fu">rast</span>(rastrs_mvr)</span>
<span id="cb47-32"><a href="Chapter3.html#cb47-32" tabindex="-1"></a></span>
<span id="cb47-33"><a href="Chapter3.html#cb47-33" tabindex="-1"></a>pirmsmaskas_rastrs<span class="ot">=</span><span class="fu">ifel</span>(<span class="sc">!</span><span class="fu">is.na</span>(rastrs_mvr)<span class="sc">&amp;</span>maska_meziem<span class="sc">==</span><span class="dv">1</span>,<span class="dv">651</span>,<span class="dv">0</span>)</span>
<span id="cb47-34"><a href="Chapter3.html#cb47-34" tabindex="-1"></a>aizpildits<span class="ot">=</span>terra<span class="sc">::</span><span class="fu">cover</span>(pirmsmaskas_rastrs,nulles)</span>
<span id="cb47-35"><a href="Chapter3.html#cb47-35" tabindex="-1"></a>pecmaskas_rastrs<span class="ot">=</span><span class="fu">mask</span>(aizpildits,template_t,</span>
<span id="cb47-36"><a href="Chapter3.html#cb47-36" tabindex="-1"></a>                      <span class="at">filename=</span><span class="st">&quot;./Rastri_10m/Mezi_OligoSaus.tif&quot;</span>,</span>
<span id="cb47-37"><a href="Chapter3.html#cb47-37" tabindex="-1"></a>                      <span class="at">overwrite=</span><span class="cn">TRUE</span>)</span></code></pre></div>
</details>
<p><br></p>
</div>
<div id="Chapter3.2.2.2.4" class="section level5 hasAnchor" number="3.2.2.2.4">
<h5><span class="header-section-number">3.2.2.2.4</span> Mezotrofi sausieņu un slapjaiņu meži<a href="Chapter3.html#Chapter3.2.2.2.4" class="anchor-section" aria-label="Anchor link to header"></a></h5>
<p>Rastrs ar šūnas izmēru 10 m un segumu visai Latvijas teritorijai.</p>
<ul>
<li><p>Vērtība <code>652</code> apzīmē šūnas, kurās <a href="Chapter3.html#Chapter3.2.2">vienkāršās ainavas maskā</a> ir
reģistrētas klases diapazonā no <code>600</code> līdz <code>700</code> un
<a href="https://www.vmd.gov.lv/lv/meza-valsts-registra-meza-inventarizacijas-failu-struktura">Meža valsts reģistra Meža inventarizācijas failā</a>
laukā <code>mt</code> norādītas vērtības: 4=damaksnis, 9=slapjais damaksnis;</p></li>
<li><p>Vērtība <code>0</code> - pārējās Latvijas teritorijā esošās šūnas.</p></li>
</ul>
<p>Zemāk esošās komandu rindas izveido failu <code>Mezi_MezoSaus.tif</code>.</p>
<details class=chunk-details><summary class=chunk-summary><span class=chunk-summary-text>Code</span></summary>
<div class="sourceCode" id="cb48"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb48-1"><a href="Chapter3.html#cb48-1" tabindex="-1"></a><span class="co"># Libs</span></span>
<span id="cb48-2"><a href="Chapter3.html#cb48-2" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(tidyverse)) {<span class="fu">install.packages</span>(<span class="st">&quot;tidyverse&quot;</span>); <span class="fu">require</span>(tidyverse)}</span>
<span id="cb48-3"><a href="Chapter3.html#cb48-3" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(sf)) {<span class="fu">install.packages</span>(<span class="st">&quot;sf&quot;</span>); <span class="fu">require</span>(sf)}</span>
<span id="cb48-4"><a href="Chapter3.html#cb48-4" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(arrow)) {<span class="fu">install.packages</span>(<span class="st">&quot;arrow&quot;</span>); <span class="fu">require</span>(arrow)}</span>
<span id="cb48-5"><a href="Chapter3.html#cb48-5" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(sfarrow)) {<span class="fu">install.packages</span>(<span class="st">&quot;sfarrow&quot;</span>); <span class="fu">require</span>(sfarrow)}</span>
<span id="cb48-6"><a href="Chapter3.html#cb48-6" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(terra)) {<span class="fu">install.packages</span>(<span class="st">&quot;terra&quot;</span>); <span class="fu">require</span>(terra)}</span>
<span id="cb48-7"><a href="Chapter3.html#cb48-7" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(raster)) {<span class="fu">install.packages</span>(<span class="st">&quot;raster&quot;</span>); <span class="fu">require</span>(raster)}</span>
<span id="cb48-8"><a href="Chapter3.html#cb48-8" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(fasterize)) {<span class="fu">install.packages</span>(<span class="st">&quot;fasterize&quot;</span>); <span class="fu">require</span>(fasterize)}</span>
<span id="cb48-9"><a href="Chapter3.html#cb48-9" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(readxl)) {<span class="fu">install.packages</span>(<span class="st">&quot;readxl&quot;</span>); <span class="fu">require</span>(readxl)}</span>
<span id="cb48-10"><a href="Chapter3.html#cb48-10" tabindex="-1"></a></span>
<span id="cb48-11"><a href="Chapter3.html#cb48-11" tabindex="-1"></a><span class="co"># templates</span></span>
<span id="cb48-12"><a href="Chapter3.html#cb48-12" tabindex="-1"></a>template_t<span class="ot">=</span><span class="fu">rast</span>(<span class="st">&quot;./Templates/TemplateRasters/LV10m_10km.tif&quot;</span>)</span>
<span id="cb48-13"><a href="Chapter3.html#cb48-13" tabindex="-1"></a>template_r<span class="ot">=</span><span class="fu">raster</span>(template_t)</span>
<span id="cb48-14"><a href="Chapter3.html#cb48-14" tabindex="-1"></a></span>
<span id="cb48-15"><a href="Chapter3.html#cb48-15" tabindex="-1"></a>nulles<span class="ot">=</span>terra<span class="sc">::</span><span class="fu">subst</span>(template_t,<span class="at">from=</span><span class="dv">1</span>,<span class="at">to=</span><span class="dv">0</span>)</span>
<span id="cb48-16"><a href="Chapter3.html#cb48-16" tabindex="-1"></a></span>
<span id="cb48-17"><a href="Chapter3.html#cb48-17" tabindex="-1"></a><span class="co"># vienkāršā ainava</span></span>
<span id="cb48-18"><a href="Chapter3.html#cb48-18" tabindex="-1"></a>ainava_t<span class="ot">=</span><span class="fu">rast</span>(<span class="st">&quot;./Rastri_10m/Ainava_vienk_mask.tif&quot;</span>)</span>
<span id="cb48-19"><a href="Chapter3.html#cb48-19" tabindex="-1"></a>ainava_r<span class="ot">=</span><span class="fu">raster</span>(ainava_t)</span>
<span id="cb48-20"><a href="Chapter3.html#cb48-20" tabindex="-1"></a>maska_meziem<span class="ot">=</span><span class="fu">ifel</span>(ainava_t<span class="sc">&gt;</span><span class="dv">600</span><span class="sc">&amp;</span>ainava_t<span class="sc">&lt;</span><span class="dv">700</span>,<span class="dv">1</span>,<span class="cn">NA</span>)</span>
<span id="cb48-21"><a href="Chapter3.html#cb48-21" tabindex="-1"></a></span>
<span id="cb48-22"><a href="Chapter3.html#cb48-22" tabindex="-1"></a><span class="co"># meži</span></span>
<span id="cb48-23"><a href="Chapter3.html#cb48-23" tabindex="-1"></a>mvr<span class="ot">=</span><span class="fu">st_read_parquet</span>(<span class="st">&quot;./IevadesDati/MVR/nogabali_2024janv.parquet&quot;</span>)</span>
<span id="cb48-24"><a href="Chapter3.html#cb48-24" tabindex="-1"></a>mvr<span class="sc">$</span>yes<span class="ot">=</span><span class="dv">1</span></span>
<span id="cb48-25"><a href="Chapter3.html#cb48-25" tabindex="-1"></a></span>
<span id="cb48-26"><a href="Chapter3.html#cb48-26" tabindex="-1"></a><span class="co"># Mezotrofi sausieņu un slapjaiņu meži</span></span>
<span id="cb48-27"><a href="Chapter3.html#cb48-27" tabindex="-1"></a>nogabali<span class="ot">=</span>mvr <span class="sc">%&gt;%</span> </span>
<span id="cb48-28"><a href="Chapter3.html#cb48-28" tabindex="-1"></a>  <span class="fu">filter</span>(mt <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">&quot;4&quot;</span>,<span class="st">&quot;9&quot;</span>))</span>
<span id="cb48-29"><a href="Chapter3.html#cb48-29" tabindex="-1"></a>rastrs_mvr<span class="ot">=</span>fasterize<span class="sc">::</span><span class="fu">fasterize</span>(nogabali,template_r,<span class="at">field=</span><span class="st">&quot;yes&quot;</span>)</span>
<span id="cb48-30"><a href="Chapter3.html#cb48-30" tabindex="-1"></a>rastrs_mvr<span class="ot">=</span><span class="fu">rast</span>(rastrs_mvr)</span>
<span id="cb48-31"><a href="Chapter3.html#cb48-31" tabindex="-1"></a></span>
<span id="cb48-32"><a href="Chapter3.html#cb48-32" tabindex="-1"></a>pirmsmaskas_rastrs<span class="ot">=</span><span class="fu">ifel</span>(<span class="sc">!</span><span class="fu">is.na</span>(rastrs_mvr)<span class="sc">&amp;</span>maska_meziem<span class="sc">==</span><span class="dv">1</span>,<span class="dv">652</span>,<span class="dv">0</span>)</span>
<span id="cb48-33"><a href="Chapter3.html#cb48-33" tabindex="-1"></a>aizpildits<span class="ot">=</span>terra<span class="sc">::</span><span class="fu">cover</span>(pirmsmaskas_rastrs,nulles)</span>
<span id="cb48-34"><a href="Chapter3.html#cb48-34" tabindex="-1"></a>pecmaskas_rastrs<span class="ot">=</span><span class="fu">mask</span>(aizpildits,template_t,</span>
<span id="cb48-35"><a href="Chapter3.html#cb48-35" tabindex="-1"></a>                      <span class="at">filename=</span><span class="st">&quot;./Rastri_10m/Mezi_MezoSaus.tif&quot;</span>,</span>
<span id="cb48-36"><a href="Chapter3.html#cb48-36" tabindex="-1"></a>                      <span class="at">overwrite=</span><span class="cn">TRUE</span>)</span></code></pre></div>
</details>
<p><br></p>
</div>
<div id="Chapter3.2.2.2.5" class="section level5 hasAnchor" number="3.2.2.2.5">
<h5><span class="header-section-number">3.2.2.2.5</span> Eitrofi susinātie meži<a href="Chapter3.html#Chapter3.2.2.2.5" class="anchor-section" aria-label="Anchor link to header"></a></h5>
<p>Rastrs ar šūnas izmēru 10 m un segumu visai Latvijas teritorijai.</p>
<ul>
<li><p>Vērtība <code>657</code> apzīmē šūnas, kurās <a href="Chapter3.html#Chapter3.2.2">vienkāršās ainavas maskā</a> ir
reģistrētas klases diapazonā no <code>600</code> līdz <code>700</code> un
<a href="https://www.vmd.gov.lv/lv/meza-valsts-registra-meza-inventarizacijas-failu-struktura">Meža valsts reģistra Meža inventarizācijas failā</a>
laukā <code>mt</code> norādītas vērtības: 19=šaurlapju ārenis, 21=platlapju ārenis,
24=šaurlapju kūdrenis, 25=platlapju kūdrenis;</p></li>
<li><p>Vērtība <code>0</code> - pārējās Latvijas teritorijā esošās šūnas.</p></li>
</ul>
<p>Zemāk esošās komandu rindas izveido failu <code>Mezi_EitrSus.tif</code>.</p>
<details class=chunk-details><summary class=chunk-summary><span class=chunk-summary-text>Code</span></summary>
<div class="sourceCode" id="cb49"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb49-1"><a href="Chapter3.html#cb49-1" tabindex="-1"></a><span class="co"># Libs</span></span>
<span id="cb49-2"><a href="Chapter3.html#cb49-2" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(tidyverse)) {<span class="fu">install.packages</span>(<span class="st">&quot;tidyverse&quot;</span>); <span class="fu">require</span>(tidyverse)}</span>
<span id="cb49-3"><a href="Chapter3.html#cb49-3" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(sf)) {<span class="fu">install.packages</span>(<span class="st">&quot;sf&quot;</span>); <span class="fu">require</span>(sf)}</span>
<span id="cb49-4"><a href="Chapter3.html#cb49-4" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(arrow)) {<span class="fu">install.packages</span>(<span class="st">&quot;arrow&quot;</span>); <span class="fu">require</span>(arrow)}</span>
<span id="cb49-5"><a href="Chapter3.html#cb49-5" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(sfarrow)) {<span class="fu">install.packages</span>(<span class="st">&quot;sfarrow&quot;</span>); <span class="fu">require</span>(sfarrow)}</span>
<span id="cb49-6"><a href="Chapter3.html#cb49-6" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(terra)) {<span class="fu">install.packages</span>(<span class="st">&quot;terra&quot;</span>); <span class="fu">require</span>(terra)}</span>
<span id="cb49-7"><a href="Chapter3.html#cb49-7" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(raster)) {<span class="fu">install.packages</span>(<span class="st">&quot;raster&quot;</span>); <span class="fu">require</span>(raster)}</span>
<span id="cb49-8"><a href="Chapter3.html#cb49-8" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(fasterize)) {<span class="fu">install.packages</span>(<span class="st">&quot;fasterize&quot;</span>); <span class="fu">require</span>(fasterize)}</span>
<span id="cb49-9"><a href="Chapter3.html#cb49-9" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(readxl)) {<span class="fu">install.packages</span>(<span class="st">&quot;readxl&quot;</span>); <span class="fu">require</span>(readxl)}</span>
<span id="cb49-10"><a href="Chapter3.html#cb49-10" tabindex="-1"></a></span>
<span id="cb49-11"><a href="Chapter3.html#cb49-11" tabindex="-1"></a><span class="co"># templates</span></span>
<span id="cb49-12"><a href="Chapter3.html#cb49-12" tabindex="-1"></a>template_t<span class="ot">=</span><span class="fu">rast</span>(<span class="st">&quot;./Templates/TemplateRasters/LV10m_10km.tif&quot;</span>)</span>
<span id="cb49-13"><a href="Chapter3.html#cb49-13" tabindex="-1"></a>template_r<span class="ot">=</span><span class="fu">raster</span>(template_t)</span>
<span id="cb49-14"><a href="Chapter3.html#cb49-14" tabindex="-1"></a></span>
<span id="cb49-15"><a href="Chapter3.html#cb49-15" tabindex="-1"></a>nulles<span class="ot">=</span>terra<span class="sc">::</span><span class="fu">subst</span>(template_t,<span class="at">from=</span><span class="dv">1</span>,<span class="at">to=</span><span class="dv">0</span>)</span>
<span id="cb49-16"><a href="Chapter3.html#cb49-16" tabindex="-1"></a></span>
<span id="cb49-17"><a href="Chapter3.html#cb49-17" tabindex="-1"></a><span class="co"># vienkāršā ainava</span></span>
<span id="cb49-18"><a href="Chapter3.html#cb49-18" tabindex="-1"></a>ainava_t<span class="ot">=</span><span class="fu">rast</span>(<span class="st">&quot;./Rastri_10m/Ainava_vienk_mask.tif&quot;</span>)</span>
<span id="cb49-19"><a href="Chapter3.html#cb49-19" tabindex="-1"></a>ainava_r<span class="ot">=</span><span class="fu">raster</span>(ainava_t)</span>
<span id="cb49-20"><a href="Chapter3.html#cb49-20" tabindex="-1"></a>maska_meziem<span class="ot">=</span><span class="fu">ifel</span>(ainava_t<span class="sc">&gt;</span><span class="dv">600</span><span class="sc">&amp;</span>ainava_t<span class="sc">&lt;</span><span class="dv">700</span>,<span class="dv">1</span>,<span class="cn">NA</span>)</span>
<span id="cb49-21"><a href="Chapter3.html#cb49-21" tabindex="-1"></a></span>
<span id="cb49-22"><a href="Chapter3.html#cb49-22" tabindex="-1"></a></span>
<span id="cb49-23"><a href="Chapter3.html#cb49-23" tabindex="-1"></a><span class="co"># meži</span></span>
<span id="cb49-24"><a href="Chapter3.html#cb49-24" tabindex="-1"></a>mvr<span class="ot">=</span><span class="fu">st_read_parquet</span>(<span class="st">&quot;./IevadesDati/MVR/nogabali_2024janv.parquet&quot;</span>)</span>
<span id="cb49-25"><a href="Chapter3.html#cb49-25" tabindex="-1"></a>mvr<span class="sc">$</span>yes<span class="ot">=</span><span class="dv">1</span></span>
<span id="cb49-26"><a href="Chapter3.html#cb49-26" tabindex="-1"></a></span>
<span id="cb49-27"><a href="Chapter3.html#cb49-27" tabindex="-1"></a><span class="co"># Eitrofi susinātie meži</span></span>
<span id="cb49-28"><a href="Chapter3.html#cb49-28" tabindex="-1"></a>nogabali<span class="ot">=</span>mvr <span class="sc">%&gt;%</span> </span>
<span id="cb49-29"><a href="Chapter3.html#cb49-29" tabindex="-1"></a>  <span class="fu">filter</span>(mt <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">&quot;19&quot;</span>,<span class="st">&quot;21&quot;</span>,<span class="st">&quot;24&quot;</span>,<span class="st">&quot;25&quot;</span>))</span>
<span id="cb49-30"><a href="Chapter3.html#cb49-30" tabindex="-1"></a>rastrs_mvr<span class="ot">=</span>fasterize<span class="sc">::</span><span class="fu">fasterize</span>(nogabali,template_r,<span class="at">field=</span><span class="st">&quot;yes&quot;</span>)</span>
<span id="cb49-31"><a href="Chapter3.html#cb49-31" tabindex="-1"></a>rastrs_mvr<span class="ot">=</span><span class="fu">rast</span>(rastrs_mvr)</span>
<span id="cb49-32"><a href="Chapter3.html#cb49-32" tabindex="-1"></a></span>
<span id="cb49-33"><a href="Chapter3.html#cb49-33" tabindex="-1"></a>pirmsmaskas_rastrs<span class="ot">=</span><span class="fu">ifel</span>(<span class="sc">!</span><span class="fu">is.na</span>(rastrs_mvr)<span class="sc">&amp;</span>maska_meziem<span class="sc">==</span><span class="dv">1</span>,<span class="dv">657</span>,<span class="dv">0</span>)</span>
<span id="cb49-34"><a href="Chapter3.html#cb49-34" tabindex="-1"></a>aizpildits<span class="ot">=</span>terra<span class="sc">::</span><span class="fu">cover</span>(pirmsmaskas_rastrs,nulles)</span>
<span id="cb49-35"><a href="Chapter3.html#cb49-35" tabindex="-1"></a>pecmaskas_rastrs<span class="ot">=</span><span class="fu">mask</span>(aizpildits,template_t,</span>
<span id="cb49-36"><a href="Chapter3.html#cb49-36" tabindex="-1"></a>                      <span class="at">filename=</span><span class="st">&quot;./Rastri_10m/Mezi_EitrSus.tif&quot;</span>,</span>
<span id="cb49-37"><a href="Chapter3.html#cb49-37" tabindex="-1"></a>                      <span class="at">overwrite=</span><span class="cn">TRUE</span>)</span></code></pre></div>
</details>
<p><br></p>
</div>
<div id="Chapter3.2.2.2.6" class="section level5 hasAnchor" number="3.2.2.2.6">
<h5><span class="header-section-number">3.2.2.2.6</span> Eitrofi purvaiņu meži<a href="Chapter3.html#Chapter3.2.2.2.6" class="anchor-section" aria-label="Anchor link to header"></a></h5>
<p>Rastrs ar šūnas izmēru 10 m un segumu visai Latvijas teritorijai.</p>
<ul>
<li><p>Vērtība <code>655</code> apzīmē šūnas, kurās <a href="Chapter3.html#Chapter3.2.2">vienkāršās ainavas maskā</a> ir
reģistrētas klases diapazonā no <code>600</code> līdz <code>700</code> un
<a href="https://www.vmd.gov.lv/lv/meza-valsts-registra-meza-inventarizacijas-failu-struktura">Meža valsts reģistra Meža inventarizācijas failā</a>
laukā <code>mt</code> norādītas vērtības: 15=dumbrājs, 16=liekņa;</p></li>
<li><p>Vērtība <code>0</code> - pārējās Latvijas teritorijā esošās šūnas.</p></li>
</ul>
<p>Zemāk esošās komandu rindas izveido failu <code>Mezi_EitrPurv.tif</code>.</p>
<details class=chunk-details><summary class=chunk-summary><span class=chunk-summary-text>Code</span></summary>
<div class="sourceCode" id="cb50"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb50-1"><a href="Chapter3.html#cb50-1" tabindex="-1"></a><span class="co"># Libs</span></span>
<span id="cb50-2"><a href="Chapter3.html#cb50-2" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(tidyverse)) {<span class="fu">install.packages</span>(<span class="st">&quot;tidyverse&quot;</span>); <span class="fu">require</span>(tidyverse)}</span>
<span id="cb50-3"><a href="Chapter3.html#cb50-3" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(sf)) {<span class="fu">install.packages</span>(<span class="st">&quot;sf&quot;</span>); <span class="fu">require</span>(sf)}</span>
<span id="cb50-4"><a href="Chapter3.html#cb50-4" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(arrow)) {<span class="fu">install.packages</span>(<span class="st">&quot;arrow&quot;</span>); <span class="fu">require</span>(arrow)}</span>
<span id="cb50-5"><a href="Chapter3.html#cb50-5" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(sfarrow)) {<span class="fu">install.packages</span>(<span class="st">&quot;sfarrow&quot;</span>); <span class="fu">require</span>(sfarrow)}</span>
<span id="cb50-6"><a href="Chapter3.html#cb50-6" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(terra)) {<span class="fu">install.packages</span>(<span class="st">&quot;terra&quot;</span>); <span class="fu">require</span>(terra)}</span>
<span id="cb50-7"><a href="Chapter3.html#cb50-7" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(raster)) {<span class="fu">install.packages</span>(<span class="st">&quot;raster&quot;</span>); <span class="fu">require</span>(raster)}</span>
<span id="cb50-8"><a href="Chapter3.html#cb50-8" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(fasterize)) {<span class="fu">install.packages</span>(<span class="st">&quot;fasterize&quot;</span>); <span class="fu">require</span>(fasterize)}</span>
<span id="cb50-9"><a href="Chapter3.html#cb50-9" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(readxl)) {<span class="fu">install.packages</span>(<span class="st">&quot;readxl&quot;</span>); <span class="fu">require</span>(readxl)}</span>
<span id="cb50-10"><a href="Chapter3.html#cb50-10" tabindex="-1"></a></span>
<span id="cb50-11"><a href="Chapter3.html#cb50-11" tabindex="-1"></a><span class="co"># templates</span></span>
<span id="cb50-12"><a href="Chapter3.html#cb50-12" tabindex="-1"></a>template_t<span class="ot">=</span><span class="fu">rast</span>(<span class="st">&quot;./Templates/TemplateRasters/LV10m_10km.tif&quot;</span>)</span>
<span id="cb50-13"><a href="Chapter3.html#cb50-13" tabindex="-1"></a>template_r<span class="ot">=</span><span class="fu">raster</span>(template_t)</span>
<span id="cb50-14"><a href="Chapter3.html#cb50-14" tabindex="-1"></a></span>
<span id="cb50-15"><a href="Chapter3.html#cb50-15" tabindex="-1"></a>nulles<span class="ot">=</span>terra<span class="sc">::</span><span class="fu">subst</span>(template_t,<span class="at">from=</span><span class="dv">1</span>,<span class="at">to=</span><span class="dv">0</span>)</span>
<span id="cb50-16"><a href="Chapter3.html#cb50-16" tabindex="-1"></a></span>
<span id="cb50-17"><a href="Chapter3.html#cb50-17" tabindex="-1"></a><span class="co"># vienkāršā ainava</span></span>
<span id="cb50-18"><a href="Chapter3.html#cb50-18" tabindex="-1"></a>ainava_t<span class="ot">=</span><span class="fu">rast</span>(<span class="st">&quot;./Rastri_10m/Ainava_vienk_mask.tif&quot;</span>)</span>
<span id="cb50-19"><a href="Chapter3.html#cb50-19" tabindex="-1"></a>ainava_r<span class="ot">=</span><span class="fu">raster</span>(ainava_t)</span>
<span id="cb50-20"><a href="Chapter3.html#cb50-20" tabindex="-1"></a>maska_meziem<span class="ot">=</span><span class="fu">ifel</span>(ainava_t<span class="sc">&gt;</span><span class="dv">600</span><span class="sc">&amp;</span>ainava_t<span class="sc">&lt;</span><span class="dv">700</span>,<span class="dv">1</span>,<span class="cn">NA</span>)</span>
<span id="cb50-21"><a href="Chapter3.html#cb50-21" tabindex="-1"></a></span>
<span id="cb50-22"><a href="Chapter3.html#cb50-22" tabindex="-1"></a></span>
<span id="cb50-23"><a href="Chapter3.html#cb50-23" tabindex="-1"></a><span class="co"># meži</span></span>
<span id="cb50-24"><a href="Chapter3.html#cb50-24" tabindex="-1"></a>mvr<span class="ot">=</span><span class="fu">st_read_parquet</span>(<span class="st">&quot;./IevadesDati/MVR/nogabali_2024janv.parquet&quot;</span>)</span>
<span id="cb50-25"><a href="Chapter3.html#cb50-25" tabindex="-1"></a>mvr<span class="sc">$</span>yes<span class="ot">=</span><span class="dv">1</span></span>
<span id="cb50-26"><a href="Chapter3.html#cb50-26" tabindex="-1"></a></span>
<span id="cb50-27"><a href="Chapter3.html#cb50-27" tabindex="-1"></a><span class="co"># Eitrofi purvaiņu meži</span></span>
<span id="cb50-28"><a href="Chapter3.html#cb50-28" tabindex="-1"></a>nogabali<span class="ot">=</span>mvr <span class="sc">%&gt;%</span> </span>
<span id="cb50-29"><a href="Chapter3.html#cb50-29" tabindex="-1"></a>  <span class="fu">filter</span>(mt <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">&quot;15&quot;</span>,<span class="st">&quot;16&quot;</span>))</span>
<span id="cb50-30"><a href="Chapter3.html#cb50-30" tabindex="-1"></a>rastrs_mvr<span class="ot">=</span>fasterize<span class="sc">::</span><span class="fu">fasterize</span>(nogabali,template_r,<span class="at">field=</span><span class="st">&quot;yes&quot;</span>)</span>
<span id="cb50-31"><a href="Chapter3.html#cb50-31" tabindex="-1"></a>rastrs_mvr<span class="ot">=</span><span class="fu">rast</span>(rastrs_mvr)</span>
<span id="cb50-32"><a href="Chapter3.html#cb50-32" tabindex="-1"></a></span>
<span id="cb50-33"><a href="Chapter3.html#cb50-33" tabindex="-1"></a>pirmsmaskas_rastrs<span class="ot">=</span><span class="fu">ifel</span>(<span class="sc">!</span><span class="fu">is.na</span>(rastrs_mvr)<span class="sc">&amp;</span>maska_meziem<span class="sc">==</span><span class="dv">1</span>,<span class="dv">655</span>,<span class="dv">0</span>)</span>
<span id="cb50-34"><a href="Chapter3.html#cb50-34" tabindex="-1"></a>aizpildits<span class="ot">=</span>terra<span class="sc">::</span><span class="fu">cover</span>(pirmsmaskas_rastrs,nulles)</span>
<span id="cb50-35"><a href="Chapter3.html#cb50-35" tabindex="-1"></a>pecmaskas_rastrs<span class="ot">=</span><span class="fu">mask</span>(aizpildits,template_t,</span>
<span id="cb50-36"><a href="Chapter3.html#cb50-36" tabindex="-1"></a>                      <span class="at">filename=</span><span class="st">&quot;./Rastri_10m/Mezi_EitrPurv.tif&quot;</span>,</span>
<span id="cb50-37"><a href="Chapter3.html#cb50-37" tabindex="-1"></a>                      <span class="at">overwrite=</span><span class="cn">TRUE</span>)</span></code></pre></div>
</details>
<p><br></p>
</div>
<div id="Chapter3.2.2.2.7" class="section level5 hasAnchor" number="3.2.2.2.7">
<h5><span class="header-section-number">3.2.2.2.7</span> Eitrofi sausieņu un slapjaiņu meži<a href="Chapter3.html#Chapter3.2.2.2.7" class="anchor-section" aria-label="Anchor link to header"></a></h5>
<p>Rastrs ar šūnas izmēru 10 m un segumu visai Latvijas teritorijai.</p>
<ul>
<li><p>Vērtība <code>653</code> apzīmē šūnas, kurās <a href="Chapter3.html#Chapter3.2.2">vienkāršās ainavas maskā</a> ir
reģistrētas klases diapazonā no <code>600</code> līdz <code>700</code> un
<a href="https://www.vmd.gov.lv/lv/meza-valsts-registra-meza-inventarizacijas-failu-struktura">Meža valsts reģistra Meža inventarizācijas failā</a>
laukā <code>mt</code> norādītas vērtības: 5=vēris, 6=gārša, 10=slapjais vēris, 11=slapjā gārša;</p></li>
<li><p>Vērtība <code>0</code> - pārējās Latvijas teritorijā esošās šūnas.</p></li>
</ul>
<p>Zemāk esošās komandu rindas izveido failu <code>Mezi_EitrSaus.tif</code>.</p>
<details class=chunk-details><summary class=chunk-summary><span class=chunk-summary-text>Code</span></summary>
<div class="sourceCode" id="cb51"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb51-1"><a href="Chapter3.html#cb51-1" tabindex="-1"></a><span class="co"># Libs</span></span>
<span id="cb51-2"><a href="Chapter3.html#cb51-2" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(tidyverse)) {<span class="fu">install.packages</span>(<span class="st">&quot;tidyverse&quot;</span>); <span class="fu">require</span>(tidyverse)}</span>
<span id="cb51-3"><a href="Chapter3.html#cb51-3" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(sf)) {<span class="fu">install.packages</span>(<span class="st">&quot;sf&quot;</span>); <span class="fu">require</span>(sf)}</span>
<span id="cb51-4"><a href="Chapter3.html#cb51-4" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(arrow)) {<span class="fu">install.packages</span>(<span class="st">&quot;arrow&quot;</span>); <span class="fu">require</span>(arrow)}</span>
<span id="cb51-5"><a href="Chapter3.html#cb51-5" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(sfarrow)) {<span class="fu">install.packages</span>(<span class="st">&quot;sfarrow&quot;</span>); <span class="fu">require</span>(sfarrow)}</span>
<span id="cb51-6"><a href="Chapter3.html#cb51-6" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(terra)) {<span class="fu">install.packages</span>(<span class="st">&quot;terra&quot;</span>); <span class="fu">require</span>(terra)}</span>
<span id="cb51-7"><a href="Chapter3.html#cb51-7" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(raster)) {<span class="fu">install.packages</span>(<span class="st">&quot;raster&quot;</span>); <span class="fu">require</span>(raster)}</span>
<span id="cb51-8"><a href="Chapter3.html#cb51-8" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(fasterize)) {<span class="fu">install.packages</span>(<span class="st">&quot;fasterize&quot;</span>); <span class="fu">require</span>(fasterize)}</span>
<span id="cb51-9"><a href="Chapter3.html#cb51-9" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(readxl)) {<span class="fu">install.packages</span>(<span class="st">&quot;readxl&quot;</span>); <span class="fu">require</span>(readxl)}</span>
<span id="cb51-10"><a href="Chapter3.html#cb51-10" tabindex="-1"></a></span>
<span id="cb51-11"><a href="Chapter3.html#cb51-11" tabindex="-1"></a><span class="co"># templates</span></span>
<span id="cb51-12"><a href="Chapter3.html#cb51-12" tabindex="-1"></a>template_t<span class="ot">=</span><span class="fu">rast</span>(<span class="st">&quot;./Templates/TemplateRasters/LV10m_10km.tif&quot;</span>)</span>
<span id="cb51-13"><a href="Chapter3.html#cb51-13" tabindex="-1"></a>template_r<span class="ot">=</span><span class="fu">raster</span>(template_t)</span>
<span id="cb51-14"><a href="Chapter3.html#cb51-14" tabindex="-1"></a></span>
<span id="cb51-15"><a href="Chapter3.html#cb51-15" tabindex="-1"></a>nulles<span class="ot">=</span>terra<span class="sc">::</span><span class="fu">subst</span>(template_t,<span class="at">from=</span><span class="dv">1</span>,<span class="at">to=</span><span class="dv">0</span>)</span>
<span id="cb51-16"><a href="Chapter3.html#cb51-16" tabindex="-1"></a></span>
<span id="cb51-17"><a href="Chapter3.html#cb51-17" tabindex="-1"></a><span class="co"># vienkāršā ainava</span></span>
<span id="cb51-18"><a href="Chapter3.html#cb51-18" tabindex="-1"></a>ainava_t<span class="ot">=</span><span class="fu">rast</span>(<span class="st">&quot;./Rastri_10m/Ainava_vienk_mask.tif&quot;</span>)</span>
<span id="cb51-19"><a href="Chapter3.html#cb51-19" tabindex="-1"></a>ainava_r<span class="ot">=</span><span class="fu">raster</span>(ainava_t)</span>
<span id="cb51-20"><a href="Chapter3.html#cb51-20" tabindex="-1"></a>maska_meziem<span class="ot">=</span><span class="fu">ifel</span>(ainava_t<span class="sc">&gt;</span><span class="dv">600</span><span class="sc">&amp;</span>ainava_t<span class="sc">&lt;</span><span class="dv">700</span>,<span class="dv">1</span>,<span class="cn">NA</span>)</span>
<span id="cb51-21"><a href="Chapter3.html#cb51-21" tabindex="-1"></a></span>
<span id="cb51-22"><a href="Chapter3.html#cb51-22" tabindex="-1"></a><span class="co"># meži</span></span>
<span id="cb51-23"><a href="Chapter3.html#cb51-23" tabindex="-1"></a>mvr<span class="ot">=</span><span class="fu">st_read_parquet</span>(<span class="st">&quot;./IevadesDati/MVR/nogabali_2024janv.parquet&quot;</span>)</span>
<span id="cb51-24"><a href="Chapter3.html#cb51-24" tabindex="-1"></a>mvr<span class="sc">$</span>yes<span class="ot">=</span><span class="dv">1</span></span>
<span id="cb51-25"><a href="Chapter3.html#cb51-25" tabindex="-1"></a></span>
<span id="cb51-26"><a href="Chapter3.html#cb51-26" tabindex="-1"></a><span class="co"># Eitrofi sausieņu un slapjaiņu meži</span></span>
<span id="cb51-27"><a href="Chapter3.html#cb51-27" tabindex="-1"></a>nogabali<span class="ot">=</span>mvr <span class="sc">%&gt;%</span> </span>
<span id="cb51-28"><a href="Chapter3.html#cb51-28" tabindex="-1"></a>  <span class="fu">filter</span>(mt <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">&quot;5&quot;</span>,<span class="st">&quot;6&quot;</span>,<span class="st">&quot;10&quot;</span>,<span class="st">&quot;11&quot;</span>))</span>
<span id="cb51-29"><a href="Chapter3.html#cb51-29" tabindex="-1"></a>rastrs_mvr<span class="ot">=</span>fasterize<span class="sc">::</span><span class="fu">fasterize</span>(nogabali,template_r,<span class="at">field=</span><span class="st">&quot;yes&quot;</span>)</span>
<span id="cb51-30"><a href="Chapter3.html#cb51-30" tabindex="-1"></a>rastrs_mvr<span class="ot">=</span><span class="fu">rast</span>(rastrs_mvr)</span>
<span id="cb51-31"><a href="Chapter3.html#cb51-31" tabindex="-1"></a></span>
<span id="cb51-32"><a href="Chapter3.html#cb51-32" tabindex="-1"></a>pirmsmaskas_rastrs<span class="ot">=</span><span class="fu">ifel</span>(<span class="sc">!</span><span class="fu">is.na</span>(rastrs_mvr)<span class="sc">&amp;</span>maska_meziem<span class="sc">==</span><span class="dv">1</span>,<span class="dv">653</span>,<span class="dv">0</span>)</span>
<span id="cb51-33"><a href="Chapter3.html#cb51-33" tabindex="-1"></a>aizpildits<span class="ot">=</span>terra<span class="sc">::</span><span class="fu">cover</span>(pirmsmaskas_rastrs,nulles)</span>
<span id="cb51-34"><a href="Chapter3.html#cb51-34" tabindex="-1"></a>pecmaskas_rastrs<span class="ot">=</span><span class="fu">mask</span>(aizpildits,template_t,</span>
<span id="cb51-35"><a href="Chapter3.html#cb51-35" tabindex="-1"></a>                      <span class="at">filename=</span><span class="st">&quot;./Rastri_10m/Mezi_EitrSaus.tif&quot;</span>,</span>
<span id="cb51-36"><a href="Chapter3.html#cb51-36" tabindex="-1"></a>                      <span class="at">overwrite=</span><span class="cn">TRUE</span>)</span></code></pre></div>
</details>
<p><br></p>
</div>
<div id="Chapter3.2.2.2.8" class="section level5 hasAnchor" number="3.2.2.2.8">
<h5><span class="header-section-number">3.2.2.2.8</span> Izcirtumi un jaunaudzes līdz 5 m<a href="Chapter3.html#Chapter3.2.2.2.8" class="anchor-section" aria-label="Anchor link to header"></a></h5>
<p>Rastrs ar šūnas izmēru 10 m un segumu visai Latvijas teritorijai.</p>
<ul>
<li><p>Vērtība <code>661</code> apzīmē šūnas, kurās <a href="Chapter3.html#Chapter3.2.2">vienkāršās ainavas maskā</a> ir
reģistrētas klases diapazonā no <code>600</code> līdz <code>700</code> un</p>
<p>– <a href="https://www.vmd.gov.lv/lv/meza-valsts-registra-meza-inventarizacijas-failu-struktura">Meža valsts reģistra Meža inventarizācijas failā</a> laukā <code>zkat</code> norādītas vērtības “16” vai [“10” un valdošās sugas augstums ir līdz 5 m];</p>
<p>– <a href="Chapter3.html#Chapter3.2.2">vienkāršās ainavas maskā</a> ir
reģistrēta klase <code>610</code> (<em>Global Forest Watch</em> izzudušais koku vainagu segums
kopš 2020. gada un izcirtumi un iznīkušās mežaudzes no Meža valsts reģistra);</p></li>
<li><p>Vērtība <code>0</code> - pārējās Latvijas teritorijā esošās šūnas.</p></li>
</ul>
<p>Zemāk esošās komandu rindas izveido failu <code>Mezi_IzcUNzem5m.tif</code>.</p>
<details class=chunk-details><summary class=chunk-summary><span class=chunk-summary-text>Code</span></summary>
<div class="sourceCode" id="cb52"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb52-1"><a href="Chapter3.html#cb52-1" tabindex="-1"></a><span class="co"># Libs</span></span>
<span id="cb52-2"><a href="Chapter3.html#cb52-2" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(tidyverse)) {<span class="fu">install.packages</span>(<span class="st">&quot;tidyverse&quot;</span>); <span class="fu">require</span>(tidyverse)}</span>
<span id="cb52-3"><a href="Chapter3.html#cb52-3" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(sf)) {<span class="fu">install.packages</span>(<span class="st">&quot;sf&quot;</span>); <span class="fu">require</span>(sf)}</span>
<span id="cb52-4"><a href="Chapter3.html#cb52-4" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(arrow)) {<span class="fu">install.packages</span>(<span class="st">&quot;arrow&quot;</span>); <span class="fu">require</span>(arrow)}</span>
<span id="cb52-5"><a href="Chapter3.html#cb52-5" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(sfarrow)) {<span class="fu">install.packages</span>(<span class="st">&quot;sfarrow&quot;</span>); <span class="fu">require</span>(sfarrow)}</span>
<span id="cb52-6"><a href="Chapter3.html#cb52-6" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(terra)) {<span class="fu">install.packages</span>(<span class="st">&quot;terra&quot;</span>); <span class="fu">require</span>(terra)}</span>
<span id="cb52-7"><a href="Chapter3.html#cb52-7" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(raster)) {<span class="fu">install.packages</span>(<span class="st">&quot;raster&quot;</span>); <span class="fu">require</span>(raster)}</span>
<span id="cb52-8"><a href="Chapter3.html#cb52-8" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(fasterize)) {<span class="fu">install.packages</span>(<span class="st">&quot;fasterize&quot;</span>); <span class="fu">require</span>(fasterize)}</span>
<span id="cb52-9"><a href="Chapter3.html#cb52-9" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(readxl)) {<span class="fu">install.packages</span>(<span class="st">&quot;readxl&quot;</span>); <span class="fu">require</span>(readxl)}</span>
<span id="cb52-10"><a href="Chapter3.html#cb52-10" tabindex="-1"></a></span>
<span id="cb52-11"><a href="Chapter3.html#cb52-11" tabindex="-1"></a><span class="co"># templates</span></span>
<span id="cb52-12"><a href="Chapter3.html#cb52-12" tabindex="-1"></a>template_t<span class="ot">=</span><span class="fu">rast</span>(<span class="st">&quot;./Templates/TemplateRasters/LV10m_10km.tif&quot;</span>)</span>
<span id="cb52-13"><a href="Chapter3.html#cb52-13" tabindex="-1"></a>template_r<span class="ot">=</span><span class="fu">raster</span>(template_t)</span>
<span id="cb52-14"><a href="Chapter3.html#cb52-14" tabindex="-1"></a></span>
<span id="cb52-15"><a href="Chapter3.html#cb52-15" tabindex="-1"></a>nulles<span class="ot">=</span>terra<span class="sc">::</span><span class="fu">subst</span>(template_t,<span class="at">from=</span><span class="dv">1</span>,<span class="at">to=</span><span class="dv">0</span>)</span>
<span id="cb52-16"><a href="Chapter3.html#cb52-16" tabindex="-1"></a></span>
<span id="cb52-17"><a href="Chapter3.html#cb52-17" tabindex="-1"></a><span class="co"># vienkāršā ainava</span></span>
<span id="cb52-18"><a href="Chapter3.html#cb52-18" tabindex="-1"></a>ainava_t<span class="ot">=</span><span class="fu">rast</span>(<span class="st">&quot;./Rastri_10m/Ainava_vienk_mask.tif&quot;</span>)</span>
<span id="cb52-19"><a href="Chapter3.html#cb52-19" tabindex="-1"></a>ainava_r<span class="ot">=</span><span class="fu">raster</span>(ainava_t)</span>
<span id="cb52-20"><a href="Chapter3.html#cb52-20" tabindex="-1"></a>maska_meziem<span class="ot">=</span><span class="fu">ifel</span>(ainava_t<span class="sc">&gt;</span><span class="dv">600</span><span class="sc">&amp;</span>ainava_t<span class="sc">&lt;</span><span class="dv">700</span>,<span class="dv">1</span>,<span class="cn">NA</span>)</span>
<span id="cb52-21"><a href="Chapter3.html#cb52-21" tabindex="-1"></a></span>
<span id="cb52-22"><a href="Chapter3.html#cb52-22" tabindex="-1"></a></span>
<span id="cb52-23"><a href="Chapter3.html#cb52-23" tabindex="-1"></a></span>
<span id="cb52-24"><a href="Chapter3.html#cb52-24" tabindex="-1"></a><span class="co"># meži</span></span>
<span id="cb52-25"><a href="Chapter3.html#cb52-25" tabindex="-1"></a>mvr<span class="ot">=</span><span class="fu">st_read_parquet</span>(<span class="st">&quot;./IevadesDati/MVR/nogabali_2024janv.parquet&quot;</span>)</span>
<span id="cb52-26"><a href="Chapter3.html#cb52-26" tabindex="-1"></a>mvr<span class="sc">$</span>yes<span class="ot">=</span><span class="dv">1</span></span>
<span id="cb52-27"><a href="Chapter3.html#cb52-27" tabindex="-1"></a></span>
<span id="cb52-28"><a href="Chapter3.html#cb52-28" tabindex="-1"></a><span class="co"># Izcirtumi un jaunaudzes līdz 5 m</span></span>
<span id="cb52-29"><a href="Chapter3.html#cb52-29" tabindex="-1"></a>nogabali<span class="ot">=</span>mvr <span class="sc">%&gt;%</span> </span>
<span id="cb52-30"><a href="Chapter3.html#cb52-30" tabindex="-1"></a>  <span class="fu">filter</span>((zkat<span class="sc">==</span><span class="st">&quot;10&quot;</span><span class="sc">&amp;</span>h10<span class="sc">&lt;</span><span class="dv">5</span>)<span class="sc">|</span>zkat<span class="sc">==</span><span class="st">&quot;16&quot;</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb52-31"><a href="Chapter3.html#cb52-31" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">yes=</span><span class="dv">661</span>)</span>
<span id="cb52-32"><a href="Chapter3.html#cb52-32" tabindex="-1"></a>rastrs_mvr<span class="ot">=</span>fasterize<span class="sc">::</span><span class="fu">fasterize</span>(nogabali,template_r,<span class="at">field=</span><span class="st">&quot;yes&quot;</span>)</span>
<span id="cb52-33"><a href="Chapter3.html#cb52-33" tabindex="-1"></a>rastrs_mvr<span class="ot">=</span><span class="fu">rast</span>(rastrs_mvr)</span>
<span id="cb52-34"><a href="Chapter3.html#cb52-34" tabindex="-1"></a></span>
<span id="cb52-35"><a href="Chapter3.html#cb52-35" tabindex="-1"></a>klase_610<span class="ot">=</span><span class="fu">ifel</span>(ainava_t<span class="sc">==</span><span class="dv">610</span>,<span class="dv">661</span>,<span class="cn">NA</span>)</span>
<span id="cb52-36"><a href="Chapter3.html#cb52-36" tabindex="-1"></a>klases<span class="ot">=</span><span class="fu">merge</span>(klase_610,rastrs_mvr)</span>
<span id="cb52-37"><a href="Chapter3.html#cb52-37" tabindex="-1"></a>pirmsmaskas_rastrs<span class="ot">=</span><span class="fu">ifel</span>(<span class="sc">!</span><span class="fu">is.na</span>(klases)<span class="sc">&amp;</span>maska_meziem<span class="sc">==</span><span class="dv">1</span>,<span class="dv">661</span>,<span class="dv">0</span>)</span>
<span id="cb52-38"><a href="Chapter3.html#cb52-38" tabindex="-1"></a>aizpildits<span class="ot">=</span>terra<span class="sc">::</span><span class="fu">cover</span>(pirmsmaskas_rastrs,nulles)</span>
<span id="cb52-39"><a href="Chapter3.html#cb52-39" tabindex="-1"></a>pecmaskas_rastrs<span class="ot">=</span><span class="fu">mask</span>(aizpildits,template_t,</span>
<span id="cb52-40"><a href="Chapter3.html#cb52-40" tabindex="-1"></a>                      <span class="at">filename=</span><span class="st">&quot;./Rastri_10m/Mezi_IzcUNzem5m.tif&quot;</span>,</span>
<span id="cb52-41"><a href="Chapter3.html#cb52-41" tabindex="-1"></a>                      <span class="at">overwrite=</span><span class="cn">TRUE</span>)</span></code></pre></div>
</details>
<p><br></p>
</div>
<div id="Chapter3.2.2.2.9" class="section level5 hasAnchor" number="3.2.2.2.9">
<h5><span class="header-section-number">3.2.2.2.9</span> Jaunaudzes no 5 m un krūmāji<a href="Chapter3.html#Chapter3.2.2.2.9" class="anchor-section" aria-label="Anchor link to header"></a></h5>
<p>Rastrs ar šūnas izmēru 10 m un segumu visai Latvijas teritorijai.</p>
<ul>
<li><p>Vērtība <code>662</code> apzīmē šūnas, kurās <a href="Chapter3.html#Chapter3.2.2">vienkāršās ainavas maskā</a> ir
reģistrētas klases diapazonā no <code>600</code> līdz <code>700</code> un</p>
<p>– <a href="https://www.vmd.gov.lv/lv/meza-valsts-registra-meza-inventarizacijas-failu-struktura">Meža valsts reģistra Meža inventarizācijas failā</a> laukā <code>zkat</code> norādītas vērtības “10” <strong>un</strong> valdošās sugas augstums ir no 5 m <strong>un</strong> vecuma grupa ir “1”;</p>
<p>– <a href="Chapter3.html#Chapter3.2.2">vienkāršās ainavas maskā</a> ir reģistrēta<br />
klase <code>620</code> (tās veidošanu skatīt klašu grupas <code>600</code> aprakstā un
beigās pie robu aizpildīšanas);</p></li>
<li><p>Vērtība <code>0</code> - pārējās Latvijas teritorijā esošās šūnas.</p></li>
</ul>
<p>Zemāk esošās komandu rindas izveido failu <code>Mezi_Jaunaudzes5mKrumaji.tif</code>.</p>
<details class=chunk-details><summary class=chunk-summary><span class=chunk-summary-text>Code</span></summary>
<div class="sourceCode" id="cb53"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb53-1"><a href="Chapter3.html#cb53-1" tabindex="-1"></a><span class="co"># Libs</span></span>
<span id="cb53-2"><a href="Chapter3.html#cb53-2" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(tidyverse)) {<span class="fu">install.packages</span>(<span class="st">&quot;tidyverse&quot;</span>); <span class="fu">require</span>(tidyverse)}</span>
<span id="cb53-3"><a href="Chapter3.html#cb53-3" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(sf)) {<span class="fu">install.packages</span>(<span class="st">&quot;sf&quot;</span>); <span class="fu">require</span>(sf)}</span>
<span id="cb53-4"><a href="Chapter3.html#cb53-4" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(arrow)) {<span class="fu">install.packages</span>(<span class="st">&quot;arrow&quot;</span>); <span class="fu">require</span>(arrow)}</span>
<span id="cb53-5"><a href="Chapter3.html#cb53-5" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(sfarrow)) {<span class="fu">install.packages</span>(<span class="st">&quot;sfarrow&quot;</span>); <span class="fu">require</span>(sfarrow)}</span>
<span id="cb53-6"><a href="Chapter3.html#cb53-6" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(terra)) {<span class="fu">install.packages</span>(<span class="st">&quot;terra&quot;</span>); <span class="fu">require</span>(terra)}</span>
<span id="cb53-7"><a href="Chapter3.html#cb53-7" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(raster)) {<span class="fu">install.packages</span>(<span class="st">&quot;raster&quot;</span>); <span class="fu">require</span>(raster)}</span>
<span id="cb53-8"><a href="Chapter3.html#cb53-8" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(fasterize)) {<span class="fu">install.packages</span>(<span class="st">&quot;fasterize&quot;</span>); <span class="fu">require</span>(fasterize)}</span>
<span id="cb53-9"><a href="Chapter3.html#cb53-9" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(readxl)) {<span class="fu">install.packages</span>(<span class="st">&quot;readxl&quot;</span>); <span class="fu">require</span>(readxl)}</span>
<span id="cb53-10"><a href="Chapter3.html#cb53-10" tabindex="-1"></a></span>
<span id="cb53-11"><a href="Chapter3.html#cb53-11" tabindex="-1"></a><span class="co"># templates</span></span>
<span id="cb53-12"><a href="Chapter3.html#cb53-12" tabindex="-1"></a>template_t<span class="ot">=</span><span class="fu">rast</span>(<span class="st">&quot;./Templates/TemplateRasters/LV10m_10km.tif&quot;</span>)</span>
<span id="cb53-13"><a href="Chapter3.html#cb53-13" tabindex="-1"></a>template_r<span class="ot">=</span><span class="fu">raster</span>(template_t)</span>
<span id="cb53-14"><a href="Chapter3.html#cb53-14" tabindex="-1"></a></span>
<span id="cb53-15"><a href="Chapter3.html#cb53-15" tabindex="-1"></a>nulles<span class="ot">=</span>terra<span class="sc">::</span><span class="fu">subst</span>(template_t,<span class="at">from=</span><span class="dv">1</span>,<span class="at">to=</span><span class="dv">0</span>)</span>
<span id="cb53-16"><a href="Chapter3.html#cb53-16" tabindex="-1"></a></span>
<span id="cb53-17"><a href="Chapter3.html#cb53-17" tabindex="-1"></a><span class="co"># vienkāršā ainava</span></span>
<span id="cb53-18"><a href="Chapter3.html#cb53-18" tabindex="-1"></a>ainava_t<span class="ot">=</span><span class="fu">rast</span>(<span class="st">&quot;./Rastri_10m/Ainava_vienk_mask.tif&quot;</span>)</span>
<span id="cb53-19"><a href="Chapter3.html#cb53-19" tabindex="-1"></a>ainava_r<span class="ot">=</span><span class="fu">raster</span>(ainava_t)</span>
<span id="cb53-20"><a href="Chapter3.html#cb53-20" tabindex="-1"></a>maska_meziem<span class="ot">=</span><span class="fu">ifel</span>(ainava_t<span class="sc">&gt;</span><span class="dv">600</span><span class="sc">&amp;</span>ainava_t<span class="sc">&lt;</span><span class="dv">700</span>,<span class="dv">1</span>,<span class="cn">NA</span>)</span>
<span id="cb53-21"><a href="Chapter3.html#cb53-21" tabindex="-1"></a></span>
<span id="cb53-22"><a href="Chapter3.html#cb53-22" tabindex="-1"></a><span class="co"># meži</span></span>
<span id="cb53-23"><a href="Chapter3.html#cb53-23" tabindex="-1"></a>mvr<span class="ot">=</span><span class="fu">st_read_parquet</span>(<span class="st">&quot;./IevadesDati/MVR/nogabali_2024janv.parquet&quot;</span>)</span>
<span id="cb53-24"><a href="Chapter3.html#cb53-24" tabindex="-1"></a>mvr<span class="sc">$</span>yes<span class="ot">=</span><span class="dv">1</span></span>
<span id="cb53-25"><a href="Chapter3.html#cb53-25" tabindex="-1"></a>skujkoki<span class="ot">=</span><span class="fu">c</span>(<span class="st">&quot;1&quot;</span>,<span class="st">&quot;3&quot;</span>,<span class="st">&quot;13&quot;</span>,<span class="st">&quot;14&quot;</span>,<span class="st">&quot;15&quot;</span>,<span class="st">&quot;22&quot;</span>,<span class="st">&quot;23&quot;</span>) <span class="co"># 7</span></span>
<span id="cb53-26"><a href="Chapter3.html#cb53-26" tabindex="-1"></a>saurlapji<span class="ot">=</span><span class="fu">c</span>(<span class="st">&quot;4&quot;</span>,<span class="st">&quot;6&quot;</span>,<span class="st">&quot;8&quot;</span>,<span class="st">&quot;9&quot;</span>,<span class="st">&quot;19&quot;</span>,<span class="st">&quot;20&quot;</span>,<span class="st">&quot;21&quot;</span>,<span class="st">&quot;32&quot;</span>,<span class="st">&quot;35&quot;</span>,<span class="st">&quot;50&quot;</span>,<span class="st">&quot;68&quot;</span>) <span class="co"># 11</span></span>
<span id="cb53-27"><a href="Chapter3.html#cb53-27" tabindex="-1"></a>platlapji<span class="ot">=</span><span class="fu">c</span>(<span class="st">&quot;10&quot;</span>,<span class="st">&quot;11&quot;</span>,<span class="st">&quot;12&quot;</span>,<span class="st">&quot;16&quot;</span>,<span class="st">&quot;17&quot;</span>,<span class="st">&quot;18&quot;</span>,<span class="st">&quot;24&quot;</span>,<span class="st">&quot;25&quot;</span>,<span class="st">&quot;26&quot;</span>,<span class="st">&quot;27&quot;</span>,<span class="st">&quot;28&quot;</span>,<span class="st">&quot;29&quot;</span>,</span>
<span id="cb53-28"><a href="Chapter3.html#cb53-28" tabindex="-1"></a>            <span class="st">&quot;61&quot;</span>,<span class="st">&quot;62&quot;</span>,<span class="st">&quot;63&quot;</span>,<span class="st">&quot;64&quot;</span>,<span class="st">&quot;65&quot;</span>,<span class="st">&quot;66&quot;</span>,<span class="st">&quot;67&quot;</span>,<span class="st">&quot;69&quot;</span>) <span class="co"># 20</span></span>
<span id="cb53-29"><a href="Chapter3.html#cb53-29" tabindex="-1"></a></span>
<span id="cb53-30"><a href="Chapter3.html#cb53-30" tabindex="-1"></a><span class="co"># Jaunaudzes no 5 m un krūmāji</span></span>
<span id="cb53-31"><a href="Chapter3.html#cb53-31" tabindex="-1"></a>nogabali<span class="ot">=</span>mvr <span class="sc">%&gt;%</span> </span>
<span id="cb53-32"><a href="Chapter3.html#cb53-32" tabindex="-1"></a>  <span class="fu">filter</span>(zkat<span class="sc">==</span><span class="st">&quot;10&quot;</span><span class="sc">&amp;</span>h10<span class="sc">&gt;=</span><span class="dv">5</span><span class="sc">&amp;</span>vgr<span class="sc">==</span><span class="st">&quot;1&quot;</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb53-33"><a href="Chapter3.html#cb53-33" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">yes=</span><span class="dv">662</span>)</span>
<span id="cb53-34"><a href="Chapter3.html#cb53-34" tabindex="-1"></a>rastrs_mvr<span class="ot">=</span>fasterize<span class="sc">::</span><span class="fu">fasterize</span>(nogabali,template_r,<span class="at">field=</span><span class="st">&quot;yes&quot;</span>)</span>
<span id="cb53-35"><a href="Chapter3.html#cb53-35" tabindex="-1"></a>rastrs_mvr<span class="ot">=</span><span class="fu">rast</span>(rastrs_mvr)</span>
<span id="cb53-36"><a href="Chapter3.html#cb53-36" tabindex="-1"></a></span>
<span id="cb53-37"><a href="Chapter3.html#cb53-37" tabindex="-1"></a>izcirtumi_zemas<span class="ot">=</span><span class="fu">rast</span>(<span class="st">&quot;./Rastri_10m/Mezi_IzcUNzem5m.tif&quot;</span>)</span>
<span id="cb53-38"><a href="Chapter3.html#cb53-38" tabindex="-1"></a>klase_krumaji<span class="ot">=</span><span class="fu">ifel</span>(ainava_t<span class="sc">==</span><span class="dv">620</span><span class="sc">&amp;</span>izcirtumi_zemas<span class="sc">==</span><span class="dv">0</span>,<span class="dv">662</span>,<span class="cn">NA</span>)</span>
<span id="cb53-39"><a href="Chapter3.html#cb53-39" tabindex="-1"></a>klases<span class="ot">=</span><span class="fu">merge</span>(klase_krumaji,rastrs_mvr)</span>
<span id="cb53-40"><a href="Chapter3.html#cb53-40" tabindex="-1"></a>pirmsmaskas_rastrs<span class="ot">=</span><span class="fu">ifel</span>(<span class="sc">!</span><span class="fu">is.na</span>(klases)<span class="sc">&amp;</span>maska_meziem<span class="sc">==</span><span class="dv">1</span>,<span class="dv">662</span>,<span class="dv">0</span>)</span>
<span id="cb53-41"><a href="Chapter3.html#cb53-41" tabindex="-1"></a>aizpildits<span class="ot">=</span>terra<span class="sc">::</span><span class="fu">cover</span>(pirmsmaskas_rastrs,nulles)</span>
<span id="cb53-42"><a href="Chapter3.html#cb53-42" tabindex="-1"></a>pecmaskas_rastrs<span class="ot">=</span><span class="fu">mask</span>(aizpildits,template_t,</span>
<span id="cb53-43"><a href="Chapter3.html#cb53-43" tabindex="-1"></a>                      <span class="at">filename=</span><span class="st">&quot;./Rastri_10m/Mezi_Jaunaudzes5mKrumaji.tif&quot;</span>,</span>
<span id="cb53-44"><a href="Chapter3.html#cb53-44" tabindex="-1"></a>                      <span class="at">overwrite=</span><span class="cn">TRUE</span>)</span></code></pre></div>
</details>
<p><br></p>
</div>
<div id="Chapter3.2.2.2.10" class="section level5 hasAnchor" number="3.2.2.2.10">
<h5><span class="header-section-number">3.2.2.2.10</span> Vidēja vecuma un briestaudzes<a href="Chapter3.html#Chapter3.2.2.2.10" class="anchor-section" aria-label="Anchor link to header"></a></h5>
<p>Rastrs ar šūnas izmēru 10 m un segumu visai Latvijas teritorijai.</p>
<ul>
<li><p>Vērtība <code>663</code> apzīmē šūnas, kurās <a href="Chapter3.html#Chapter3.2.2">vienkāršās ainavas maskā</a> ir
reģistrētas klases diapazonā no <code>600</code> līdz <code>700</code> un <a href="https://www.vmd.gov.lv/lv/meza-valsts-registra-meza-inventarizacijas-failu-struktura">Meža valsts reģistra Meža inventarizācijas failā</a> laukā <code>zkat</code> norādītas vērtības “10” <strong>un</strong> valdošās sugas augstums ir no 5 m <strong>un</strong> (vecuma grupa ir “2” vai “3”);</p></li>
<li><p>Vērtība <code>0</code> - pārējās Latvijas teritorijā esošās šūnas.</p></li>
</ul>
<p>Zemāk esošās komandu rindas izveido failu <code>Mezi_VidejasBriestaudzes.tif</code>.</p>
<details class=chunk-details><summary class=chunk-summary><span class=chunk-summary-text>Code</span></summary>
<div class="sourceCode" id="cb54"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb54-1"><a href="Chapter3.html#cb54-1" tabindex="-1"></a><span class="co"># Libs</span></span>
<span id="cb54-2"><a href="Chapter3.html#cb54-2" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(tidyverse)) {<span class="fu">install.packages</span>(<span class="st">&quot;tidyverse&quot;</span>); <span class="fu">require</span>(tidyverse)}</span>
<span id="cb54-3"><a href="Chapter3.html#cb54-3" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(sf)) {<span class="fu">install.packages</span>(<span class="st">&quot;sf&quot;</span>); <span class="fu">require</span>(sf)}</span>
<span id="cb54-4"><a href="Chapter3.html#cb54-4" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(arrow)) {<span class="fu">install.packages</span>(<span class="st">&quot;arrow&quot;</span>); <span class="fu">require</span>(arrow)}</span>
<span id="cb54-5"><a href="Chapter3.html#cb54-5" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(sfarrow)) {<span class="fu">install.packages</span>(<span class="st">&quot;sfarrow&quot;</span>); <span class="fu">require</span>(sfarrow)}</span>
<span id="cb54-6"><a href="Chapter3.html#cb54-6" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(terra)) {<span class="fu">install.packages</span>(<span class="st">&quot;terra&quot;</span>); <span class="fu">require</span>(terra)}</span>
<span id="cb54-7"><a href="Chapter3.html#cb54-7" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(raster)) {<span class="fu">install.packages</span>(<span class="st">&quot;raster&quot;</span>); <span class="fu">require</span>(raster)}</span>
<span id="cb54-8"><a href="Chapter3.html#cb54-8" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(fasterize)) {<span class="fu">install.packages</span>(<span class="st">&quot;fasterize&quot;</span>); <span class="fu">require</span>(fasterize)}</span>
<span id="cb54-9"><a href="Chapter3.html#cb54-9" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(readxl)) {<span class="fu">install.packages</span>(<span class="st">&quot;readxl&quot;</span>); <span class="fu">require</span>(readxl)}</span>
<span id="cb54-10"><a href="Chapter3.html#cb54-10" tabindex="-1"></a></span>
<span id="cb54-11"><a href="Chapter3.html#cb54-11" tabindex="-1"></a><span class="co"># templates</span></span>
<span id="cb54-12"><a href="Chapter3.html#cb54-12" tabindex="-1"></a>template_t<span class="ot">=</span><span class="fu">rast</span>(<span class="st">&quot;./Templates/TemplateRasters/LV10m_10km.tif&quot;</span>)</span>
<span id="cb54-13"><a href="Chapter3.html#cb54-13" tabindex="-1"></a>template_r<span class="ot">=</span><span class="fu">raster</span>(template_t)</span>
<span id="cb54-14"><a href="Chapter3.html#cb54-14" tabindex="-1"></a></span>
<span id="cb54-15"><a href="Chapter3.html#cb54-15" tabindex="-1"></a>nulles<span class="ot">=</span>terra<span class="sc">::</span><span class="fu">subst</span>(template_t,<span class="at">from=</span><span class="dv">1</span>,<span class="at">to=</span><span class="dv">0</span>)</span>
<span id="cb54-16"><a href="Chapter3.html#cb54-16" tabindex="-1"></a></span>
<span id="cb54-17"><a href="Chapter3.html#cb54-17" tabindex="-1"></a><span class="co"># vienkāršā ainava</span></span>
<span id="cb54-18"><a href="Chapter3.html#cb54-18" tabindex="-1"></a>ainava_t<span class="ot">=</span><span class="fu">rast</span>(<span class="st">&quot;./Rastri_10m/Ainava_vienk_mask.tif&quot;</span>)</span>
<span id="cb54-19"><a href="Chapter3.html#cb54-19" tabindex="-1"></a>ainava_r<span class="ot">=</span><span class="fu">raster</span>(ainava_t)</span>
<span id="cb54-20"><a href="Chapter3.html#cb54-20" tabindex="-1"></a>maska_meziem<span class="ot">=</span><span class="fu">ifel</span>(ainava_t<span class="sc">&gt;</span><span class="dv">600</span><span class="sc">&amp;</span>ainava_t<span class="sc">&lt;</span><span class="dv">700</span>,<span class="dv">1</span>,<span class="cn">NA</span>)</span>
<span id="cb54-21"><a href="Chapter3.html#cb54-21" tabindex="-1"></a></span>
<span id="cb54-22"><a href="Chapter3.html#cb54-22" tabindex="-1"></a></span>
<span id="cb54-23"><a href="Chapter3.html#cb54-23" tabindex="-1"></a></span>
<span id="cb54-24"><a href="Chapter3.html#cb54-24" tabindex="-1"></a><span class="co"># meži</span></span>
<span id="cb54-25"><a href="Chapter3.html#cb54-25" tabindex="-1"></a>mvr<span class="ot">=</span><span class="fu">st_read_parquet</span>(<span class="st">&quot;./IevadesDati/MVR/nogabali_2024janv.parquet&quot;</span>)</span>
<span id="cb54-26"><a href="Chapter3.html#cb54-26" tabindex="-1"></a>mvr<span class="sc">$</span>yes<span class="ot">=</span><span class="dv">1</span></span>
<span id="cb54-27"><a href="Chapter3.html#cb54-27" tabindex="-1"></a></span>
<span id="cb54-28"><a href="Chapter3.html#cb54-28" tabindex="-1"></a><span class="co"># Vidēja vecuma un briestaudzes</span></span>
<span id="cb54-29"><a href="Chapter3.html#cb54-29" tabindex="-1"></a>nogabali<span class="ot">=</span>mvr <span class="sc">%&gt;%</span> </span>
<span id="cb54-30"><a href="Chapter3.html#cb54-30" tabindex="-1"></a>  <span class="fu">filter</span>(zkat<span class="sc">==</span><span class="st">&quot;10&quot;</span><span class="sc">&amp;</span>h10<span class="sc">&gt;=</span><span class="dv">5</span><span class="sc">&amp;</span>(vgr<span class="sc">==</span><span class="st">&quot;2&quot;</span><span class="sc">|</span>vgr<span class="sc">==</span><span class="st">&quot;3&quot;</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb54-31"><a href="Chapter3.html#cb54-31" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">yes=</span><span class="dv">663</span>)</span>
<span id="cb54-32"><a href="Chapter3.html#cb54-32" tabindex="-1"></a>rastrs_mvr<span class="ot">=</span>fasterize<span class="sc">::</span><span class="fu">fasterize</span>(nogabali,template_r,<span class="at">field=</span><span class="st">&quot;yes&quot;</span>)</span>
<span id="cb54-33"><a href="Chapter3.html#cb54-33" tabindex="-1"></a>rastrs_mvr<span class="ot">=</span><span class="fu">rast</span>(rastrs_mvr)</span>
<span id="cb54-34"><a href="Chapter3.html#cb54-34" tabindex="-1"></a></span>
<span id="cb54-35"><a href="Chapter3.html#cb54-35" tabindex="-1"></a>pirmsmaskas_rastrs<span class="ot">=</span><span class="fu">ifel</span>(<span class="sc">!</span><span class="fu">is.na</span>(rastrs_mvr)<span class="sc">&amp;</span>maska_meziem<span class="sc">==</span><span class="dv">1</span>,<span class="dv">663</span>,<span class="dv">0</span>)</span>
<span id="cb54-36"><a href="Chapter3.html#cb54-36" tabindex="-1"></a>aizpildits<span class="ot">=</span>terra<span class="sc">::</span><span class="fu">cover</span>(pirmsmaskas_rastrs,nulles)</span>
<span id="cb54-37"><a href="Chapter3.html#cb54-37" tabindex="-1"></a>pecmaskas_rastrs<span class="ot">=</span><span class="fu">mask</span>(aizpildits,template_t,</span>
<span id="cb54-38"><a href="Chapter3.html#cb54-38" tabindex="-1"></a>                      <span class="at">filename=</span><span class="st">&quot;./Rastri_10m/Mezi_VidejasBriestaudzes.tif&quot;</span>,</span>
<span id="cb54-39"><a href="Chapter3.html#cb54-39" tabindex="-1"></a>                      <span class="at">overwrite=</span><span class="cn">TRUE</span>)</span></code></pre></div>
</details>
<p><br></p>
</div>
<div id="Chapter3.2.2.2.11" class="section level5 hasAnchor" number="3.2.2.2.11">
<h5><span class="header-section-number">3.2.2.2.11</span> Pieaugušās un pāraugušās mežaudzes<a href="Chapter3.html#Chapter3.2.2.2.11" class="anchor-section" aria-label="Anchor link to header"></a></h5>
<p>Rastrs ar šūnas izmēru 10 m un segumu visai Latvijas teritorijai.</p>
<ul>
<li><p>Vērtība <code>664</code> apzīmē šūnas, kurās <a href="Chapter3.html#Chapter3.2.2">vienkāršās ainavas maskā</a> ir
reģistrētas klases diapazonā no <code>600</code> līdz <code>700</code> un <a href="https://www.vmd.gov.lv/lv/meza-valsts-registra-meza-inventarizacijas-failu-struktura">Meža valsts reģistra Meža inventarizācijas failā</a> laukā <code>zkat</code> norādītas vērtības “10” <strong>un</strong> valdošās sugas augstums ir no 5 m <strong>un</strong> (vecuma grupa ir “4” vai “5”);</p></li>
<li><p>Vērtība <code>0</code> - pārējās Latvijas teritorijā esošās šūnas.</p></li>
</ul>
<p>Zemāk esošās komandu rindas izveido failu <code>Mezi_PieaugParaug.tif</code>.</p>
<details class=chunk-details><summary class=chunk-summary><span class=chunk-summary-text>Code</span></summary>
<div class="sourceCode" id="cb55"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb55-1"><a href="Chapter3.html#cb55-1" tabindex="-1"></a><span class="co"># Libs</span></span>
<span id="cb55-2"><a href="Chapter3.html#cb55-2" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(tidyverse)) {<span class="fu">install.packages</span>(<span class="st">&quot;tidyverse&quot;</span>); <span class="fu">require</span>(tidyverse)}</span>
<span id="cb55-3"><a href="Chapter3.html#cb55-3" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(sf)) {<span class="fu">install.packages</span>(<span class="st">&quot;sf&quot;</span>); <span class="fu">require</span>(sf)}</span>
<span id="cb55-4"><a href="Chapter3.html#cb55-4" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(arrow)) {<span class="fu">install.packages</span>(<span class="st">&quot;arrow&quot;</span>); <span class="fu">require</span>(arrow)}</span>
<span id="cb55-5"><a href="Chapter3.html#cb55-5" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(sfarrow)) {<span class="fu">install.packages</span>(<span class="st">&quot;sfarrow&quot;</span>); <span class="fu">require</span>(sfarrow)}</span>
<span id="cb55-6"><a href="Chapter3.html#cb55-6" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(terra)) {<span class="fu">install.packages</span>(<span class="st">&quot;terra&quot;</span>); <span class="fu">require</span>(terra)}</span>
<span id="cb55-7"><a href="Chapter3.html#cb55-7" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(raster)) {<span class="fu">install.packages</span>(<span class="st">&quot;raster&quot;</span>); <span class="fu">require</span>(raster)}</span>
<span id="cb55-8"><a href="Chapter3.html#cb55-8" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(fasterize)) {<span class="fu">install.packages</span>(<span class="st">&quot;fasterize&quot;</span>); <span class="fu">require</span>(fasterize)}</span>
<span id="cb55-9"><a href="Chapter3.html#cb55-9" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(readxl)) {<span class="fu">install.packages</span>(<span class="st">&quot;readxl&quot;</span>); <span class="fu">require</span>(readxl)}</span>
<span id="cb55-10"><a href="Chapter3.html#cb55-10" tabindex="-1"></a></span>
<span id="cb55-11"><a href="Chapter3.html#cb55-11" tabindex="-1"></a><span class="co"># templates</span></span>
<span id="cb55-12"><a href="Chapter3.html#cb55-12" tabindex="-1"></a>template_t<span class="ot">=</span><span class="fu">rast</span>(<span class="st">&quot;./Templates/TemplateRasters/LV10m_10km.tif&quot;</span>)</span>
<span id="cb55-13"><a href="Chapter3.html#cb55-13" tabindex="-1"></a>template_r<span class="ot">=</span><span class="fu">raster</span>(template_t)</span>
<span id="cb55-14"><a href="Chapter3.html#cb55-14" tabindex="-1"></a></span>
<span id="cb55-15"><a href="Chapter3.html#cb55-15" tabindex="-1"></a>nulles<span class="ot">=</span>terra<span class="sc">::</span><span class="fu">subst</span>(template_t,<span class="at">from=</span><span class="dv">1</span>,<span class="at">to=</span><span class="dv">0</span>)</span>
<span id="cb55-16"><a href="Chapter3.html#cb55-16" tabindex="-1"></a></span>
<span id="cb55-17"><a href="Chapter3.html#cb55-17" tabindex="-1"></a><span class="co"># vienkāršā ainava</span></span>
<span id="cb55-18"><a href="Chapter3.html#cb55-18" tabindex="-1"></a>ainava_t<span class="ot">=</span><span class="fu">rast</span>(<span class="st">&quot;./Rastri_10m/Ainava_vienk_mask.tif&quot;</span>)</span>
<span id="cb55-19"><a href="Chapter3.html#cb55-19" tabindex="-1"></a>ainava_r<span class="ot">=</span><span class="fu">raster</span>(ainava_t)</span>
<span id="cb55-20"><a href="Chapter3.html#cb55-20" tabindex="-1"></a>maska_meziem<span class="ot">=</span><span class="fu">ifel</span>(ainava_t<span class="sc">&gt;</span><span class="dv">600</span><span class="sc">&amp;</span>ainava_t<span class="sc">&lt;</span><span class="dv">700</span>,<span class="dv">1</span>,<span class="cn">NA</span>)</span>
<span id="cb55-21"><a href="Chapter3.html#cb55-21" tabindex="-1"></a></span>
<span id="cb55-22"><a href="Chapter3.html#cb55-22" tabindex="-1"></a><span class="co"># meži</span></span>
<span id="cb55-23"><a href="Chapter3.html#cb55-23" tabindex="-1"></a>mvr<span class="ot">=</span><span class="fu">st_read_parquet</span>(<span class="st">&quot;./IevadesDati/MVR/nogabali_2024janv.parquet&quot;</span>)</span>
<span id="cb55-24"><a href="Chapter3.html#cb55-24" tabindex="-1"></a>mvr<span class="sc">$</span>yes<span class="ot">=</span><span class="dv">1</span></span>
<span id="cb55-25"><a href="Chapter3.html#cb55-25" tabindex="-1"></a></span>
<span id="cb55-26"><a href="Chapter3.html#cb55-26" tabindex="-1"></a></span>
<span id="cb55-27"><a href="Chapter3.html#cb55-27" tabindex="-1"></a><span class="co"># Pieaugušās un pāraugušās mežaudzes</span></span>
<span id="cb55-28"><a href="Chapter3.html#cb55-28" tabindex="-1"></a>nogabali<span class="ot">=</span>mvr <span class="sc">%&gt;%</span> </span>
<span id="cb55-29"><a href="Chapter3.html#cb55-29" tabindex="-1"></a>  <span class="fu">filter</span>(zkat<span class="sc">==</span><span class="st">&quot;10&quot;</span><span class="sc">&amp;</span>h10<span class="sc">&gt;=</span><span class="dv">5</span><span class="sc">&amp;</span>(vgr<span class="sc">==</span><span class="st">&quot;4&quot;</span><span class="sc">|</span>vgr<span class="sc">==</span><span class="st">&quot;5&quot;</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb55-30"><a href="Chapter3.html#cb55-30" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">yes=</span><span class="dv">664</span>)</span>
<span id="cb55-31"><a href="Chapter3.html#cb55-31" tabindex="-1"></a>rastrs_mvr<span class="ot">=</span>fasterize<span class="sc">::</span><span class="fu">fasterize</span>(nogabali,template_r,<span class="at">field=</span><span class="st">&quot;yes&quot;</span>)</span>
<span id="cb55-32"><a href="Chapter3.html#cb55-32" tabindex="-1"></a>rastrs_mvr<span class="ot">=</span><span class="fu">rast</span>(rastrs_mvr)</span>
<span id="cb55-33"><a href="Chapter3.html#cb55-33" tabindex="-1"></a></span>
<span id="cb55-34"><a href="Chapter3.html#cb55-34" tabindex="-1"></a>pirmsmaskas_rastrs<span class="ot">=</span><span class="fu">ifel</span>(<span class="sc">!</span><span class="fu">is.na</span>(rastrs_mvr)<span class="sc">&amp;</span>maska_meziem<span class="sc">==</span><span class="dv">1</span>,<span class="dv">664</span>,<span class="dv">0</span>)</span>
<span id="cb55-35"><a href="Chapter3.html#cb55-35" tabindex="-1"></a>aizpildits<span class="ot">=</span>terra<span class="sc">::</span><span class="fu">cover</span>(pirmsmaskas_rastrs,nulles)</span>
<span id="cb55-36"><a href="Chapter3.html#cb55-36" tabindex="-1"></a>pecmaskas_rastrs<span class="ot">=</span><span class="fu">mask</span>(aizpildits,template_t,</span>
<span id="cb55-37"><a href="Chapter3.html#cb55-37" tabindex="-1"></a>                      <span class="at">filename=</span><span class="st">&quot;./Rastri_10m/Mezi_PieaugParaug.tif&quot;</span>,</span>
<span id="cb55-38"><a href="Chapter3.html#cb55-38" tabindex="-1"></a>                      <span class="at">overwrite=</span><span class="cn">TRUE</span>)</span></code></pre></div>
</details>
<p><br></p>
</div>
<div id="Chapter3.2.2.2.12" class="section level5 hasAnchor" number="3.2.2.2.12">
<h5><span class="header-section-number">3.2.2.2.12</span> Skujkoku<a href="Chapter3.html#Chapter3.2.2.2.12" class="anchor-section" aria-label="Anchor link to header"></a></h5>
<p>Rastrs ar šūnas izmēru 10 m un segumu visai Latvijas teritorijai.</p>
<ul>
<li><p>Vērtība <code>671</code> apzīmē šūnas, kurās <a href="Chapter3.html#Chapter3.2.2">vienkāršās ainavas maskā</a> ir
reģistrētas klases diapazonā no <code>600</code> līdz <code>700</code> un <a href="https://www.vmd.gov.lv/lv/meza-valsts-registra-meza-inventarizacijas-failu-struktura">Meža valsts reģistra Meža inventarizācijas failā</a> laukā <code>zkat</code> norādītas vērtības “10” <strong>un</strong> kokaudzes pirmajā stāvā skujkoku sugu
(s1* apzīmējumi: “1”,“3”,“13”,“14”,“15”,“22”,“23”) krāja veido vismaz 75% no kopējās krājas;</p></li>
<li><p>Vērtība <code>0</code> - pārējās Latvijas teritorijā esošās šūnas.</p></li>
</ul>
<p>Zemāk esošās komandu rindas izveido failu <code>Mezi_Skujkoku.tif</code>.</p>
<details class=chunk-details><summary class=chunk-summary><span class=chunk-summary-text>Code</span></summary>
<div class="sourceCode" id="cb56"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb56-1"><a href="Chapter3.html#cb56-1" tabindex="-1"></a><span class="co"># Libs</span></span>
<span id="cb56-2"><a href="Chapter3.html#cb56-2" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(tidyverse)) {<span class="fu">install.packages</span>(<span class="st">&quot;tidyverse&quot;</span>); <span class="fu">require</span>(tidyverse)}</span>
<span id="cb56-3"><a href="Chapter3.html#cb56-3" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(sf)) {<span class="fu">install.packages</span>(<span class="st">&quot;sf&quot;</span>); <span class="fu">require</span>(sf)}</span>
<span id="cb56-4"><a href="Chapter3.html#cb56-4" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(arrow)) {<span class="fu">install.packages</span>(<span class="st">&quot;arrow&quot;</span>); <span class="fu">require</span>(arrow)}</span>
<span id="cb56-5"><a href="Chapter3.html#cb56-5" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(sfarrow)) {<span class="fu">install.packages</span>(<span class="st">&quot;sfarrow&quot;</span>); <span class="fu">require</span>(sfarrow)}</span>
<span id="cb56-6"><a href="Chapter3.html#cb56-6" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(terra)) {<span class="fu">install.packages</span>(<span class="st">&quot;terra&quot;</span>); <span class="fu">require</span>(terra)}</span>
<span id="cb56-7"><a href="Chapter3.html#cb56-7" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(raster)) {<span class="fu">install.packages</span>(<span class="st">&quot;raster&quot;</span>); <span class="fu">require</span>(raster)}</span>
<span id="cb56-8"><a href="Chapter3.html#cb56-8" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(fasterize)) {<span class="fu">install.packages</span>(<span class="st">&quot;fasterize&quot;</span>); <span class="fu">require</span>(fasterize)}</span>
<span id="cb56-9"><a href="Chapter3.html#cb56-9" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(readxl)) {<span class="fu">install.packages</span>(<span class="st">&quot;readxl&quot;</span>); <span class="fu">require</span>(readxl)}</span>
<span id="cb56-10"><a href="Chapter3.html#cb56-10" tabindex="-1"></a></span>
<span id="cb56-11"><a href="Chapter3.html#cb56-11" tabindex="-1"></a><span class="co"># templates</span></span>
<span id="cb56-12"><a href="Chapter3.html#cb56-12" tabindex="-1"></a>template_t<span class="ot">=</span><span class="fu">rast</span>(<span class="st">&quot;./Templates/TemplateRasters/LV10m_10km.tif&quot;</span>)</span>
<span id="cb56-13"><a href="Chapter3.html#cb56-13" tabindex="-1"></a>template_r<span class="ot">=</span><span class="fu">raster</span>(template_t)</span>
<span id="cb56-14"><a href="Chapter3.html#cb56-14" tabindex="-1"></a></span>
<span id="cb56-15"><a href="Chapter3.html#cb56-15" tabindex="-1"></a>nulles<span class="ot">=</span>terra<span class="sc">::</span><span class="fu">subst</span>(template_t,<span class="at">from=</span><span class="dv">1</span>,<span class="at">to=</span><span class="dv">0</span>)</span>
<span id="cb56-16"><a href="Chapter3.html#cb56-16" tabindex="-1"></a></span>
<span id="cb56-17"><a href="Chapter3.html#cb56-17" tabindex="-1"></a><span class="co"># vienkāršā ainava</span></span>
<span id="cb56-18"><a href="Chapter3.html#cb56-18" tabindex="-1"></a>ainava_t<span class="ot">=</span><span class="fu">rast</span>(<span class="st">&quot;./Rastri_10m/Ainava_vienk_mask.tif&quot;</span>)</span>
<span id="cb56-19"><a href="Chapter3.html#cb56-19" tabindex="-1"></a>ainava_r<span class="ot">=</span><span class="fu">raster</span>(ainava_t)</span>
<span id="cb56-20"><a href="Chapter3.html#cb56-20" tabindex="-1"></a>maska_meziem<span class="ot">=</span><span class="fu">ifel</span>(ainava_t<span class="sc">&gt;</span><span class="dv">600</span><span class="sc">&amp;</span>ainava_t<span class="sc">&lt;</span><span class="dv">700</span>,<span class="dv">1</span>,<span class="cn">NA</span>)</span>
<span id="cb56-21"><a href="Chapter3.html#cb56-21" tabindex="-1"></a></span>
<span id="cb56-22"><a href="Chapter3.html#cb56-22" tabindex="-1"></a></span>
<span id="cb56-23"><a href="Chapter3.html#cb56-23" tabindex="-1"></a><span class="co"># meži</span></span>
<span id="cb56-24"><a href="Chapter3.html#cb56-24" tabindex="-1"></a>mvr<span class="ot">=</span><span class="fu">st_read_parquet</span>(<span class="st">&quot;./IevadesDati/MVR/nogabali_2024janv.parquet&quot;</span>)</span>
<span id="cb56-25"><a href="Chapter3.html#cb56-25" tabindex="-1"></a>mvr<span class="sc">$</span>yes<span class="ot">=</span><span class="dv">1</span></span>
<span id="cb56-26"><a href="Chapter3.html#cb56-26" tabindex="-1"></a>skujkoki<span class="ot">=</span><span class="fu">c</span>(<span class="st">&quot;1&quot;</span>,<span class="st">&quot;3&quot;</span>,<span class="st">&quot;13&quot;</span>,<span class="st">&quot;14&quot;</span>,<span class="st">&quot;15&quot;</span>,<span class="st">&quot;22&quot;</span>,<span class="st">&quot;23&quot;</span>) <span class="co"># 7</span></span>
<span id="cb56-27"><a href="Chapter3.html#cb56-27" tabindex="-1"></a>saurlapji<span class="ot">=</span><span class="fu">c</span>(<span class="st">&quot;4&quot;</span>,<span class="st">&quot;6&quot;</span>,<span class="st">&quot;8&quot;</span>,<span class="st">&quot;9&quot;</span>,<span class="st">&quot;19&quot;</span>,<span class="st">&quot;20&quot;</span>,<span class="st">&quot;21&quot;</span>,<span class="st">&quot;32&quot;</span>,<span class="st">&quot;35&quot;</span>,<span class="st">&quot;50&quot;</span>,<span class="st">&quot;68&quot;</span>) <span class="co"># 11</span></span>
<span id="cb56-28"><a href="Chapter3.html#cb56-28" tabindex="-1"></a>platlapji<span class="ot">=</span><span class="fu">c</span>(<span class="st">&quot;10&quot;</span>,<span class="st">&quot;11&quot;</span>,<span class="st">&quot;12&quot;</span>,<span class="st">&quot;16&quot;</span>,<span class="st">&quot;17&quot;</span>,<span class="st">&quot;18&quot;</span>,<span class="st">&quot;24&quot;</span>,<span class="st">&quot;25&quot;</span>,<span class="st">&quot;26&quot;</span>,<span class="st">&quot;27&quot;</span>,<span class="st">&quot;28&quot;</span>,<span class="st">&quot;29&quot;</span>,</span>
<span id="cb56-29"><a href="Chapter3.html#cb56-29" tabindex="-1"></a>            <span class="st">&quot;61&quot;</span>,<span class="st">&quot;62&quot;</span>,<span class="st">&quot;63&quot;</span>,<span class="st">&quot;64&quot;</span>,<span class="st">&quot;65&quot;</span>,<span class="st">&quot;66&quot;</span>,<span class="st">&quot;67&quot;</span>,<span class="st">&quot;69&quot;</span>) <span class="co"># 20</span></span>
<span id="cb56-30"><a href="Chapter3.html#cb56-30" tabindex="-1"></a>mvr<span class="ot">=</span>mvr <span class="sc">%&gt;%</span> </span>
<span id="cb56-31"><a href="Chapter3.html#cb56-31" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">kraja_skujkoku=</span><span class="fu">ifelse</span>(s10 <span class="sc">%in%</span> skujkoki,v10,<span class="dv">0</span>)<span class="sc">+</span></span>
<span id="cb56-32"><a href="Chapter3.html#cb56-32" tabindex="-1"></a>           <span class="fu">ifelse</span>(s11 <span class="sc">%in%</span> skujkoki,v11,<span class="dv">0</span>)<span class="sc">+</span><span class="fu">ifelse</span>(s12 <span class="sc">%in%</span> skujkoki,v12,<span class="dv">0</span>)<span class="sc">+</span></span>
<span id="cb56-33"><a href="Chapter3.html#cb56-33" tabindex="-1"></a>           <span class="fu">ifelse</span>(s13 <span class="sc">%in%</span> skujkoki,v13,<span class="dv">0</span>)<span class="sc">+</span><span class="fu">ifelse</span>(s14 <span class="sc">%in%</span> skujkoki,v14,<span class="dv">0</span>),</span>
<span id="cb56-34"><a href="Chapter3.html#cb56-34" tabindex="-1"></a>         <span class="at">kraja_saurlapju=</span><span class="fu">ifelse</span>(s10 <span class="sc">%in%</span> saurlapji,v10,<span class="dv">0</span>)<span class="sc">+</span></span>
<span id="cb56-35"><a href="Chapter3.html#cb56-35" tabindex="-1"></a>           <span class="fu">ifelse</span>(s11 <span class="sc">%in%</span> saurlapji,v11,<span class="dv">0</span>)<span class="sc">+</span><span class="fu">ifelse</span>(s12 <span class="sc">%in%</span> saurlapji,v12,<span class="dv">0</span>)<span class="sc">+</span></span>
<span id="cb56-36"><a href="Chapter3.html#cb56-36" tabindex="-1"></a>           <span class="fu">ifelse</span>(s13 <span class="sc">%in%</span> saurlapji,v13,<span class="dv">0</span>)<span class="sc">+</span><span class="fu">ifelse</span>(s14 <span class="sc">%in%</span> saurlapji,v14,<span class="dv">0</span>),</span>
<span id="cb56-37"><a href="Chapter3.html#cb56-37" tabindex="-1"></a>         <span class="at">kraja_platlapju=</span><span class="fu">ifelse</span>(s10 <span class="sc">%in%</span> platlapji,v10,<span class="dv">0</span>)<span class="sc">+</span></span>
<span id="cb56-38"><a href="Chapter3.html#cb56-38" tabindex="-1"></a>           <span class="fu">ifelse</span>(s11 <span class="sc">%in%</span> platlapji,v11,<span class="dv">0</span>)<span class="sc">+</span><span class="fu">ifelse</span>(s12 <span class="sc">%in%</span> platlapji,v12,<span class="dv">0</span>)<span class="sc">+</span></span>
<span id="cb56-39"><a href="Chapter3.html#cb56-39" tabindex="-1"></a>           <span class="fu">ifelse</span>(s13 <span class="sc">%in%</span> platlapji,v13,<span class="dv">0</span>)<span class="sc">+</span><span class="fu">ifelse</span>(s14 <span class="sc">%in%</span> platlapji,v14,<span class="dv">0</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb56-40"><a href="Chapter3.html#cb56-40" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">kopeja_kraja=</span>kraja_skujkoku<span class="sc">+</span>kraja_platlapju<span class="sc">+</span>kraja_saurlapju) <span class="sc">%&gt;%</span> </span>
<span id="cb56-41"><a href="Chapter3.html#cb56-41" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">tips=</span><span class="fu">ifelse</span>(kraja_skujkoku<span class="sc">/</span>kopeja_kraja<span class="sc">&gt;=</span><span class="fl">0.75</span>,<span class="st">&quot;skujkoku&quot;</span>,</span>
<span id="cb56-42"><a href="Chapter3.html#cb56-42" tabindex="-1"></a>                     <span class="fu">ifelse</span>(kraja_saurlapju<span class="sc">/</span>kopeja_kraja<span class="sc">&gt;=</span><span class="fl">0.75</span>,<span class="st">&quot;saurlapju&quot;</span>,</span>
<span id="cb56-43"><a href="Chapter3.html#cb56-43" tabindex="-1"></a>                            <span class="fu">ifelse</span>(kraja_platlapju<span class="sc">/</span>kopeja_kraja<span class="sc">&gt;</span><span class="fl">0.5</span>,<span class="st">&quot;platlapju&quot;</span>,</span>
<span id="cb56-44"><a href="Chapter3.html#cb56-44" tabindex="-1"></a>                                   <span class="st">&quot;jauktu koku&quot;</span>))))</span>
<span id="cb56-45"><a href="Chapter3.html#cb56-45" tabindex="-1"></a><span class="co"># Skujkoku</span></span>
<span id="cb56-46"><a href="Chapter3.html#cb56-46" tabindex="-1"></a>nogabali<span class="ot">=</span>mvr <span class="sc">%&gt;%</span> </span>
<span id="cb56-47"><a href="Chapter3.html#cb56-47" tabindex="-1"></a>  <span class="fu">filter</span>(zkat<span class="sc">==</span><span class="st">&quot;10&quot;</span><span class="sc">&amp;</span>tips<span class="sc">==</span><span class="st">&quot;skujkoku&quot;</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb56-48"><a href="Chapter3.html#cb56-48" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">yes=</span><span class="dv">671</span>) <span class="co"># 954445</span></span>
<span id="cb56-49"><a href="Chapter3.html#cb56-49" tabindex="-1"></a>rastrs_mvr<span class="ot">=</span>fasterize<span class="sc">::</span><span class="fu">fasterize</span>(nogabali,template_r,<span class="at">field=</span><span class="st">&quot;yes&quot;</span>)</span>
<span id="cb56-50"><a href="Chapter3.html#cb56-50" tabindex="-1"></a>rastrs_mvr<span class="ot">=</span><span class="fu">rast</span>(rastrs_mvr)</span>
<span id="cb56-51"><a href="Chapter3.html#cb56-51" tabindex="-1"></a></span>
<span id="cb56-52"><a href="Chapter3.html#cb56-52" tabindex="-1"></a>pirmsmaskas_rastrs<span class="ot">=</span><span class="fu">ifel</span>(<span class="sc">!</span><span class="fu">is.na</span>(rastrs_mvr)<span class="sc">&amp;</span>maska_meziem<span class="sc">==</span><span class="dv">1</span>,<span class="dv">671</span>,<span class="dv">0</span>)</span>
<span id="cb56-53"><a href="Chapter3.html#cb56-53" tabindex="-1"></a>aizpildits<span class="ot">=</span>terra<span class="sc">::</span><span class="fu">cover</span>(pirmsmaskas_rastrs,nulles)</span>
<span id="cb56-54"><a href="Chapter3.html#cb56-54" tabindex="-1"></a>pecmaskas_rastrs<span class="ot">=</span><span class="fu">mask</span>(aizpildits,template_t,</span>
<span id="cb56-55"><a href="Chapter3.html#cb56-55" tabindex="-1"></a>                      <span class="at">filename=</span><span class="st">&quot;./Rastri_10m/Mezi_Skujkoku.tif&quot;</span>,</span>
<span id="cb56-56"><a href="Chapter3.html#cb56-56" tabindex="-1"></a>                      <span class="at">overwrite=</span><span class="cn">TRUE</span>)</span></code></pre></div>
</details>
<p><br></p>
</div>
<div id="Chapter3.2.2.2.13" class="section level5 hasAnchor" number="3.2.2.2.13">
<h5><span class="header-section-number">3.2.2.2.13</span> Šaurlapju<a href="Chapter3.html#Chapter3.2.2.2.13" class="anchor-section" aria-label="Anchor link to header"></a></h5>
<p>Rastrs ar šūnas izmēru 10 m un segumu visai Latvijas teritorijai.</p>
<ul>
<li><p>Vērtība <code>672</code> apzīmē šūnas, kurās <a href="Chapter3.html#Chapter3.2.2">vienkāršās ainavas maskā</a> ir
reģistrētas klases diapazonā no <code>600</code> līdz <code>700</code> un <a href="https://www.vmd.gov.lv/lv/meza-valsts-registra-meza-inventarizacijas-failu-struktura">Meža valsts reģistra Meža inventarizācijas failā</a> laukā <code>zkat</code> norādītas vērtības “10” <strong>un</strong> kokaudzes pirmajā stāvā šaurlapju sugu
(s1* apzīmējumi: “4”,“6”,“8”,“9”,“19”,“20”,“21”,“32”,“35”,“50”,“68”) krāja veido
vismaz 75% no kopējās krājas, pēc <a href="Chapter3.html#Chapter3.2.2.2.12">Skujkoku</a> kritērija
pielietošanas;</p></li>
<li><p>Vērtība <code>0</code> - pārējās Latvijas teritorijā esošās šūnas.</p></li>
</ul>
<p>Zemāk esošās komandu rindas izveido failu <code>Mezi_Saurlapju.tif</code>.</p>
<details class=chunk-details><summary class=chunk-summary><span class=chunk-summary-text>Code</span></summary>
<div class="sourceCode" id="cb57"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb57-1"><a href="Chapter3.html#cb57-1" tabindex="-1"></a><span class="co"># Libs</span></span>
<span id="cb57-2"><a href="Chapter3.html#cb57-2" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(tidyverse)) {<span class="fu">install.packages</span>(<span class="st">&quot;tidyverse&quot;</span>); <span class="fu">require</span>(tidyverse)}</span>
<span id="cb57-3"><a href="Chapter3.html#cb57-3" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(sf)) {<span class="fu">install.packages</span>(<span class="st">&quot;sf&quot;</span>); <span class="fu">require</span>(sf)}</span>
<span id="cb57-4"><a href="Chapter3.html#cb57-4" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(arrow)) {<span class="fu">install.packages</span>(<span class="st">&quot;arrow&quot;</span>); <span class="fu">require</span>(arrow)}</span>
<span id="cb57-5"><a href="Chapter3.html#cb57-5" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(sfarrow)) {<span class="fu">install.packages</span>(<span class="st">&quot;sfarrow&quot;</span>); <span class="fu">require</span>(sfarrow)}</span>
<span id="cb57-6"><a href="Chapter3.html#cb57-6" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(terra)) {<span class="fu">install.packages</span>(<span class="st">&quot;terra&quot;</span>); <span class="fu">require</span>(terra)}</span>
<span id="cb57-7"><a href="Chapter3.html#cb57-7" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(raster)) {<span class="fu">install.packages</span>(<span class="st">&quot;raster&quot;</span>); <span class="fu">require</span>(raster)}</span>
<span id="cb57-8"><a href="Chapter3.html#cb57-8" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(fasterize)) {<span class="fu">install.packages</span>(<span class="st">&quot;fasterize&quot;</span>); <span class="fu">require</span>(fasterize)}</span>
<span id="cb57-9"><a href="Chapter3.html#cb57-9" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(readxl)) {<span class="fu">install.packages</span>(<span class="st">&quot;readxl&quot;</span>); <span class="fu">require</span>(readxl)}</span>
<span id="cb57-10"><a href="Chapter3.html#cb57-10" tabindex="-1"></a></span>
<span id="cb57-11"><a href="Chapter3.html#cb57-11" tabindex="-1"></a><span class="co"># templates</span></span>
<span id="cb57-12"><a href="Chapter3.html#cb57-12" tabindex="-1"></a>template_t<span class="ot">=</span><span class="fu">rast</span>(<span class="st">&quot;./Templates/TemplateRasters/LV10m_10km.tif&quot;</span>)</span>
<span id="cb57-13"><a href="Chapter3.html#cb57-13" tabindex="-1"></a>template_r<span class="ot">=</span><span class="fu">raster</span>(template_t)</span>
<span id="cb57-14"><a href="Chapter3.html#cb57-14" tabindex="-1"></a></span>
<span id="cb57-15"><a href="Chapter3.html#cb57-15" tabindex="-1"></a>nulles<span class="ot">=</span>terra<span class="sc">::</span><span class="fu">subst</span>(template_t,<span class="at">from=</span><span class="dv">1</span>,<span class="at">to=</span><span class="dv">0</span>)</span>
<span id="cb57-16"><a href="Chapter3.html#cb57-16" tabindex="-1"></a></span>
<span id="cb57-17"><a href="Chapter3.html#cb57-17" tabindex="-1"></a><span class="co"># vienkāršā ainava</span></span>
<span id="cb57-18"><a href="Chapter3.html#cb57-18" tabindex="-1"></a>ainava_t<span class="ot">=</span><span class="fu">rast</span>(<span class="st">&quot;./Rastri_10m/Ainava_vienk_mask.tif&quot;</span>)</span>
<span id="cb57-19"><a href="Chapter3.html#cb57-19" tabindex="-1"></a>ainava_r<span class="ot">=</span><span class="fu">raster</span>(ainava_t)</span>
<span id="cb57-20"><a href="Chapter3.html#cb57-20" tabindex="-1"></a>maska_meziem<span class="ot">=</span><span class="fu">ifel</span>(ainava_t<span class="sc">&gt;</span><span class="dv">600</span><span class="sc">&amp;</span>ainava_t<span class="sc">&lt;</span><span class="dv">700</span>,<span class="dv">1</span>,<span class="cn">NA</span>)</span>
<span id="cb57-21"><a href="Chapter3.html#cb57-21" tabindex="-1"></a></span>
<span id="cb57-22"><a href="Chapter3.html#cb57-22" tabindex="-1"></a><span class="co"># meži</span></span>
<span id="cb57-23"><a href="Chapter3.html#cb57-23" tabindex="-1"></a>mvr<span class="ot">=</span><span class="fu">st_read_parquet</span>(<span class="st">&quot;./IevadesDati/MVR/nogabali_2024janv.parquet&quot;</span>)</span>
<span id="cb57-24"><a href="Chapter3.html#cb57-24" tabindex="-1"></a>mvr<span class="sc">$</span>yes<span class="ot">=</span><span class="dv">1</span></span>
<span id="cb57-25"><a href="Chapter3.html#cb57-25" tabindex="-1"></a>skujkoki<span class="ot">=</span><span class="fu">c</span>(<span class="st">&quot;1&quot;</span>,<span class="st">&quot;3&quot;</span>,<span class="st">&quot;13&quot;</span>,<span class="st">&quot;14&quot;</span>,<span class="st">&quot;15&quot;</span>,<span class="st">&quot;22&quot;</span>,<span class="st">&quot;23&quot;</span>) <span class="co"># 7</span></span>
<span id="cb57-26"><a href="Chapter3.html#cb57-26" tabindex="-1"></a>saurlapji<span class="ot">=</span><span class="fu">c</span>(<span class="st">&quot;4&quot;</span>,<span class="st">&quot;6&quot;</span>,<span class="st">&quot;8&quot;</span>,<span class="st">&quot;9&quot;</span>,<span class="st">&quot;19&quot;</span>,<span class="st">&quot;20&quot;</span>,<span class="st">&quot;21&quot;</span>,<span class="st">&quot;32&quot;</span>,<span class="st">&quot;35&quot;</span>,<span class="st">&quot;50&quot;</span>,<span class="st">&quot;68&quot;</span>) <span class="co"># 11</span></span>
<span id="cb57-27"><a href="Chapter3.html#cb57-27" tabindex="-1"></a>platlapji<span class="ot">=</span><span class="fu">c</span>(<span class="st">&quot;10&quot;</span>,<span class="st">&quot;11&quot;</span>,<span class="st">&quot;12&quot;</span>,<span class="st">&quot;16&quot;</span>,<span class="st">&quot;17&quot;</span>,<span class="st">&quot;18&quot;</span>,<span class="st">&quot;24&quot;</span>,<span class="st">&quot;25&quot;</span>,<span class="st">&quot;26&quot;</span>,<span class="st">&quot;27&quot;</span>,<span class="st">&quot;28&quot;</span>,<span class="st">&quot;29&quot;</span>,</span>
<span id="cb57-28"><a href="Chapter3.html#cb57-28" tabindex="-1"></a>            <span class="st">&quot;61&quot;</span>,<span class="st">&quot;62&quot;</span>,<span class="st">&quot;63&quot;</span>,<span class="st">&quot;64&quot;</span>,<span class="st">&quot;65&quot;</span>,<span class="st">&quot;66&quot;</span>,<span class="st">&quot;67&quot;</span>,<span class="st">&quot;69&quot;</span>) <span class="co"># 20</span></span>
<span id="cb57-29"><a href="Chapter3.html#cb57-29" tabindex="-1"></a>mvr<span class="ot">=</span>mvr <span class="sc">%&gt;%</span> </span>
<span id="cb57-30"><a href="Chapter3.html#cb57-30" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">kraja_skujkoku=</span><span class="fu">ifelse</span>(s10 <span class="sc">%in%</span> skujkoki,v10,<span class="dv">0</span>)<span class="sc">+</span></span>
<span id="cb57-31"><a href="Chapter3.html#cb57-31" tabindex="-1"></a>           <span class="fu">ifelse</span>(s11 <span class="sc">%in%</span> skujkoki,v11,<span class="dv">0</span>)<span class="sc">+</span><span class="fu">ifelse</span>(s12 <span class="sc">%in%</span> skujkoki,v12,<span class="dv">0</span>)<span class="sc">+</span></span>
<span id="cb57-32"><a href="Chapter3.html#cb57-32" tabindex="-1"></a>           <span class="fu">ifelse</span>(s13 <span class="sc">%in%</span> skujkoki,v13,<span class="dv">0</span>)<span class="sc">+</span><span class="fu">ifelse</span>(s14 <span class="sc">%in%</span> skujkoki,v14,<span class="dv">0</span>),</span>
<span id="cb57-33"><a href="Chapter3.html#cb57-33" tabindex="-1"></a>         <span class="at">kraja_saurlapju=</span><span class="fu">ifelse</span>(s10 <span class="sc">%in%</span> saurlapji,v10,<span class="dv">0</span>)<span class="sc">+</span></span>
<span id="cb57-34"><a href="Chapter3.html#cb57-34" tabindex="-1"></a>           <span class="fu">ifelse</span>(s11 <span class="sc">%in%</span> saurlapji,v11,<span class="dv">0</span>)<span class="sc">+</span><span class="fu">ifelse</span>(s12 <span class="sc">%in%</span> saurlapji,v12,<span class="dv">0</span>)<span class="sc">+</span></span>
<span id="cb57-35"><a href="Chapter3.html#cb57-35" tabindex="-1"></a>           <span class="fu">ifelse</span>(s13 <span class="sc">%in%</span> saurlapji,v13,<span class="dv">0</span>)<span class="sc">+</span><span class="fu">ifelse</span>(s14 <span class="sc">%in%</span> saurlapji,v14,<span class="dv">0</span>),</span>
<span id="cb57-36"><a href="Chapter3.html#cb57-36" tabindex="-1"></a>         <span class="at">kraja_platlapju=</span><span class="fu">ifelse</span>(s10 <span class="sc">%in%</span> platlapji,v10,<span class="dv">0</span>)<span class="sc">+</span></span>
<span id="cb57-37"><a href="Chapter3.html#cb57-37" tabindex="-1"></a>           <span class="fu">ifelse</span>(s11 <span class="sc">%in%</span> platlapji,v11,<span class="dv">0</span>)<span class="sc">+</span><span class="fu">ifelse</span>(s12 <span class="sc">%in%</span> platlapji,v12,<span class="dv">0</span>)<span class="sc">+</span></span>
<span id="cb57-38"><a href="Chapter3.html#cb57-38" tabindex="-1"></a>           <span class="fu">ifelse</span>(s13 <span class="sc">%in%</span> platlapji,v13,<span class="dv">0</span>)<span class="sc">+</span><span class="fu">ifelse</span>(s14 <span class="sc">%in%</span> platlapji,v14,<span class="dv">0</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb57-39"><a href="Chapter3.html#cb57-39" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">kopeja_kraja=</span>kraja_skujkoku<span class="sc">+</span>kraja_platlapju<span class="sc">+</span>kraja_saurlapju) <span class="sc">%&gt;%</span> </span>
<span id="cb57-40"><a href="Chapter3.html#cb57-40" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">tips=</span><span class="fu">ifelse</span>(kraja_skujkoku<span class="sc">/</span>kopeja_kraja<span class="sc">&gt;=</span><span class="fl">0.75</span>,<span class="st">&quot;skujkoku&quot;</span>,</span>
<span id="cb57-41"><a href="Chapter3.html#cb57-41" tabindex="-1"></a>                     <span class="fu">ifelse</span>(kraja_saurlapju<span class="sc">/</span>kopeja_kraja<span class="sc">&gt;=</span><span class="fl">0.75</span>,<span class="st">&quot;saurlapju&quot;</span>,</span>
<span id="cb57-42"><a href="Chapter3.html#cb57-42" tabindex="-1"></a>                            <span class="fu">ifelse</span>(kraja_platlapju<span class="sc">/</span>kopeja_kraja<span class="sc">&gt;</span><span class="fl">0.5</span>,<span class="st">&quot;platlapju&quot;</span>,</span>
<span id="cb57-43"><a href="Chapter3.html#cb57-43" tabindex="-1"></a>                                   <span class="st">&quot;jauktu koku&quot;</span>))))</span>
<span id="cb57-44"><a href="Chapter3.html#cb57-44" tabindex="-1"></a><span class="co"># Šaurlapju</span></span>
<span id="cb57-45"><a href="Chapter3.html#cb57-45" tabindex="-1"></a>nogabali<span class="ot">=</span>mvr <span class="sc">%&gt;%</span> </span>
<span id="cb57-46"><a href="Chapter3.html#cb57-46" tabindex="-1"></a>  <span class="fu">filter</span>(zkat<span class="sc">==</span><span class="st">&quot;10&quot;</span><span class="sc">&amp;</span>tips<span class="sc">==</span><span class="st">&quot;saurlapju&quot;</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb57-47"><a href="Chapter3.html#cb57-47" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">yes=</span><span class="dv">672</span>) <span class="co"># 1298549</span></span>
<span id="cb57-48"><a href="Chapter3.html#cb57-48" tabindex="-1"></a>rastrs_mvr<span class="ot">=</span>fasterize<span class="sc">::</span><span class="fu">fasterize</span>(nogabali,template_r,<span class="at">field=</span><span class="st">&quot;yes&quot;</span>)</span>
<span id="cb57-49"><a href="Chapter3.html#cb57-49" tabindex="-1"></a>rastrs_mvr<span class="ot">=</span><span class="fu">rast</span>(rastrs_mvr)</span>
<span id="cb57-50"><a href="Chapter3.html#cb57-50" tabindex="-1"></a></span>
<span id="cb57-51"><a href="Chapter3.html#cb57-51" tabindex="-1"></a>pirmsmaskas_rastrs<span class="ot">=</span><span class="fu">ifel</span>(<span class="sc">!</span><span class="fu">is.na</span>(rastrs_mvr)<span class="sc">&amp;</span>maska_meziem<span class="sc">==</span><span class="dv">1</span>,<span class="dv">672</span>,<span class="dv">0</span>)</span>
<span id="cb57-52"><a href="Chapter3.html#cb57-52" tabindex="-1"></a>aizpildits<span class="ot">=</span>terra<span class="sc">::</span><span class="fu">cover</span>(pirmsmaskas_rastrs,nulles)</span>
<span id="cb57-53"><a href="Chapter3.html#cb57-53" tabindex="-1"></a>pecmaskas_rastrs<span class="ot">=</span><span class="fu">mask</span>(aizpildits,template_t,</span>
<span id="cb57-54"><a href="Chapter3.html#cb57-54" tabindex="-1"></a>                      <span class="at">filename=</span><span class="st">&quot;./Rastri_10m/Mezi_Saurlapju.tif&quot;</span>,</span>
<span id="cb57-55"><a href="Chapter3.html#cb57-55" tabindex="-1"></a>                      <span class="at">overwrite=</span><span class="cn">TRUE</span>)</span></code></pre></div>
</details>
<p><br></p>
</div>
<div id="Chapter3.2.2.2.14" class="section level5 hasAnchor" number="3.2.2.2.14">
<h5><span class="header-section-number">3.2.2.2.14</span> Platlapju<a href="Chapter3.html#Chapter3.2.2.2.14" class="anchor-section" aria-label="Anchor link to header"></a></h5>
<p>Rastrs ar šūnas izmēru 10 m un segumu visai Latvijas teritorijai.</p>
<ul>
<li><p>Vērtība <code>673</code> apzīmē šūnas, kurās <a href="Chapter3.html#Chapter3.2.2">vienkāršās ainavas maskā</a> ir
reģistrētas klases diapazonā no <code>600</code> līdz <code>700</code> un <a href="https://www.vmd.gov.lv/lv/meza-valsts-registra-meza-inventarizacijas-failu-struktura">Meža valsts reģistra Meža inventarizācijas failā</a> laukā <code>zkat</code> norādītas vērtības “10” <strong>un</strong> kokaudzes pirmajā stāvā platlapju sugu
(s1* apzīmējumi: “10”,“11”,“12”,“16”,“17”,“18”,“24”,“25”,“26”,“27”,“28”,“29”,
“61”,“62”,“63”,“64”,“65”,“66”,“67”,“69”) krāja veido
vismaz 50% no kopējās krājas, pēc secīgas <a href="Chapter3.html#Chapter3.2.2.2.12">Skujkoku</a> un
<a href="Chapter3.html#Chapter3.2.2.2.13">Šaurlapju</a> kritēriju pielietošanas;</p></li>
<li><p>Vērtība <code>0</code> - pārējās Latvijas teritorijā esošās šūnas.</p></li>
</ul>
<p>Zemāk esošās komandu rindas izveido failu <code>Mezi_Platlapju.tif</code>.</p>
<details class=chunk-details><summary class=chunk-summary><span class=chunk-summary-text>Code</span></summary>
<div class="sourceCode" id="cb58"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb58-1"><a href="Chapter3.html#cb58-1" tabindex="-1"></a><span class="co"># Libs</span></span>
<span id="cb58-2"><a href="Chapter3.html#cb58-2" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(tidyverse)) {<span class="fu">install.packages</span>(<span class="st">&quot;tidyverse&quot;</span>); <span class="fu">require</span>(tidyverse)}</span>
<span id="cb58-3"><a href="Chapter3.html#cb58-3" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(sf)) {<span class="fu">install.packages</span>(<span class="st">&quot;sf&quot;</span>); <span class="fu">require</span>(sf)}</span>
<span id="cb58-4"><a href="Chapter3.html#cb58-4" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(arrow)) {<span class="fu">install.packages</span>(<span class="st">&quot;arrow&quot;</span>); <span class="fu">require</span>(arrow)}</span>
<span id="cb58-5"><a href="Chapter3.html#cb58-5" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(sfarrow)) {<span class="fu">install.packages</span>(<span class="st">&quot;sfarrow&quot;</span>); <span class="fu">require</span>(sfarrow)}</span>
<span id="cb58-6"><a href="Chapter3.html#cb58-6" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(terra)) {<span class="fu">install.packages</span>(<span class="st">&quot;terra&quot;</span>); <span class="fu">require</span>(terra)}</span>
<span id="cb58-7"><a href="Chapter3.html#cb58-7" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(raster)) {<span class="fu">install.packages</span>(<span class="st">&quot;raster&quot;</span>); <span class="fu">require</span>(raster)}</span>
<span id="cb58-8"><a href="Chapter3.html#cb58-8" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(fasterize)) {<span class="fu">install.packages</span>(<span class="st">&quot;fasterize&quot;</span>); <span class="fu">require</span>(fasterize)}</span>
<span id="cb58-9"><a href="Chapter3.html#cb58-9" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(readxl)) {<span class="fu">install.packages</span>(<span class="st">&quot;readxl&quot;</span>); <span class="fu">require</span>(readxl)}</span>
<span id="cb58-10"><a href="Chapter3.html#cb58-10" tabindex="-1"></a></span>
<span id="cb58-11"><a href="Chapter3.html#cb58-11" tabindex="-1"></a><span class="co"># templates</span></span>
<span id="cb58-12"><a href="Chapter3.html#cb58-12" tabindex="-1"></a>template_t<span class="ot">=</span><span class="fu">rast</span>(<span class="st">&quot;./Templates/TemplateRasters/LV10m_10km.tif&quot;</span>)</span>
<span id="cb58-13"><a href="Chapter3.html#cb58-13" tabindex="-1"></a>template_r<span class="ot">=</span><span class="fu">raster</span>(template_t)</span>
<span id="cb58-14"><a href="Chapter3.html#cb58-14" tabindex="-1"></a></span>
<span id="cb58-15"><a href="Chapter3.html#cb58-15" tabindex="-1"></a>nulles<span class="ot">=</span>terra<span class="sc">::</span><span class="fu">subst</span>(template_t,<span class="at">from=</span><span class="dv">1</span>,<span class="at">to=</span><span class="dv">0</span>)</span>
<span id="cb58-16"><a href="Chapter3.html#cb58-16" tabindex="-1"></a></span>
<span id="cb58-17"><a href="Chapter3.html#cb58-17" tabindex="-1"></a><span class="co"># vienkāršā ainava</span></span>
<span id="cb58-18"><a href="Chapter3.html#cb58-18" tabindex="-1"></a>ainava_t<span class="ot">=</span><span class="fu">rast</span>(<span class="st">&quot;./Rastri_10m/Ainava_vienk_mask.tif&quot;</span>)</span>
<span id="cb58-19"><a href="Chapter3.html#cb58-19" tabindex="-1"></a>ainava_r<span class="ot">=</span><span class="fu">raster</span>(ainava_t)</span>
<span id="cb58-20"><a href="Chapter3.html#cb58-20" tabindex="-1"></a>maska_meziem<span class="ot">=</span><span class="fu">ifel</span>(ainava_t<span class="sc">&gt;</span><span class="dv">600</span><span class="sc">&amp;</span>ainava_t<span class="sc">&lt;</span><span class="dv">700</span>,<span class="dv">1</span>,<span class="cn">NA</span>)</span>
<span id="cb58-21"><a href="Chapter3.html#cb58-21" tabindex="-1"></a></span>
<span id="cb58-22"><a href="Chapter3.html#cb58-22" tabindex="-1"></a><span class="co"># meži</span></span>
<span id="cb58-23"><a href="Chapter3.html#cb58-23" tabindex="-1"></a>mvr<span class="ot">=</span><span class="fu">st_read_parquet</span>(<span class="st">&quot;./IevadesDati/MVR/nogabali_2024janv.parquet&quot;</span>)</span>
<span id="cb58-24"><a href="Chapter3.html#cb58-24" tabindex="-1"></a>mvr<span class="sc">$</span>yes<span class="ot">=</span><span class="dv">1</span></span>
<span id="cb58-25"><a href="Chapter3.html#cb58-25" tabindex="-1"></a>skujkoki<span class="ot">=</span><span class="fu">c</span>(<span class="st">&quot;1&quot;</span>,<span class="st">&quot;3&quot;</span>,<span class="st">&quot;13&quot;</span>,<span class="st">&quot;14&quot;</span>,<span class="st">&quot;15&quot;</span>,<span class="st">&quot;22&quot;</span>,<span class="st">&quot;23&quot;</span>) <span class="co"># 7</span></span>
<span id="cb58-26"><a href="Chapter3.html#cb58-26" tabindex="-1"></a>saurlapji<span class="ot">=</span><span class="fu">c</span>(<span class="st">&quot;4&quot;</span>,<span class="st">&quot;6&quot;</span>,<span class="st">&quot;8&quot;</span>,<span class="st">&quot;9&quot;</span>,<span class="st">&quot;19&quot;</span>,<span class="st">&quot;20&quot;</span>,<span class="st">&quot;21&quot;</span>,<span class="st">&quot;32&quot;</span>,<span class="st">&quot;35&quot;</span>,<span class="st">&quot;50&quot;</span>,<span class="st">&quot;68&quot;</span>) <span class="co"># 11</span></span>
<span id="cb58-27"><a href="Chapter3.html#cb58-27" tabindex="-1"></a>platlapji<span class="ot">=</span><span class="fu">c</span>(<span class="st">&quot;10&quot;</span>,<span class="st">&quot;11&quot;</span>,<span class="st">&quot;12&quot;</span>,<span class="st">&quot;16&quot;</span>,<span class="st">&quot;17&quot;</span>,<span class="st">&quot;18&quot;</span>,<span class="st">&quot;24&quot;</span>,<span class="st">&quot;25&quot;</span>,<span class="st">&quot;26&quot;</span>,<span class="st">&quot;27&quot;</span>,<span class="st">&quot;28&quot;</span>,<span class="st">&quot;29&quot;</span>,</span>
<span id="cb58-28"><a href="Chapter3.html#cb58-28" tabindex="-1"></a>            <span class="st">&quot;61&quot;</span>,<span class="st">&quot;62&quot;</span>,<span class="st">&quot;63&quot;</span>,<span class="st">&quot;64&quot;</span>,<span class="st">&quot;65&quot;</span>,<span class="st">&quot;66&quot;</span>,<span class="st">&quot;67&quot;</span>,<span class="st">&quot;69&quot;</span>) <span class="co"># 20</span></span>
<span id="cb58-29"><a href="Chapter3.html#cb58-29" tabindex="-1"></a>mvr<span class="ot">=</span>mvr <span class="sc">%&gt;%</span> </span>
<span id="cb58-30"><a href="Chapter3.html#cb58-30" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">kraja_skujkoku=</span><span class="fu">ifelse</span>(s10 <span class="sc">%in%</span> skujkoki,v10,<span class="dv">0</span>)<span class="sc">+</span></span>
<span id="cb58-31"><a href="Chapter3.html#cb58-31" tabindex="-1"></a>           <span class="fu">ifelse</span>(s11 <span class="sc">%in%</span> skujkoki,v11,<span class="dv">0</span>)<span class="sc">+</span><span class="fu">ifelse</span>(s12 <span class="sc">%in%</span> skujkoki,v12,<span class="dv">0</span>)<span class="sc">+</span></span>
<span id="cb58-32"><a href="Chapter3.html#cb58-32" tabindex="-1"></a>           <span class="fu">ifelse</span>(s13 <span class="sc">%in%</span> skujkoki,v13,<span class="dv">0</span>)<span class="sc">+</span><span class="fu">ifelse</span>(s14 <span class="sc">%in%</span> skujkoki,v14,<span class="dv">0</span>),</span>
<span id="cb58-33"><a href="Chapter3.html#cb58-33" tabindex="-1"></a>         <span class="at">kraja_saurlapju=</span><span class="fu">ifelse</span>(s10 <span class="sc">%in%</span> saurlapji,v10,<span class="dv">0</span>)<span class="sc">+</span></span>
<span id="cb58-34"><a href="Chapter3.html#cb58-34" tabindex="-1"></a>           <span class="fu">ifelse</span>(s11 <span class="sc">%in%</span> saurlapji,v11,<span class="dv">0</span>)<span class="sc">+</span><span class="fu">ifelse</span>(s12 <span class="sc">%in%</span> saurlapji,v12,<span class="dv">0</span>)<span class="sc">+</span></span>
<span id="cb58-35"><a href="Chapter3.html#cb58-35" tabindex="-1"></a>           <span class="fu">ifelse</span>(s13 <span class="sc">%in%</span> saurlapji,v13,<span class="dv">0</span>)<span class="sc">+</span><span class="fu">ifelse</span>(s14 <span class="sc">%in%</span> saurlapji,v14,<span class="dv">0</span>),</span>
<span id="cb58-36"><a href="Chapter3.html#cb58-36" tabindex="-1"></a>         <span class="at">kraja_platlapju=</span><span class="fu">ifelse</span>(s10 <span class="sc">%in%</span> platlapji,v10,<span class="dv">0</span>)<span class="sc">+</span></span>
<span id="cb58-37"><a href="Chapter3.html#cb58-37" tabindex="-1"></a>           <span class="fu">ifelse</span>(s11 <span class="sc">%in%</span> platlapji,v11,<span class="dv">0</span>)<span class="sc">+</span><span class="fu">ifelse</span>(s12 <span class="sc">%in%</span> platlapji,v12,<span class="dv">0</span>)<span class="sc">+</span></span>
<span id="cb58-38"><a href="Chapter3.html#cb58-38" tabindex="-1"></a>           <span class="fu">ifelse</span>(s13 <span class="sc">%in%</span> platlapji,v13,<span class="dv">0</span>)<span class="sc">+</span><span class="fu">ifelse</span>(s14 <span class="sc">%in%</span> platlapji,v14,<span class="dv">0</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb58-39"><a href="Chapter3.html#cb58-39" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">kopeja_kraja=</span>kraja_skujkoku<span class="sc">+</span>kraja_platlapju<span class="sc">+</span>kraja_saurlapju) <span class="sc">%&gt;%</span> </span>
<span id="cb58-40"><a href="Chapter3.html#cb58-40" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">tips=</span><span class="fu">ifelse</span>(kraja_skujkoku<span class="sc">/</span>kopeja_kraja<span class="sc">&gt;=</span><span class="fl">0.75</span>,<span class="st">&quot;skujkoku&quot;</span>,</span>
<span id="cb58-41"><a href="Chapter3.html#cb58-41" tabindex="-1"></a>                     <span class="fu">ifelse</span>(kraja_saurlapju<span class="sc">/</span>kopeja_kraja<span class="sc">&gt;=</span><span class="fl">0.75</span>,<span class="st">&quot;saurlapju&quot;</span>,</span>
<span id="cb58-42"><a href="Chapter3.html#cb58-42" tabindex="-1"></a>                            <span class="fu">ifelse</span>(kraja_platlapju<span class="sc">/</span>kopeja_kraja<span class="sc">&gt;</span><span class="fl">0.5</span>,<span class="st">&quot;platlapju&quot;</span>,</span>
<span id="cb58-43"><a href="Chapter3.html#cb58-43" tabindex="-1"></a>                                   <span class="st">&quot;jauktu koku&quot;</span>))))</span>
<span id="cb58-44"><a href="Chapter3.html#cb58-44" tabindex="-1"></a><span class="co"># Platlapju</span></span>
<span id="cb58-45"><a href="Chapter3.html#cb58-45" tabindex="-1"></a>nogabali<span class="ot">=</span>mvr <span class="sc">%&gt;%</span> </span>
<span id="cb58-46"><a href="Chapter3.html#cb58-46" tabindex="-1"></a>  <span class="fu">filter</span>(zkat<span class="sc">==</span><span class="st">&quot;10&quot;</span><span class="sc">&amp;</span>tips<span class="sc">==</span><span class="st">&quot;platlapju&quot;</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb58-47"><a href="Chapter3.html#cb58-47" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">yes=</span><span class="dv">673</span>) <span class="co"># 28814</span></span>
<span id="cb58-48"><a href="Chapter3.html#cb58-48" tabindex="-1"></a>rastrs_mvr<span class="ot">=</span>fasterize<span class="sc">::</span><span class="fu">fasterize</span>(nogabali,template_r,<span class="at">field=</span><span class="st">&quot;yes&quot;</span>)</span>
<span id="cb58-49"><a href="Chapter3.html#cb58-49" tabindex="-1"></a>rastrs_mvr<span class="ot">=</span><span class="fu">rast</span>(rastrs_mvr)</span>
<span id="cb58-50"><a href="Chapter3.html#cb58-50" tabindex="-1"></a></span>
<span id="cb58-51"><a href="Chapter3.html#cb58-51" tabindex="-1"></a>pirmsmaskas_rastrs<span class="ot">=</span><span class="fu">ifel</span>(<span class="sc">!</span><span class="fu">is.na</span>(rastrs_mvr)<span class="sc">&amp;</span>maska_meziem<span class="sc">==</span><span class="dv">1</span>,<span class="dv">673</span>,<span class="dv">0</span>)</span>
<span id="cb58-52"><a href="Chapter3.html#cb58-52" tabindex="-1"></a>aizpildits<span class="ot">=</span>terra<span class="sc">::</span><span class="fu">cover</span>(pirmsmaskas_rastrs,nulles)</span>
<span id="cb58-53"><a href="Chapter3.html#cb58-53" tabindex="-1"></a>pecmaskas_rastrs<span class="ot">=</span><span class="fu">mask</span>(aizpildits,template_t,</span>
<span id="cb58-54"><a href="Chapter3.html#cb58-54" tabindex="-1"></a>                      <span class="at">filename=</span><span class="st">&quot;./Rastri_10m/Mezi_Platlapju.tif&quot;</span>,</span>
<span id="cb58-55"><a href="Chapter3.html#cb58-55" tabindex="-1"></a>                      <span class="at">overwrite=</span><span class="cn">TRUE</span>)</span></code></pre></div>
</details>
<p><br></p>
</div>
<div id="Chapter3.2.2.2.15" class="section level5 hasAnchor" number="3.2.2.2.15">
<h5><span class="header-section-number">3.2.2.2.15</span> Jauktu koku<a href="Chapter3.html#Chapter3.2.2.2.15" class="anchor-section" aria-label="Anchor link to header"></a></h5>
<p>Rastrs ar šūnas izmēru 10 m un segumu visai Latvijas teritorijai.</p>
<ul>
<li><p>Vērtība <code>674</code> apzīmē šūnas, kurās <a href="Chapter3.html#Chapter3.2.2">vienkāršās ainavas maskā</a> ir
reģistrētas klases diapazonā no <code>600</code> līdz <code>700</code> un <a href="https://www.vmd.gov.lv/lv/meza-valsts-registra-meza-inventarizacijas-failu-struktura">Meža valsts reģistra Meža inventarizācijas failā</a> laukā <code>zkat</code> norādītas vērtības “10” <strong>un</strong> kokaudzes pirmā stāva krājas klasifikācija neatbilst secīgai
<a href="Chapter3.html#Chapter3.2.2.2.12">Skujkoku</a>,
<a href="Chapter3.html#Chapter3.2.2.2.13">Šaurlapju</a> un <a href="Chapter3.html#Chapter3.2.2.2.14">Platlapju</a> kritēriju pielietošanai;</p></li>
<li><p>Vērtība <code>0</code> - pārējās Latvijas teritorijā esošās šūnas.</p></li>
</ul>
<p>Zemāk esošās komandu rindas izveido failu <code>Mezi_Jauktukoku.tif</code>.</p>
<details class=chunk-details><summary class=chunk-summary><span class=chunk-summary-text>Code</span></summary>
<div class="sourceCode" id="cb59"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb59-1"><a href="Chapter3.html#cb59-1" tabindex="-1"></a><span class="co"># Libs</span></span>
<span id="cb59-2"><a href="Chapter3.html#cb59-2" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(tidyverse)) {<span class="fu">install.packages</span>(<span class="st">&quot;tidyverse&quot;</span>); <span class="fu">require</span>(tidyverse)}</span>
<span id="cb59-3"><a href="Chapter3.html#cb59-3" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(sf)) {<span class="fu">install.packages</span>(<span class="st">&quot;sf&quot;</span>); <span class="fu">require</span>(sf)}</span>
<span id="cb59-4"><a href="Chapter3.html#cb59-4" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(arrow)) {<span class="fu">install.packages</span>(<span class="st">&quot;arrow&quot;</span>); <span class="fu">require</span>(arrow)}</span>
<span id="cb59-5"><a href="Chapter3.html#cb59-5" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(sfarrow)) {<span class="fu">install.packages</span>(<span class="st">&quot;sfarrow&quot;</span>); <span class="fu">require</span>(sfarrow)}</span>
<span id="cb59-6"><a href="Chapter3.html#cb59-6" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(terra)) {<span class="fu">install.packages</span>(<span class="st">&quot;terra&quot;</span>); <span class="fu">require</span>(terra)}</span>
<span id="cb59-7"><a href="Chapter3.html#cb59-7" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(raster)) {<span class="fu">install.packages</span>(<span class="st">&quot;raster&quot;</span>); <span class="fu">require</span>(raster)}</span>
<span id="cb59-8"><a href="Chapter3.html#cb59-8" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(fasterize)) {<span class="fu">install.packages</span>(<span class="st">&quot;fasterize&quot;</span>); <span class="fu">require</span>(fasterize)}</span>
<span id="cb59-9"><a href="Chapter3.html#cb59-9" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(readxl)) {<span class="fu">install.packages</span>(<span class="st">&quot;readxl&quot;</span>); <span class="fu">require</span>(readxl)}</span>
<span id="cb59-10"><a href="Chapter3.html#cb59-10" tabindex="-1"></a></span>
<span id="cb59-11"><a href="Chapter3.html#cb59-11" tabindex="-1"></a><span class="co"># templates</span></span>
<span id="cb59-12"><a href="Chapter3.html#cb59-12" tabindex="-1"></a>template_t<span class="ot">=</span><span class="fu">rast</span>(<span class="st">&quot;./Templates/TemplateRasters/LV10m_10km.tif&quot;</span>)</span>
<span id="cb59-13"><a href="Chapter3.html#cb59-13" tabindex="-1"></a>template_r<span class="ot">=</span><span class="fu">raster</span>(template_t)</span>
<span id="cb59-14"><a href="Chapter3.html#cb59-14" tabindex="-1"></a></span>
<span id="cb59-15"><a href="Chapter3.html#cb59-15" tabindex="-1"></a>nulles<span class="ot">=</span>terra<span class="sc">::</span><span class="fu">subst</span>(template_t,<span class="at">from=</span><span class="dv">1</span>,<span class="at">to=</span><span class="dv">0</span>)</span>
<span id="cb59-16"><a href="Chapter3.html#cb59-16" tabindex="-1"></a></span>
<span id="cb59-17"><a href="Chapter3.html#cb59-17" tabindex="-1"></a><span class="co"># vienkāršā ainava</span></span>
<span id="cb59-18"><a href="Chapter3.html#cb59-18" tabindex="-1"></a>ainava_t<span class="ot">=</span><span class="fu">rast</span>(<span class="st">&quot;./Rastri_10m/Ainava_vienk_mask.tif&quot;</span>)</span>
<span id="cb59-19"><a href="Chapter3.html#cb59-19" tabindex="-1"></a>ainava_r<span class="ot">=</span><span class="fu">raster</span>(ainava_t)</span>
<span id="cb59-20"><a href="Chapter3.html#cb59-20" tabindex="-1"></a>maska_meziem<span class="ot">=</span><span class="fu">ifel</span>(ainava_t<span class="sc">&gt;</span><span class="dv">600</span><span class="sc">&amp;</span>ainava_t<span class="sc">&lt;</span><span class="dv">700</span>,<span class="dv">1</span>,<span class="cn">NA</span>)</span>
<span id="cb59-21"><a href="Chapter3.html#cb59-21" tabindex="-1"></a></span>
<span id="cb59-22"><a href="Chapter3.html#cb59-22" tabindex="-1"></a></span>
<span id="cb59-23"><a href="Chapter3.html#cb59-23" tabindex="-1"></a><span class="co"># meži</span></span>
<span id="cb59-24"><a href="Chapter3.html#cb59-24" tabindex="-1"></a>mvr<span class="ot">=</span><span class="fu">st_read_parquet</span>(<span class="st">&quot;./IevadesDati/MVR/nogabali_2024janv.parquet&quot;</span>)</span>
<span id="cb59-25"><a href="Chapter3.html#cb59-25" tabindex="-1"></a>mvr<span class="sc">$</span>yes<span class="ot">=</span><span class="dv">1</span></span>
<span id="cb59-26"><a href="Chapter3.html#cb59-26" tabindex="-1"></a>skujkoki<span class="ot">=</span><span class="fu">c</span>(<span class="st">&quot;1&quot;</span>,<span class="st">&quot;3&quot;</span>,<span class="st">&quot;13&quot;</span>,<span class="st">&quot;14&quot;</span>,<span class="st">&quot;15&quot;</span>,<span class="st">&quot;22&quot;</span>,<span class="st">&quot;23&quot;</span>) <span class="co"># 7</span></span>
<span id="cb59-27"><a href="Chapter3.html#cb59-27" tabindex="-1"></a>saurlapji<span class="ot">=</span><span class="fu">c</span>(<span class="st">&quot;4&quot;</span>,<span class="st">&quot;6&quot;</span>,<span class="st">&quot;8&quot;</span>,<span class="st">&quot;9&quot;</span>,<span class="st">&quot;19&quot;</span>,<span class="st">&quot;20&quot;</span>,<span class="st">&quot;21&quot;</span>,<span class="st">&quot;32&quot;</span>,<span class="st">&quot;35&quot;</span>,<span class="st">&quot;50&quot;</span>,<span class="st">&quot;68&quot;</span>) <span class="co"># 11</span></span>
<span id="cb59-28"><a href="Chapter3.html#cb59-28" tabindex="-1"></a>platlapji<span class="ot">=</span><span class="fu">c</span>(<span class="st">&quot;10&quot;</span>,<span class="st">&quot;11&quot;</span>,<span class="st">&quot;12&quot;</span>,<span class="st">&quot;16&quot;</span>,<span class="st">&quot;17&quot;</span>,<span class="st">&quot;18&quot;</span>,<span class="st">&quot;24&quot;</span>,<span class="st">&quot;25&quot;</span>,<span class="st">&quot;26&quot;</span>,<span class="st">&quot;27&quot;</span>,<span class="st">&quot;28&quot;</span>,<span class="st">&quot;29&quot;</span>,</span>
<span id="cb59-29"><a href="Chapter3.html#cb59-29" tabindex="-1"></a>            <span class="st">&quot;61&quot;</span>,<span class="st">&quot;62&quot;</span>,<span class="st">&quot;63&quot;</span>,<span class="st">&quot;64&quot;</span>,<span class="st">&quot;65&quot;</span>,<span class="st">&quot;66&quot;</span>,<span class="st">&quot;67&quot;</span>,<span class="st">&quot;69&quot;</span>) <span class="co"># 20</span></span>
<span id="cb59-30"><a href="Chapter3.html#cb59-30" tabindex="-1"></a>mvr<span class="ot">=</span>mvr <span class="sc">%&gt;%</span> </span>
<span id="cb59-31"><a href="Chapter3.html#cb59-31" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">kraja_skujkoku=</span><span class="fu">ifelse</span>(s10 <span class="sc">%in%</span> skujkoki,v10,<span class="dv">0</span>)<span class="sc">+</span></span>
<span id="cb59-32"><a href="Chapter3.html#cb59-32" tabindex="-1"></a>           <span class="fu">ifelse</span>(s11 <span class="sc">%in%</span> skujkoki,v11,<span class="dv">0</span>)<span class="sc">+</span><span class="fu">ifelse</span>(s12 <span class="sc">%in%</span> skujkoki,v12,<span class="dv">0</span>)<span class="sc">+</span></span>
<span id="cb59-33"><a href="Chapter3.html#cb59-33" tabindex="-1"></a>           <span class="fu">ifelse</span>(s13 <span class="sc">%in%</span> skujkoki,v13,<span class="dv">0</span>)<span class="sc">+</span><span class="fu">ifelse</span>(s14 <span class="sc">%in%</span> skujkoki,v14,<span class="dv">0</span>),</span>
<span id="cb59-34"><a href="Chapter3.html#cb59-34" tabindex="-1"></a>         <span class="at">kraja_saurlapju=</span><span class="fu">ifelse</span>(s10 <span class="sc">%in%</span> saurlapji,v10,<span class="dv">0</span>)<span class="sc">+</span></span>
<span id="cb59-35"><a href="Chapter3.html#cb59-35" tabindex="-1"></a>           <span class="fu">ifelse</span>(s11 <span class="sc">%in%</span> saurlapji,v11,<span class="dv">0</span>)<span class="sc">+</span><span class="fu">ifelse</span>(s12 <span class="sc">%in%</span> saurlapji,v12,<span class="dv">0</span>)<span class="sc">+</span></span>
<span id="cb59-36"><a href="Chapter3.html#cb59-36" tabindex="-1"></a>           <span class="fu">ifelse</span>(s13 <span class="sc">%in%</span> saurlapji,v13,<span class="dv">0</span>)<span class="sc">+</span><span class="fu">ifelse</span>(s14 <span class="sc">%in%</span> saurlapji,v14,<span class="dv">0</span>),</span>
<span id="cb59-37"><a href="Chapter3.html#cb59-37" tabindex="-1"></a>         <span class="at">kraja_platlapju=</span><span class="fu">ifelse</span>(s10 <span class="sc">%in%</span> platlapji,v10,<span class="dv">0</span>)<span class="sc">+</span></span>
<span id="cb59-38"><a href="Chapter3.html#cb59-38" tabindex="-1"></a>           <span class="fu">ifelse</span>(s11 <span class="sc">%in%</span> platlapji,v11,<span class="dv">0</span>)<span class="sc">+</span><span class="fu">ifelse</span>(s12 <span class="sc">%in%</span> platlapji,v12,<span class="dv">0</span>)<span class="sc">+</span></span>
<span id="cb59-39"><a href="Chapter3.html#cb59-39" tabindex="-1"></a>           <span class="fu">ifelse</span>(s13 <span class="sc">%in%</span> platlapji,v13,<span class="dv">0</span>)<span class="sc">+</span><span class="fu">ifelse</span>(s14 <span class="sc">%in%</span> platlapji,v14,<span class="dv">0</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb59-40"><a href="Chapter3.html#cb59-40" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">kopeja_kraja=</span>kraja_skujkoku<span class="sc">+</span>kraja_platlapju<span class="sc">+</span>kraja_saurlapju) <span class="sc">%&gt;%</span> </span>
<span id="cb59-41"><a href="Chapter3.html#cb59-41" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">tips=</span><span class="fu">ifelse</span>(kraja_skujkoku<span class="sc">/</span>kopeja_kraja<span class="sc">&gt;=</span><span class="fl">0.75</span>,<span class="st">&quot;skujkoku&quot;</span>,</span>
<span id="cb59-42"><a href="Chapter3.html#cb59-42" tabindex="-1"></a>                     <span class="fu">ifelse</span>(kraja_saurlapju<span class="sc">/</span>kopeja_kraja<span class="sc">&gt;=</span><span class="fl">0.75</span>,<span class="st">&quot;saurlapju&quot;</span>,</span>
<span id="cb59-43"><a href="Chapter3.html#cb59-43" tabindex="-1"></a>                            <span class="fu">ifelse</span>(kraja_platlapju<span class="sc">/</span>kopeja_kraja<span class="sc">&gt;</span><span class="fl">0.5</span>,<span class="st">&quot;platlapju&quot;</span>,</span>
<span id="cb59-44"><a href="Chapter3.html#cb59-44" tabindex="-1"></a>                                   <span class="st">&quot;jauktu koku&quot;</span>))))</span>
<span id="cb59-45"><a href="Chapter3.html#cb59-45" tabindex="-1"></a><span class="co"># Jauktu koku</span></span>
<span id="cb59-46"><a href="Chapter3.html#cb59-46" tabindex="-1"></a>nogabali<span class="ot">=</span>mvr <span class="sc">%&gt;%</span> </span>
<span id="cb59-47"><a href="Chapter3.html#cb59-47" tabindex="-1"></a>  <span class="fu">filter</span>(zkat<span class="sc">==</span><span class="st">&quot;10&quot;</span><span class="sc">&amp;</span>tips<span class="sc">==</span><span class="st">&quot;jauktu koku&quot;</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb59-48"><a href="Chapter3.html#cb59-48" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">yes=</span><span class="dv">674</span>) <span class="co"># 451964</span></span>
<span id="cb59-49"><a href="Chapter3.html#cb59-49" tabindex="-1"></a>rastrs_mvr<span class="ot">=</span>fasterize<span class="sc">::</span><span class="fu">fasterize</span>(nogabali,template_r,<span class="at">field=</span><span class="st">&quot;yes&quot;</span>)</span>
<span id="cb59-50"><a href="Chapter3.html#cb59-50" tabindex="-1"></a>rastrs_mvr<span class="ot">=</span><span class="fu">rast</span>(rastrs_mvr)</span>
<span id="cb59-51"><a href="Chapter3.html#cb59-51" tabindex="-1"></a></span>
<span id="cb59-52"><a href="Chapter3.html#cb59-52" tabindex="-1"></a>pirmsmaskas_rastrs<span class="ot">=</span><span class="fu">ifel</span>(<span class="sc">!</span><span class="fu">is.na</span>(rastrs_mvr)<span class="sc">&amp;</span>maska_meziem<span class="sc">==</span><span class="dv">1</span>,<span class="dv">674</span>,<span class="dv">0</span>)</span>
<span id="cb59-53"><a href="Chapter3.html#cb59-53" tabindex="-1"></a>aizpildits<span class="ot">=</span>terra<span class="sc">::</span><span class="fu">cover</span>(pirmsmaskas_rastrs,nulles)</span>
<span id="cb59-54"><a href="Chapter3.html#cb59-54" tabindex="-1"></a>pecmaskas_rastrs<span class="ot">=</span><span class="fu">mask</span>(aizpildits,template_t,</span>
<span id="cb59-55"><a href="Chapter3.html#cb59-55" tabindex="-1"></a>                      <span class="at">filename=</span><span class="st">&quot;./Rastri_10m/Mezi_Jauktukoku.tif&quot;</span>,</span>
<span id="cb59-56"><a href="Chapter3.html#cb59-56" tabindex="-1"></a>                      <span class="at">overwrite=</span><span class="cn">TRUE</span>)</span></code></pre></div>
</details>
<p><br></p>
</div>
<div id="Chapter3.2.2.2.16" class="section level5 hasAnchor" number="3.2.2.2.16">
<h5><span class="header-section-number">3.2.2.2.16</span> Skujkoku jaunaudzes, vidēja vecuma un briestaudzes<a href="Chapter3.html#Chapter3.2.2.2.16" class="anchor-section" aria-label="Anchor link to header"></a></h5>
<p>Rastrs ar šūnas izmēru 10 m un segumu visai Latvijas teritorijai.</p>
<ul>
<li><p>Vērtība <code>681</code> apzīmē šūnas, kurās <a href="Chapter3.html#Chapter3.2.2">vienkāršās ainavas maskā</a> ir
reģistrētas klases diapazonā no <code>600</code> līdz <code>700</code> un <a href="https://www.vmd.gov.lv/lv/meza-valsts-registra-meza-inventarizacijas-failu-struktura">Meža valsts reģistra Meža inventarizācijas failā</a> laukā <code>vgr</code> norādītas vērtības “1”, “2” vai “3” <strong>un</strong> kokaudzes pirmā stāva krājas klasifikācija atbilst<br />
<a href="Chapter3.html#Chapter3.2.2.2.12">Skujkoku</a>;</p></li>
<li><p>Vērtība <code>0</code> - pārējās Latvijas teritorijā esošās šūnas.</p></li>
</ul>
<p>Zemāk esošās komandu rindas izveido failu <code>Mezi_SkujkokuJaunas.tif</code>.</p>
<details class=chunk-details><summary class=chunk-summary><span class=chunk-summary-text>Code</span></summary>
<div class="sourceCode" id="cb60"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb60-1"><a href="Chapter3.html#cb60-1" tabindex="-1"></a><span class="co"># Libs</span></span>
<span id="cb60-2"><a href="Chapter3.html#cb60-2" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(tidyverse)) {<span class="fu">install.packages</span>(<span class="st">&quot;tidyverse&quot;</span>); <span class="fu">require</span>(tidyverse)}</span>
<span id="cb60-3"><a href="Chapter3.html#cb60-3" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(sf)) {<span class="fu">install.packages</span>(<span class="st">&quot;sf&quot;</span>); <span class="fu">require</span>(sf)}</span>
<span id="cb60-4"><a href="Chapter3.html#cb60-4" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(arrow)) {<span class="fu">install.packages</span>(<span class="st">&quot;arrow&quot;</span>); <span class="fu">require</span>(arrow)}</span>
<span id="cb60-5"><a href="Chapter3.html#cb60-5" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(sfarrow)) {<span class="fu">install.packages</span>(<span class="st">&quot;sfarrow&quot;</span>); <span class="fu">require</span>(sfarrow)}</span>
<span id="cb60-6"><a href="Chapter3.html#cb60-6" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(terra)) {<span class="fu">install.packages</span>(<span class="st">&quot;terra&quot;</span>); <span class="fu">require</span>(terra)}</span>
<span id="cb60-7"><a href="Chapter3.html#cb60-7" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(raster)) {<span class="fu">install.packages</span>(<span class="st">&quot;raster&quot;</span>); <span class="fu">require</span>(raster)}</span>
<span id="cb60-8"><a href="Chapter3.html#cb60-8" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(fasterize)) {<span class="fu">install.packages</span>(<span class="st">&quot;fasterize&quot;</span>); <span class="fu">require</span>(fasterize)}</span>
<span id="cb60-9"><a href="Chapter3.html#cb60-9" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(readxl)) {<span class="fu">install.packages</span>(<span class="st">&quot;readxl&quot;</span>); <span class="fu">require</span>(readxl)}</span>
<span id="cb60-10"><a href="Chapter3.html#cb60-10" tabindex="-1"></a></span>
<span id="cb60-11"><a href="Chapter3.html#cb60-11" tabindex="-1"></a><span class="co"># templates</span></span>
<span id="cb60-12"><a href="Chapter3.html#cb60-12" tabindex="-1"></a>template_t<span class="ot">=</span><span class="fu">rast</span>(<span class="st">&quot;./Templates/TemplateRasters/LV10m_10km.tif&quot;</span>)</span>
<span id="cb60-13"><a href="Chapter3.html#cb60-13" tabindex="-1"></a>template_r<span class="ot">=</span><span class="fu">raster</span>(template_t)</span>
<span id="cb60-14"><a href="Chapter3.html#cb60-14" tabindex="-1"></a></span>
<span id="cb60-15"><a href="Chapter3.html#cb60-15" tabindex="-1"></a>nulles<span class="ot">=</span>terra<span class="sc">::</span><span class="fu">subst</span>(template_t,<span class="at">from=</span><span class="dv">1</span>,<span class="at">to=</span><span class="dv">0</span>)</span>
<span id="cb60-16"><a href="Chapter3.html#cb60-16" tabindex="-1"></a></span>
<span id="cb60-17"><a href="Chapter3.html#cb60-17" tabindex="-1"></a><span class="co"># vienkāršā ainava</span></span>
<span id="cb60-18"><a href="Chapter3.html#cb60-18" tabindex="-1"></a>ainava_t<span class="ot">=</span><span class="fu">rast</span>(<span class="st">&quot;./Rastri_10m/Ainava_vienk_mask.tif&quot;</span>)</span>
<span id="cb60-19"><a href="Chapter3.html#cb60-19" tabindex="-1"></a>ainava_r<span class="ot">=</span><span class="fu">raster</span>(ainava_t)</span>
<span id="cb60-20"><a href="Chapter3.html#cb60-20" tabindex="-1"></a>maska_meziem<span class="ot">=</span><span class="fu">ifel</span>(ainava_t<span class="sc">&gt;</span><span class="dv">600</span><span class="sc">&amp;</span>ainava_t<span class="sc">&lt;</span><span class="dv">700</span>,<span class="dv">1</span>,<span class="cn">NA</span>)</span>
<span id="cb60-21"><a href="Chapter3.html#cb60-21" tabindex="-1"></a></span>
<span id="cb60-22"><a href="Chapter3.html#cb60-22" tabindex="-1"></a><span class="co"># meži</span></span>
<span id="cb60-23"><a href="Chapter3.html#cb60-23" tabindex="-1"></a>mvr<span class="ot">=</span><span class="fu">st_read_parquet</span>(<span class="st">&quot;./IevadesDati/MVR/nogabali_2024janv.parquet&quot;</span>)</span>
<span id="cb60-24"><a href="Chapter3.html#cb60-24" tabindex="-1"></a>mvr<span class="sc">$</span>yes<span class="ot">=</span><span class="dv">1</span></span>
<span id="cb60-25"><a href="Chapter3.html#cb60-25" tabindex="-1"></a>skujkoki<span class="ot">=</span><span class="fu">c</span>(<span class="st">&quot;1&quot;</span>,<span class="st">&quot;3&quot;</span>,<span class="st">&quot;13&quot;</span>,<span class="st">&quot;14&quot;</span>,<span class="st">&quot;15&quot;</span>,<span class="st">&quot;22&quot;</span>,<span class="st">&quot;23&quot;</span>) <span class="co"># 7</span></span>
<span id="cb60-26"><a href="Chapter3.html#cb60-26" tabindex="-1"></a>saurlapji<span class="ot">=</span><span class="fu">c</span>(<span class="st">&quot;4&quot;</span>,<span class="st">&quot;6&quot;</span>,<span class="st">&quot;8&quot;</span>,<span class="st">&quot;9&quot;</span>,<span class="st">&quot;19&quot;</span>,<span class="st">&quot;20&quot;</span>,<span class="st">&quot;21&quot;</span>,<span class="st">&quot;32&quot;</span>,<span class="st">&quot;35&quot;</span>,<span class="st">&quot;50&quot;</span>,<span class="st">&quot;68&quot;</span>) <span class="co"># 11</span></span>
<span id="cb60-27"><a href="Chapter3.html#cb60-27" tabindex="-1"></a>platlapji<span class="ot">=</span><span class="fu">c</span>(<span class="st">&quot;10&quot;</span>,<span class="st">&quot;11&quot;</span>,<span class="st">&quot;12&quot;</span>,<span class="st">&quot;16&quot;</span>,<span class="st">&quot;17&quot;</span>,<span class="st">&quot;18&quot;</span>,<span class="st">&quot;24&quot;</span>,<span class="st">&quot;25&quot;</span>,<span class="st">&quot;26&quot;</span>,<span class="st">&quot;27&quot;</span>,<span class="st">&quot;28&quot;</span>,<span class="st">&quot;29&quot;</span>,</span>
<span id="cb60-28"><a href="Chapter3.html#cb60-28" tabindex="-1"></a>            <span class="st">&quot;61&quot;</span>,<span class="st">&quot;62&quot;</span>,<span class="st">&quot;63&quot;</span>,<span class="st">&quot;64&quot;</span>,<span class="st">&quot;65&quot;</span>,<span class="st">&quot;66&quot;</span>,<span class="st">&quot;67&quot;</span>,<span class="st">&quot;69&quot;</span>) <span class="co"># 20</span></span>
<span id="cb60-29"><a href="Chapter3.html#cb60-29" tabindex="-1"></a>mvr<span class="ot">=</span>mvr <span class="sc">%&gt;%</span> </span>
<span id="cb60-30"><a href="Chapter3.html#cb60-30" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">kraja_skujkoku=</span><span class="fu">ifelse</span>(s10 <span class="sc">%in%</span> skujkoki,v10,<span class="dv">0</span>)<span class="sc">+</span></span>
<span id="cb60-31"><a href="Chapter3.html#cb60-31" tabindex="-1"></a>           <span class="fu">ifelse</span>(s11 <span class="sc">%in%</span> skujkoki,v11,<span class="dv">0</span>)<span class="sc">+</span><span class="fu">ifelse</span>(s12 <span class="sc">%in%</span> skujkoki,v12,<span class="dv">0</span>)<span class="sc">+</span></span>
<span id="cb60-32"><a href="Chapter3.html#cb60-32" tabindex="-1"></a>           <span class="fu">ifelse</span>(s13 <span class="sc">%in%</span> skujkoki,v13,<span class="dv">0</span>)<span class="sc">+</span><span class="fu">ifelse</span>(s14 <span class="sc">%in%</span> skujkoki,v14,<span class="dv">0</span>),</span>
<span id="cb60-33"><a href="Chapter3.html#cb60-33" tabindex="-1"></a>         <span class="at">kraja_saurlapju=</span><span class="fu">ifelse</span>(s10 <span class="sc">%in%</span> saurlapji,v10,<span class="dv">0</span>)<span class="sc">+</span></span>
<span id="cb60-34"><a href="Chapter3.html#cb60-34" tabindex="-1"></a>           <span class="fu">ifelse</span>(s11 <span class="sc">%in%</span> saurlapji,v11,<span class="dv">0</span>)<span class="sc">+</span><span class="fu">ifelse</span>(s12 <span class="sc">%in%</span> saurlapji,v12,<span class="dv">0</span>)<span class="sc">+</span></span>
<span id="cb60-35"><a href="Chapter3.html#cb60-35" tabindex="-1"></a>           <span class="fu">ifelse</span>(s13 <span class="sc">%in%</span> saurlapji,v13,<span class="dv">0</span>)<span class="sc">+</span><span class="fu">ifelse</span>(s14 <span class="sc">%in%</span> saurlapji,v14,<span class="dv">0</span>),</span>
<span id="cb60-36"><a href="Chapter3.html#cb60-36" tabindex="-1"></a>         <span class="at">kraja_platlapju=</span><span class="fu">ifelse</span>(s10 <span class="sc">%in%</span> platlapji,v10,<span class="dv">0</span>)<span class="sc">+</span></span>
<span id="cb60-37"><a href="Chapter3.html#cb60-37" tabindex="-1"></a>           <span class="fu">ifelse</span>(s11 <span class="sc">%in%</span> platlapji,v11,<span class="dv">0</span>)<span class="sc">+</span><span class="fu">ifelse</span>(s12 <span class="sc">%in%</span> platlapji,v12,<span class="dv">0</span>)<span class="sc">+</span></span>
<span id="cb60-38"><a href="Chapter3.html#cb60-38" tabindex="-1"></a>           <span class="fu">ifelse</span>(s13 <span class="sc">%in%</span> platlapji,v13,<span class="dv">0</span>)<span class="sc">+</span><span class="fu">ifelse</span>(s14 <span class="sc">%in%</span> platlapji,v14,<span class="dv">0</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb60-39"><a href="Chapter3.html#cb60-39" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">kopeja_kraja=</span>kraja_skujkoku<span class="sc">+</span>kraja_platlapju<span class="sc">+</span>kraja_saurlapju) <span class="sc">%&gt;%</span> </span>
<span id="cb60-40"><a href="Chapter3.html#cb60-40" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">tips=</span><span class="fu">ifelse</span>(kraja_skujkoku<span class="sc">/</span>kopeja_kraja<span class="sc">&gt;=</span><span class="fl">0.75</span>,<span class="st">&quot;skujkoku&quot;</span>,</span>
<span id="cb60-41"><a href="Chapter3.html#cb60-41" tabindex="-1"></a>                     <span class="fu">ifelse</span>(kraja_saurlapju<span class="sc">/</span>kopeja_kraja<span class="sc">&gt;=</span><span class="fl">0.75</span>,<span class="st">&quot;saurlapju&quot;</span>,</span>
<span id="cb60-42"><a href="Chapter3.html#cb60-42" tabindex="-1"></a>                            <span class="fu">ifelse</span>(kraja_platlapju<span class="sc">/</span>kopeja_kraja<span class="sc">&gt;</span><span class="fl">0.5</span>,<span class="st">&quot;platlapju&quot;</span>,</span>
<span id="cb60-43"><a href="Chapter3.html#cb60-43" tabindex="-1"></a>                                   <span class="st">&quot;jauktu koku&quot;</span>))))</span>
<span id="cb60-44"><a href="Chapter3.html#cb60-44" tabindex="-1"></a><span class="co"># Skujkoku jaunaudzes, vidēja vecuma un briestaudzes</span></span>
<span id="cb60-45"><a href="Chapter3.html#cb60-45" tabindex="-1"></a>nogabali<span class="ot">=</span>mvr <span class="sc">%&gt;%</span> </span>
<span id="cb60-46"><a href="Chapter3.html#cb60-46" tabindex="-1"></a>  <span class="fu">filter</span>(zkat<span class="sc">==</span><span class="st">&quot;10&quot;</span><span class="sc">&amp;</span>tips<span class="sc">==</span><span class="st">&quot;skujkoku&quot;</span><span class="sc">&amp;</span>(vgr<span class="sc">==</span><span class="st">&quot;1&quot;</span><span class="sc">|</span>vgr<span class="sc">==</span><span class="st">&quot;2&quot;</span><span class="sc">|</span>vgr<span class="sc">==</span><span class="st">&quot;3&quot;</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb60-47"><a href="Chapter3.html#cb60-47" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">yes=</span><span class="dv">681</span>) <span class="co"># </span></span>
<span id="cb60-48"><a href="Chapter3.html#cb60-48" tabindex="-1"></a>rastrs_mvr<span class="ot">=</span>fasterize<span class="sc">::</span><span class="fu">fasterize</span>(nogabali,template_r,<span class="at">field=</span><span class="st">&quot;yes&quot;</span>)</span>
<span id="cb60-49"><a href="Chapter3.html#cb60-49" tabindex="-1"></a>rastrs_mvr<span class="ot">=</span><span class="fu">rast</span>(rastrs_mvr)</span>
<span id="cb60-50"><a href="Chapter3.html#cb60-50" tabindex="-1"></a></span>
<span id="cb60-51"><a href="Chapter3.html#cb60-51" tabindex="-1"></a>pirmsmaskas_rastrs<span class="ot">=</span><span class="fu">ifel</span>(<span class="sc">!</span><span class="fu">is.na</span>(rastrs_mvr)<span class="sc">&amp;</span>maska_meziem<span class="sc">==</span><span class="dv">1</span>,<span class="dv">681</span>,<span class="dv">0</span>)</span>
<span id="cb60-52"><a href="Chapter3.html#cb60-52" tabindex="-1"></a>aizpildits<span class="ot">=</span>terra<span class="sc">::</span><span class="fu">cover</span>(pirmsmaskas_rastrs,nulles)</span>
<span id="cb60-53"><a href="Chapter3.html#cb60-53" tabindex="-1"></a>pecmaskas_rastrs<span class="ot">=</span><span class="fu">mask</span>(aizpildits,template_t,</span>
<span id="cb60-54"><a href="Chapter3.html#cb60-54" tabindex="-1"></a>                      <span class="at">filename=</span><span class="st">&quot;./Rastri_10m/Mezi_SkujkokuJaunas.tif&quot;</span>,</span>
<span id="cb60-55"><a href="Chapter3.html#cb60-55" tabindex="-1"></a>                      <span class="at">overwrite=</span><span class="cn">TRUE</span>)</span></code></pre></div>
</details>
<p><br></p>
</div>
<div id="Chapter3.2.2.2.17" class="section level5 hasAnchor" number="3.2.2.2.17">
<h5><span class="header-section-number">3.2.2.2.17</span> Skujkoku pieaugušās un pāraugušās audzes<a href="Chapter3.html#Chapter3.2.2.2.17" class="anchor-section" aria-label="Anchor link to header"></a></h5>
<p>Rastrs ar šūnas izmēru 10 m un segumu visai Latvijas teritorijai.</p>
<ul>
<li><p>Vērtība <code>682</code> apzīmē šūnas, kurās <a href="Chapter3.html#Chapter3.2.2">vienkāršās ainavas maskā</a> ir
reģistrētas klases diapazonā no <code>600</code> līdz <code>700</code> un <a href="https://www.vmd.gov.lv/lv/meza-valsts-registra-meza-inventarizacijas-failu-struktura">Meža valsts reģistra Meža inventarizācijas failā</a> laukā <code>vgr</code> norādītas vērtības “4” vai “5” <strong>un</strong> kokaudzes pirmā stāva krājas klasifikācija atbilst<br />
<a href="Chapter3.html#Chapter3.2.2.2.12">Skujkoku</a>;</p></li>
<li><p>Vērtība <code>0</code> - pārējās Latvijas teritorijā esošās šūnas.</p></li>
</ul>
<p>Zemāk esošās komandu rindas izveido failu <code>Mezi_SkujkokuVecas.tif</code>.</p>
<details class=chunk-details><summary class=chunk-summary><span class=chunk-summary-text>Code</span></summary>
<div class="sourceCode" id="cb61"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb61-1"><a href="Chapter3.html#cb61-1" tabindex="-1"></a><span class="co"># Libs</span></span>
<span id="cb61-2"><a href="Chapter3.html#cb61-2" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(tidyverse)) {<span class="fu">install.packages</span>(<span class="st">&quot;tidyverse&quot;</span>); <span class="fu">require</span>(tidyverse)}</span>
<span id="cb61-3"><a href="Chapter3.html#cb61-3" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(sf)) {<span class="fu">install.packages</span>(<span class="st">&quot;sf&quot;</span>); <span class="fu">require</span>(sf)}</span>
<span id="cb61-4"><a href="Chapter3.html#cb61-4" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(arrow)) {<span class="fu">install.packages</span>(<span class="st">&quot;arrow&quot;</span>); <span class="fu">require</span>(arrow)}</span>
<span id="cb61-5"><a href="Chapter3.html#cb61-5" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(sfarrow)) {<span class="fu">install.packages</span>(<span class="st">&quot;sfarrow&quot;</span>); <span class="fu">require</span>(sfarrow)}</span>
<span id="cb61-6"><a href="Chapter3.html#cb61-6" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(terra)) {<span class="fu">install.packages</span>(<span class="st">&quot;terra&quot;</span>); <span class="fu">require</span>(terra)}</span>
<span id="cb61-7"><a href="Chapter3.html#cb61-7" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(raster)) {<span class="fu">install.packages</span>(<span class="st">&quot;raster&quot;</span>); <span class="fu">require</span>(raster)}</span>
<span id="cb61-8"><a href="Chapter3.html#cb61-8" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(fasterize)) {<span class="fu">install.packages</span>(<span class="st">&quot;fasterize&quot;</span>); <span class="fu">require</span>(fasterize)}</span>
<span id="cb61-9"><a href="Chapter3.html#cb61-9" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(readxl)) {<span class="fu">install.packages</span>(<span class="st">&quot;readxl&quot;</span>); <span class="fu">require</span>(readxl)}</span>
<span id="cb61-10"><a href="Chapter3.html#cb61-10" tabindex="-1"></a></span>
<span id="cb61-11"><a href="Chapter3.html#cb61-11" tabindex="-1"></a><span class="co"># templates</span></span>
<span id="cb61-12"><a href="Chapter3.html#cb61-12" tabindex="-1"></a>template_t<span class="ot">=</span><span class="fu">rast</span>(<span class="st">&quot;./Templates/TemplateRasters/LV10m_10km.tif&quot;</span>)</span>
<span id="cb61-13"><a href="Chapter3.html#cb61-13" tabindex="-1"></a>template_r<span class="ot">=</span><span class="fu">raster</span>(template_t)</span>
<span id="cb61-14"><a href="Chapter3.html#cb61-14" tabindex="-1"></a></span>
<span id="cb61-15"><a href="Chapter3.html#cb61-15" tabindex="-1"></a>nulles<span class="ot">=</span>terra<span class="sc">::</span><span class="fu">subst</span>(template_t,<span class="at">from=</span><span class="dv">1</span>,<span class="at">to=</span><span class="dv">0</span>)</span>
<span id="cb61-16"><a href="Chapter3.html#cb61-16" tabindex="-1"></a></span>
<span id="cb61-17"><a href="Chapter3.html#cb61-17" tabindex="-1"></a><span class="co"># vienkāršā ainava</span></span>
<span id="cb61-18"><a href="Chapter3.html#cb61-18" tabindex="-1"></a>ainava_t<span class="ot">=</span><span class="fu">rast</span>(<span class="st">&quot;./Rastri_10m/Ainava_vienk_mask.tif&quot;</span>)</span>
<span id="cb61-19"><a href="Chapter3.html#cb61-19" tabindex="-1"></a>ainava_r<span class="ot">=</span><span class="fu">raster</span>(ainava_t)</span>
<span id="cb61-20"><a href="Chapter3.html#cb61-20" tabindex="-1"></a>maska_meziem<span class="ot">=</span><span class="fu">ifel</span>(ainava_t<span class="sc">&gt;</span><span class="dv">600</span><span class="sc">&amp;</span>ainava_t<span class="sc">&lt;</span><span class="dv">700</span>,<span class="dv">1</span>,<span class="cn">NA</span>)</span>
<span id="cb61-21"><a href="Chapter3.html#cb61-21" tabindex="-1"></a></span>
<span id="cb61-22"><a href="Chapter3.html#cb61-22" tabindex="-1"></a><span class="co"># meži</span></span>
<span id="cb61-23"><a href="Chapter3.html#cb61-23" tabindex="-1"></a>mvr<span class="ot">=</span><span class="fu">st_read_parquet</span>(<span class="st">&quot;./IevadesDati/MVR/nogabali_2024janv.parquet&quot;</span>)</span>
<span id="cb61-24"><a href="Chapter3.html#cb61-24" tabindex="-1"></a>mvr<span class="sc">$</span>yes<span class="ot">=</span><span class="dv">1</span></span>
<span id="cb61-25"><a href="Chapter3.html#cb61-25" tabindex="-1"></a>skujkoki<span class="ot">=</span><span class="fu">c</span>(<span class="st">&quot;1&quot;</span>,<span class="st">&quot;3&quot;</span>,<span class="st">&quot;13&quot;</span>,<span class="st">&quot;14&quot;</span>,<span class="st">&quot;15&quot;</span>,<span class="st">&quot;22&quot;</span>,<span class="st">&quot;23&quot;</span>) <span class="co"># 7</span></span>
<span id="cb61-26"><a href="Chapter3.html#cb61-26" tabindex="-1"></a>saurlapji<span class="ot">=</span><span class="fu">c</span>(<span class="st">&quot;4&quot;</span>,<span class="st">&quot;6&quot;</span>,<span class="st">&quot;8&quot;</span>,<span class="st">&quot;9&quot;</span>,<span class="st">&quot;19&quot;</span>,<span class="st">&quot;20&quot;</span>,<span class="st">&quot;21&quot;</span>,<span class="st">&quot;32&quot;</span>,<span class="st">&quot;35&quot;</span>,<span class="st">&quot;50&quot;</span>,<span class="st">&quot;68&quot;</span>) <span class="co"># 11</span></span>
<span id="cb61-27"><a href="Chapter3.html#cb61-27" tabindex="-1"></a>platlapji<span class="ot">=</span><span class="fu">c</span>(<span class="st">&quot;10&quot;</span>,<span class="st">&quot;11&quot;</span>,<span class="st">&quot;12&quot;</span>,<span class="st">&quot;16&quot;</span>,<span class="st">&quot;17&quot;</span>,<span class="st">&quot;18&quot;</span>,<span class="st">&quot;24&quot;</span>,<span class="st">&quot;25&quot;</span>,<span class="st">&quot;26&quot;</span>,<span class="st">&quot;27&quot;</span>,<span class="st">&quot;28&quot;</span>,<span class="st">&quot;29&quot;</span>,</span>
<span id="cb61-28"><a href="Chapter3.html#cb61-28" tabindex="-1"></a>            <span class="st">&quot;61&quot;</span>,<span class="st">&quot;62&quot;</span>,<span class="st">&quot;63&quot;</span>,<span class="st">&quot;64&quot;</span>,<span class="st">&quot;65&quot;</span>,<span class="st">&quot;66&quot;</span>,<span class="st">&quot;67&quot;</span>,<span class="st">&quot;69&quot;</span>) <span class="co"># 20</span></span>
<span id="cb61-29"><a href="Chapter3.html#cb61-29" tabindex="-1"></a>mvr<span class="ot">=</span>mvr <span class="sc">%&gt;%</span> </span>
<span id="cb61-30"><a href="Chapter3.html#cb61-30" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">kraja_skujkoku=</span><span class="fu">ifelse</span>(s10 <span class="sc">%in%</span> skujkoki,v10,<span class="dv">0</span>)<span class="sc">+</span></span>
<span id="cb61-31"><a href="Chapter3.html#cb61-31" tabindex="-1"></a>           <span class="fu">ifelse</span>(s11 <span class="sc">%in%</span> skujkoki,v11,<span class="dv">0</span>)<span class="sc">+</span><span class="fu">ifelse</span>(s12 <span class="sc">%in%</span> skujkoki,v12,<span class="dv">0</span>)<span class="sc">+</span></span>
<span id="cb61-32"><a href="Chapter3.html#cb61-32" tabindex="-1"></a>           <span class="fu">ifelse</span>(s13 <span class="sc">%in%</span> skujkoki,v13,<span class="dv">0</span>)<span class="sc">+</span><span class="fu">ifelse</span>(s14 <span class="sc">%in%</span> skujkoki,v14,<span class="dv">0</span>),</span>
<span id="cb61-33"><a href="Chapter3.html#cb61-33" tabindex="-1"></a>         <span class="at">kraja_saurlapju=</span><span class="fu">ifelse</span>(s10 <span class="sc">%in%</span> saurlapji,v10,<span class="dv">0</span>)<span class="sc">+</span></span>
<span id="cb61-34"><a href="Chapter3.html#cb61-34" tabindex="-1"></a>           <span class="fu">ifelse</span>(s11 <span class="sc">%in%</span> saurlapji,v11,<span class="dv">0</span>)<span class="sc">+</span><span class="fu">ifelse</span>(s12 <span class="sc">%in%</span> saurlapji,v12,<span class="dv">0</span>)<span class="sc">+</span></span>
<span id="cb61-35"><a href="Chapter3.html#cb61-35" tabindex="-1"></a>           <span class="fu">ifelse</span>(s13 <span class="sc">%in%</span> saurlapji,v13,<span class="dv">0</span>)<span class="sc">+</span><span class="fu">ifelse</span>(s14 <span class="sc">%in%</span> saurlapji,v14,<span class="dv">0</span>),</span>
<span id="cb61-36"><a href="Chapter3.html#cb61-36" tabindex="-1"></a>         <span class="at">kraja_platlapju=</span><span class="fu">ifelse</span>(s10 <span class="sc">%in%</span> platlapji,v10,<span class="dv">0</span>)<span class="sc">+</span></span>
<span id="cb61-37"><a href="Chapter3.html#cb61-37" tabindex="-1"></a>           <span class="fu">ifelse</span>(s11 <span class="sc">%in%</span> platlapji,v11,<span class="dv">0</span>)<span class="sc">+</span><span class="fu">ifelse</span>(s12 <span class="sc">%in%</span> platlapji,v12,<span class="dv">0</span>)<span class="sc">+</span></span>
<span id="cb61-38"><a href="Chapter3.html#cb61-38" tabindex="-1"></a>           <span class="fu">ifelse</span>(s13 <span class="sc">%in%</span> platlapji,v13,<span class="dv">0</span>)<span class="sc">+</span><span class="fu">ifelse</span>(s14 <span class="sc">%in%</span> platlapji,v14,<span class="dv">0</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb61-39"><a href="Chapter3.html#cb61-39" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">kopeja_kraja=</span>kraja_skujkoku<span class="sc">+</span>kraja_platlapju<span class="sc">+</span>kraja_saurlapju) <span class="sc">%&gt;%</span> </span>
<span id="cb61-40"><a href="Chapter3.html#cb61-40" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">tips=</span><span class="fu">ifelse</span>(kraja_skujkoku<span class="sc">/</span>kopeja_kraja<span class="sc">&gt;=</span><span class="fl">0.75</span>,<span class="st">&quot;skujkoku&quot;</span>,</span>
<span id="cb61-41"><a href="Chapter3.html#cb61-41" tabindex="-1"></a>                     <span class="fu">ifelse</span>(kraja_saurlapju<span class="sc">/</span>kopeja_kraja<span class="sc">&gt;=</span><span class="fl">0.75</span>,<span class="st">&quot;saurlapju&quot;</span>,</span>
<span id="cb61-42"><a href="Chapter3.html#cb61-42" tabindex="-1"></a>                            <span class="fu">ifelse</span>(kraja_platlapju<span class="sc">/</span>kopeja_kraja<span class="sc">&gt;</span><span class="fl">0.5</span>,<span class="st">&quot;platlapju&quot;</span>,</span>
<span id="cb61-43"><a href="Chapter3.html#cb61-43" tabindex="-1"></a>                                   <span class="st">&quot;jauktu koku&quot;</span>))))</span>
<span id="cb61-44"><a href="Chapter3.html#cb61-44" tabindex="-1"></a><span class="co"># Skujkoku pieaugušās un pāraugušās audzes</span></span>
<span id="cb61-45"><a href="Chapter3.html#cb61-45" tabindex="-1"></a>nogabali<span class="ot">=</span>mvr <span class="sc">%&gt;%</span> </span>
<span id="cb61-46"><a href="Chapter3.html#cb61-46" tabindex="-1"></a>  <span class="fu">filter</span>(zkat<span class="sc">==</span><span class="st">&quot;10&quot;</span><span class="sc">&amp;</span>tips<span class="sc">==</span><span class="st">&quot;skujkoku&quot;</span><span class="sc">&amp;</span>(vgr<span class="sc">==</span><span class="st">&quot;4&quot;</span><span class="sc">|</span>vgr<span class="sc">==</span><span class="st">&quot;5&quot;</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb61-47"><a href="Chapter3.html#cb61-47" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">yes=</span><span class="dv">682</span>) <span class="co"># </span></span>
<span id="cb61-48"><a href="Chapter3.html#cb61-48" tabindex="-1"></a>rastrs_mvr<span class="ot">=</span>fasterize<span class="sc">::</span><span class="fu">fasterize</span>(nogabali,template_r,<span class="at">field=</span><span class="st">&quot;yes&quot;</span>)</span>
<span id="cb61-49"><a href="Chapter3.html#cb61-49" tabindex="-1"></a>rastrs_mvr<span class="ot">=</span><span class="fu">rast</span>(rastrs_mvr)</span>
<span id="cb61-50"><a href="Chapter3.html#cb61-50" tabindex="-1"></a></span>
<span id="cb61-51"><a href="Chapter3.html#cb61-51" tabindex="-1"></a>pirmsmaskas_rastrs<span class="ot">=</span><span class="fu">ifel</span>(<span class="sc">!</span><span class="fu">is.na</span>(rastrs_mvr)<span class="sc">&amp;</span>maska_meziem<span class="sc">==</span><span class="dv">1</span>,<span class="dv">682</span>,<span class="dv">0</span>)</span>
<span id="cb61-52"><a href="Chapter3.html#cb61-52" tabindex="-1"></a>aizpildits<span class="ot">=</span>terra<span class="sc">::</span><span class="fu">cover</span>(pirmsmaskas_rastrs,nulles)</span>
<span id="cb61-53"><a href="Chapter3.html#cb61-53" tabindex="-1"></a>pecmaskas_rastrs<span class="ot">=</span><span class="fu">mask</span>(aizpildits,template_t,</span>
<span id="cb61-54"><a href="Chapter3.html#cb61-54" tabindex="-1"></a>                      <span class="at">filename=</span><span class="st">&quot;./Rastri_10m/Mezi_SkujkokuVecas.tif&quot;</span>,</span>
<span id="cb61-55"><a href="Chapter3.html#cb61-55" tabindex="-1"></a>                      <span class="at">overwrite=</span><span class="cn">TRUE</span>)</span></code></pre></div>
</details>
<p><br></p>
</div>
<div id="Chapter3.2.2.2.18" class="section level5 hasAnchor" number="3.2.2.2.18">
<h5><span class="header-section-number">3.2.2.2.18</span> Šaurlapju jaunaudzes, vidēja vecuma un briestaudzes<a href="Chapter3.html#Chapter3.2.2.2.18" class="anchor-section" aria-label="Anchor link to header"></a></h5>
<p>Rastrs ar šūnas izmēru 10 m un segumu visai Latvijas teritorijai.</p>
<ul>
<li><p>Vērtība <code>683</code> apzīmē šūnas, kurās <a href="Chapter3.html#Chapter3.2.2">vienkāršās ainavas maskā</a> ir
reģistrētas klases diapazonā no <code>600</code> līdz <code>700</code> un <a href="https://www.vmd.gov.lv/lv/meza-valsts-registra-meza-inventarizacijas-failu-struktura">Meža valsts reģistra Meža inventarizācijas failā</a> laukā <code>vgr</code> norādītas vērtības “1”, “2” vai “3” <strong>un</strong> kokaudzes pirmā stāva krājas klasifikācija atbilst<br />
<a href="Chapter3.html#Chapter3.2.2.2.13">Šaurlapju</a>;</p></li>
<li><p>Vērtība <code>0</code> - pārējās Latvijas teritorijā esošās šūnas.</p></li>
</ul>
<p>Zemāk esošās komandu rindas izveido failu <code>Mezi_SaurlapjuJaunas.tif</code>.</p>
<details class=chunk-details><summary class=chunk-summary><span class=chunk-summary-text>Code</span></summary>
<div class="sourceCode" id="cb62"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb62-1"><a href="Chapter3.html#cb62-1" tabindex="-1"></a><span class="co"># Libs</span></span>
<span id="cb62-2"><a href="Chapter3.html#cb62-2" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(tidyverse)) {<span class="fu">install.packages</span>(<span class="st">&quot;tidyverse&quot;</span>); <span class="fu">require</span>(tidyverse)}</span>
<span id="cb62-3"><a href="Chapter3.html#cb62-3" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(sf)) {<span class="fu">install.packages</span>(<span class="st">&quot;sf&quot;</span>); <span class="fu">require</span>(sf)}</span>
<span id="cb62-4"><a href="Chapter3.html#cb62-4" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(arrow)) {<span class="fu">install.packages</span>(<span class="st">&quot;arrow&quot;</span>); <span class="fu">require</span>(arrow)}</span>
<span id="cb62-5"><a href="Chapter3.html#cb62-5" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(sfarrow)) {<span class="fu">install.packages</span>(<span class="st">&quot;sfarrow&quot;</span>); <span class="fu">require</span>(sfarrow)}</span>
<span id="cb62-6"><a href="Chapter3.html#cb62-6" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(terra)) {<span class="fu">install.packages</span>(<span class="st">&quot;terra&quot;</span>); <span class="fu">require</span>(terra)}</span>
<span id="cb62-7"><a href="Chapter3.html#cb62-7" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(raster)) {<span class="fu">install.packages</span>(<span class="st">&quot;raster&quot;</span>); <span class="fu">require</span>(raster)}</span>
<span id="cb62-8"><a href="Chapter3.html#cb62-8" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(fasterize)) {<span class="fu">install.packages</span>(<span class="st">&quot;fasterize&quot;</span>); <span class="fu">require</span>(fasterize)}</span>
<span id="cb62-9"><a href="Chapter3.html#cb62-9" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(readxl)) {<span class="fu">install.packages</span>(<span class="st">&quot;readxl&quot;</span>); <span class="fu">require</span>(readxl)}</span>
<span id="cb62-10"><a href="Chapter3.html#cb62-10" tabindex="-1"></a></span>
<span id="cb62-11"><a href="Chapter3.html#cb62-11" tabindex="-1"></a><span class="co"># templates</span></span>
<span id="cb62-12"><a href="Chapter3.html#cb62-12" tabindex="-1"></a>template_t<span class="ot">=</span><span class="fu">rast</span>(<span class="st">&quot;./Templates/TemplateRasters/LV10m_10km.tif&quot;</span>)</span>
<span id="cb62-13"><a href="Chapter3.html#cb62-13" tabindex="-1"></a>template_r<span class="ot">=</span><span class="fu">raster</span>(template_t)</span>
<span id="cb62-14"><a href="Chapter3.html#cb62-14" tabindex="-1"></a></span>
<span id="cb62-15"><a href="Chapter3.html#cb62-15" tabindex="-1"></a>nulles<span class="ot">=</span>terra<span class="sc">::</span><span class="fu">subst</span>(template_t,<span class="at">from=</span><span class="dv">1</span>,<span class="at">to=</span><span class="dv">0</span>)</span>
<span id="cb62-16"><a href="Chapter3.html#cb62-16" tabindex="-1"></a></span>
<span id="cb62-17"><a href="Chapter3.html#cb62-17" tabindex="-1"></a><span class="co"># vienkāršā ainava</span></span>
<span id="cb62-18"><a href="Chapter3.html#cb62-18" tabindex="-1"></a>ainava_t<span class="ot">=</span><span class="fu">rast</span>(<span class="st">&quot;./Rastri_10m/Ainava_vienk_mask.tif&quot;</span>)</span>
<span id="cb62-19"><a href="Chapter3.html#cb62-19" tabindex="-1"></a>ainava_r<span class="ot">=</span><span class="fu">raster</span>(ainava_t)</span>
<span id="cb62-20"><a href="Chapter3.html#cb62-20" tabindex="-1"></a>maska_meziem<span class="ot">=</span><span class="fu">ifel</span>(ainava_t<span class="sc">&gt;</span><span class="dv">600</span><span class="sc">&amp;</span>ainava_t<span class="sc">&lt;</span><span class="dv">700</span>,<span class="dv">1</span>,<span class="cn">NA</span>)</span>
<span id="cb62-21"><a href="Chapter3.html#cb62-21" tabindex="-1"></a></span>
<span id="cb62-22"><a href="Chapter3.html#cb62-22" tabindex="-1"></a><span class="co"># meži</span></span>
<span id="cb62-23"><a href="Chapter3.html#cb62-23" tabindex="-1"></a>mvr<span class="ot">=</span><span class="fu">st_read_parquet</span>(<span class="st">&quot;./IevadesDati/MVR/nogabali_2024janv.parquet&quot;</span>)</span>
<span id="cb62-24"><a href="Chapter3.html#cb62-24" tabindex="-1"></a>mvr<span class="sc">$</span>yes<span class="ot">=</span><span class="dv">1</span></span>
<span id="cb62-25"><a href="Chapter3.html#cb62-25" tabindex="-1"></a>skujkoki<span class="ot">=</span><span class="fu">c</span>(<span class="st">&quot;1&quot;</span>,<span class="st">&quot;3&quot;</span>,<span class="st">&quot;13&quot;</span>,<span class="st">&quot;14&quot;</span>,<span class="st">&quot;15&quot;</span>,<span class="st">&quot;22&quot;</span>,<span class="st">&quot;23&quot;</span>) <span class="co"># 7</span></span>
<span id="cb62-26"><a href="Chapter3.html#cb62-26" tabindex="-1"></a>saurlapji<span class="ot">=</span><span class="fu">c</span>(<span class="st">&quot;4&quot;</span>,<span class="st">&quot;6&quot;</span>,<span class="st">&quot;8&quot;</span>,<span class="st">&quot;9&quot;</span>,<span class="st">&quot;19&quot;</span>,<span class="st">&quot;20&quot;</span>,<span class="st">&quot;21&quot;</span>,<span class="st">&quot;32&quot;</span>,<span class="st">&quot;35&quot;</span>,<span class="st">&quot;50&quot;</span>,<span class="st">&quot;68&quot;</span>) <span class="co"># 11</span></span>
<span id="cb62-27"><a href="Chapter3.html#cb62-27" tabindex="-1"></a>platlapji<span class="ot">=</span><span class="fu">c</span>(<span class="st">&quot;10&quot;</span>,<span class="st">&quot;11&quot;</span>,<span class="st">&quot;12&quot;</span>,<span class="st">&quot;16&quot;</span>,<span class="st">&quot;17&quot;</span>,<span class="st">&quot;18&quot;</span>,<span class="st">&quot;24&quot;</span>,<span class="st">&quot;25&quot;</span>,<span class="st">&quot;26&quot;</span>,<span class="st">&quot;27&quot;</span>,<span class="st">&quot;28&quot;</span>,<span class="st">&quot;29&quot;</span>,</span>
<span id="cb62-28"><a href="Chapter3.html#cb62-28" tabindex="-1"></a>            <span class="st">&quot;61&quot;</span>,<span class="st">&quot;62&quot;</span>,<span class="st">&quot;63&quot;</span>,<span class="st">&quot;64&quot;</span>,<span class="st">&quot;65&quot;</span>,<span class="st">&quot;66&quot;</span>,<span class="st">&quot;67&quot;</span>,<span class="st">&quot;69&quot;</span>) <span class="co"># 20</span></span>
<span id="cb62-29"><a href="Chapter3.html#cb62-29" tabindex="-1"></a>mvr<span class="ot">=</span>mvr <span class="sc">%&gt;%</span> </span>
<span id="cb62-30"><a href="Chapter3.html#cb62-30" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">kraja_skujkoku=</span><span class="fu">ifelse</span>(s10 <span class="sc">%in%</span> skujkoki,v10,<span class="dv">0</span>)<span class="sc">+</span></span>
<span id="cb62-31"><a href="Chapter3.html#cb62-31" tabindex="-1"></a>           <span class="fu">ifelse</span>(s11 <span class="sc">%in%</span> skujkoki,v11,<span class="dv">0</span>)<span class="sc">+</span><span class="fu">ifelse</span>(s12 <span class="sc">%in%</span> skujkoki,v12,<span class="dv">0</span>)<span class="sc">+</span></span>
<span id="cb62-32"><a href="Chapter3.html#cb62-32" tabindex="-1"></a>           <span class="fu">ifelse</span>(s13 <span class="sc">%in%</span> skujkoki,v13,<span class="dv">0</span>)<span class="sc">+</span><span class="fu">ifelse</span>(s14 <span class="sc">%in%</span> skujkoki,v14,<span class="dv">0</span>),</span>
<span id="cb62-33"><a href="Chapter3.html#cb62-33" tabindex="-1"></a>         <span class="at">kraja_saurlapju=</span><span class="fu">ifelse</span>(s10 <span class="sc">%in%</span> saurlapji,v10,<span class="dv">0</span>)<span class="sc">+</span></span>
<span id="cb62-34"><a href="Chapter3.html#cb62-34" tabindex="-1"></a>           <span class="fu">ifelse</span>(s11 <span class="sc">%in%</span> saurlapji,v11,<span class="dv">0</span>)<span class="sc">+</span><span class="fu">ifelse</span>(s12 <span class="sc">%in%</span> saurlapji,v12,<span class="dv">0</span>)<span class="sc">+</span></span>
<span id="cb62-35"><a href="Chapter3.html#cb62-35" tabindex="-1"></a>           <span class="fu">ifelse</span>(s13 <span class="sc">%in%</span> saurlapji,v13,<span class="dv">0</span>)<span class="sc">+</span><span class="fu">ifelse</span>(s14 <span class="sc">%in%</span> saurlapji,v14,<span class="dv">0</span>),</span>
<span id="cb62-36"><a href="Chapter3.html#cb62-36" tabindex="-1"></a>         <span class="at">kraja_platlapju=</span><span class="fu">ifelse</span>(s10 <span class="sc">%in%</span> platlapji,v10,<span class="dv">0</span>)<span class="sc">+</span></span>
<span id="cb62-37"><a href="Chapter3.html#cb62-37" tabindex="-1"></a>           <span class="fu">ifelse</span>(s11 <span class="sc">%in%</span> platlapji,v11,<span class="dv">0</span>)<span class="sc">+</span><span class="fu">ifelse</span>(s12 <span class="sc">%in%</span> platlapji,v12,<span class="dv">0</span>)<span class="sc">+</span></span>
<span id="cb62-38"><a href="Chapter3.html#cb62-38" tabindex="-1"></a>           <span class="fu">ifelse</span>(s13 <span class="sc">%in%</span> platlapji,v13,<span class="dv">0</span>)<span class="sc">+</span><span class="fu">ifelse</span>(s14 <span class="sc">%in%</span> platlapji,v14,<span class="dv">0</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb62-39"><a href="Chapter3.html#cb62-39" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">kopeja_kraja=</span>kraja_skujkoku<span class="sc">+</span>kraja_platlapju<span class="sc">+</span>kraja_saurlapju) <span class="sc">%&gt;%</span> </span>
<span id="cb62-40"><a href="Chapter3.html#cb62-40" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">tips=</span><span class="fu">ifelse</span>(kraja_skujkoku<span class="sc">/</span>kopeja_kraja<span class="sc">&gt;=</span><span class="fl">0.75</span>,<span class="st">&quot;skujkoku&quot;</span>,</span>
<span id="cb62-41"><a href="Chapter3.html#cb62-41" tabindex="-1"></a>                     <span class="fu">ifelse</span>(kraja_saurlapju<span class="sc">/</span>kopeja_kraja<span class="sc">&gt;=</span><span class="fl">0.75</span>,<span class="st">&quot;saurlapju&quot;</span>,</span>
<span id="cb62-42"><a href="Chapter3.html#cb62-42" tabindex="-1"></a>                            <span class="fu">ifelse</span>(kraja_platlapju<span class="sc">/</span>kopeja_kraja<span class="sc">&gt;</span><span class="fl">0.5</span>,<span class="st">&quot;platlapju&quot;</span>,</span>
<span id="cb62-43"><a href="Chapter3.html#cb62-43" tabindex="-1"></a>                                   <span class="st">&quot;jauktu koku&quot;</span>))))</span>
<span id="cb62-44"><a href="Chapter3.html#cb62-44" tabindex="-1"></a><span class="co"># Šaurlapju jaunaudzes, vidēja vecuma un briestaudzes</span></span>
<span id="cb62-45"><a href="Chapter3.html#cb62-45" tabindex="-1"></a>nogabali<span class="ot">=</span>mvr <span class="sc">%&gt;%</span> </span>
<span id="cb62-46"><a href="Chapter3.html#cb62-46" tabindex="-1"></a>  <span class="fu">filter</span>(zkat<span class="sc">==</span><span class="st">&quot;10&quot;</span><span class="sc">&amp;</span>tips<span class="sc">==</span><span class="st">&quot;saurlapju&quot;</span><span class="sc">&amp;</span>(vgr<span class="sc">==</span><span class="st">&quot;1&quot;</span><span class="sc">|</span>vgr<span class="sc">==</span><span class="st">&quot;2&quot;</span><span class="sc">|</span>vgr<span class="sc">==</span><span class="st">&quot;3&quot;</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb62-47"><a href="Chapter3.html#cb62-47" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">yes=</span><span class="dv">683</span>) <span class="co"># </span></span>
<span id="cb62-48"><a href="Chapter3.html#cb62-48" tabindex="-1"></a>rastrs_mvr<span class="ot">=</span>fasterize<span class="sc">::</span><span class="fu">fasterize</span>(nogabali,template_r,<span class="at">field=</span><span class="st">&quot;yes&quot;</span>)</span>
<span id="cb62-49"><a href="Chapter3.html#cb62-49" tabindex="-1"></a>rastrs_mvr<span class="ot">=</span><span class="fu">rast</span>(rastrs_mvr)</span>
<span id="cb62-50"><a href="Chapter3.html#cb62-50" tabindex="-1"></a></span>
<span id="cb62-51"><a href="Chapter3.html#cb62-51" tabindex="-1"></a>pirmsmaskas_rastrs<span class="ot">=</span><span class="fu">ifel</span>(<span class="sc">!</span><span class="fu">is.na</span>(rastrs_mvr)<span class="sc">&amp;</span>maska_meziem<span class="sc">==</span><span class="dv">1</span>,<span class="dv">683</span>,<span class="dv">0</span>)</span>
<span id="cb62-52"><a href="Chapter3.html#cb62-52" tabindex="-1"></a>aizpildits<span class="ot">=</span>terra<span class="sc">::</span><span class="fu">cover</span>(pirmsmaskas_rastrs,nulles)</span>
<span id="cb62-53"><a href="Chapter3.html#cb62-53" tabindex="-1"></a>pecmaskas_rastrs<span class="ot">=</span><span class="fu">mask</span>(aizpildits,template_t,</span>
<span id="cb62-54"><a href="Chapter3.html#cb62-54" tabindex="-1"></a>                      <span class="at">filename=</span><span class="st">&quot;./Rastri_10m/Mezi_SaurlapjuJaunas.tif&quot;</span>,</span>
<span id="cb62-55"><a href="Chapter3.html#cb62-55" tabindex="-1"></a>                      <span class="at">overwrite=</span><span class="cn">TRUE</span>)</span></code></pre></div>
</details>
<p><br></p>
</div>
<div id="Chapter3.2.2.2.19" class="section level5 hasAnchor" number="3.2.2.2.19">
<h5><span class="header-section-number">3.2.2.2.19</span> Šaurlapju pieaugušās un pāraugušās audzes<a href="Chapter3.html#Chapter3.2.2.2.19" class="anchor-section" aria-label="Anchor link to header"></a></h5>
<p>Rastrs ar šūnas izmēru 10 m un segumu visai Latvijas teritorijai.</p>
<ul>
<li><p>Vērtība <code>684</code> apzīmē šūnas, kurās <a href="Chapter3.html#Chapter3.2.2">vienkāršās ainavas maskā</a> ir
reģistrētas klases diapazonā no <code>600</code> līdz <code>700</code> un <a href="https://www.vmd.gov.lv/lv/meza-valsts-registra-meza-inventarizacijas-failu-struktura">Meža valsts reģistra Meža inventarizācijas failā</a> laukā <code>vgr</code> norādītas vērtības “4” vai “5” <strong>un</strong> kokaudzes pirmā stāva krājas klasifikācija atbilst<br />
<a href="Chapter3.html#Chapter3.2.2.2.13">Šaurlapju</a>;</p></li>
<li><p>Vērtība <code>0</code> - pārējās Latvijas teritorijā esošās šūnas.</p></li>
</ul>
<p>Zemāk esošās komandu rindas izveido failu <code>Mezi_SaurlapjuVecas.tif</code>.</p>
<details class=chunk-details><summary class=chunk-summary><span class=chunk-summary-text>Code</span></summary>
<div class="sourceCode" id="cb63"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb63-1"><a href="Chapter3.html#cb63-1" tabindex="-1"></a><span class="co"># Libs</span></span>
<span id="cb63-2"><a href="Chapter3.html#cb63-2" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(tidyverse)) {<span class="fu">install.packages</span>(<span class="st">&quot;tidyverse&quot;</span>); <span class="fu">require</span>(tidyverse)}</span>
<span id="cb63-3"><a href="Chapter3.html#cb63-3" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(sf)) {<span class="fu">install.packages</span>(<span class="st">&quot;sf&quot;</span>); <span class="fu">require</span>(sf)}</span>
<span id="cb63-4"><a href="Chapter3.html#cb63-4" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(arrow)) {<span class="fu">install.packages</span>(<span class="st">&quot;arrow&quot;</span>); <span class="fu">require</span>(arrow)}</span>
<span id="cb63-5"><a href="Chapter3.html#cb63-5" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(sfarrow)) {<span class="fu">install.packages</span>(<span class="st">&quot;sfarrow&quot;</span>); <span class="fu">require</span>(sfarrow)}</span>
<span id="cb63-6"><a href="Chapter3.html#cb63-6" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(terra)) {<span class="fu">install.packages</span>(<span class="st">&quot;terra&quot;</span>); <span class="fu">require</span>(terra)}</span>
<span id="cb63-7"><a href="Chapter3.html#cb63-7" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(raster)) {<span class="fu">install.packages</span>(<span class="st">&quot;raster&quot;</span>); <span class="fu">require</span>(raster)}</span>
<span id="cb63-8"><a href="Chapter3.html#cb63-8" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(fasterize)) {<span class="fu">install.packages</span>(<span class="st">&quot;fasterize&quot;</span>); <span class="fu">require</span>(fasterize)}</span>
<span id="cb63-9"><a href="Chapter3.html#cb63-9" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(readxl)) {<span class="fu">install.packages</span>(<span class="st">&quot;readxl&quot;</span>); <span class="fu">require</span>(readxl)}</span>
<span id="cb63-10"><a href="Chapter3.html#cb63-10" tabindex="-1"></a></span>
<span id="cb63-11"><a href="Chapter3.html#cb63-11" tabindex="-1"></a><span class="co"># templates</span></span>
<span id="cb63-12"><a href="Chapter3.html#cb63-12" tabindex="-1"></a>template_t<span class="ot">=</span><span class="fu">rast</span>(<span class="st">&quot;./Templates/TemplateRasters/LV10m_10km.tif&quot;</span>)</span>
<span id="cb63-13"><a href="Chapter3.html#cb63-13" tabindex="-1"></a>template_r<span class="ot">=</span><span class="fu">raster</span>(template_t)</span>
<span id="cb63-14"><a href="Chapter3.html#cb63-14" tabindex="-1"></a></span>
<span id="cb63-15"><a href="Chapter3.html#cb63-15" tabindex="-1"></a>nulles<span class="ot">=</span>terra<span class="sc">::</span><span class="fu">subst</span>(template_t,<span class="at">from=</span><span class="dv">1</span>,<span class="at">to=</span><span class="dv">0</span>)</span>
<span id="cb63-16"><a href="Chapter3.html#cb63-16" tabindex="-1"></a></span>
<span id="cb63-17"><a href="Chapter3.html#cb63-17" tabindex="-1"></a><span class="co"># vienkāršā ainava</span></span>
<span id="cb63-18"><a href="Chapter3.html#cb63-18" tabindex="-1"></a>ainava_t<span class="ot">=</span><span class="fu">rast</span>(<span class="st">&quot;./Rastri_10m/Ainava_vienk_mask.tif&quot;</span>)</span>
<span id="cb63-19"><a href="Chapter3.html#cb63-19" tabindex="-1"></a>ainava_r<span class="ot">=</span><span class="fu">raster</span>(ainava_t)</span>
<span id="cb63-20"><a href="Chapter3.html#cb63-20" tabindex="-1"></a>maska_meziem<span class="ot">=</span><span class="fu">ifel</span>(ainava_t<span class="sc">&gt;</span><span class="dv">600</span><span class="sc">&amp;</span>ainava_t<span class="sc">&lt;</span><span class="dv">700</span>,<span class="dv">1</span>,<span class="cn">NA</span>)</span>
<span id="cb63-21"><a href="Chapter3.html#cb63-21" tabindex="-1"></a></span>
<span id="cb63-22"><a href="Chapter3.html#cb63-22" tabindex="-1"></a><span class="co"># meži</span></span>
<span id="cb63-23"><a href="Chapter3.html#cb63-23" tabindex="-1"></a>mvr<span class="ot">=</span><span class="fu">st_read_parquet</span>(<span class="st">&quot;./IevadesDati/MVR/nogabali_2024janv.parquet&quot;</span>)</span>
<span id="cb63-24"><a href="Chapter3.html#cb63-24" tabindex="-1"></a>mvr<span class="sc">$</span>yes<span class="ot">=</span><span class="dv">1</span></span>
<span id="cb63-25"><a href="Chapter3.html#cb63-25" tabindex="-1"></a>skujkoki<span class="ot">=</span><span class="fu">c</span>(<span class="st">&quot;1&quot;</span>,<span class="st">&quot;3&quot;</span>,<span class="st">&quot;13&quot;</span>,<span class="st">&quot;14&quot;</span>,<span class="st">&quot;15&quot;</span>,<span class="st">&quot;22&quot;</span>,<span class="st">&quot;23&quot;</span>) <span class="co"># 7</span></span>
<span id="cb63-26"><a href="Chapter3.html#cb63-26" tabindex="-1"></a>saurlapji<span class="ot">=</span><span class="fu">c</span>(<span class="st">&quot;4&quot;</span>,<span class="st">&quot;6&quot;</span>,<span class="st">&quot;8&quot;</span>,<span class="st">&quot;9&quot;</span>,<span class="st">&quot;19&quot;</span>,<span class="st">&quot;20&quot;</span>,<span class="st">&quot;21&quot;</span>,<span class="st">&quot;32&quot;</span>,<span class="st">&quot;35&quot;</span>,<span class="st">&quot;50&quot;</span>,<span class="st">&quot;68&quot;</span>) <span class="co"># 11</span></span>
<span id="cb63-27"><a href="Chapter3.html#cb63-27" tabindex="-1"></a>platlapji<span class="ot">=</span><span class="fu">c</span>(<span class="st">&quot;10&quot;</span>,<span class="st">&quot;11&quot;</span>,<span class="st">&quot;12&quot;</span>,<span class="st">&quot;16&quot;</span>,<span class="st">&quot;17&quot;</span>,<span class="st">&quot;18&quot;</span>,<span class="st">&quot;24&quot;</span>,<span class="st">&quot;25&quot;</span>,<span class="st">&quot;26&quot;</span>,<span class="st">&quot;27&quot;</span>,<span class="st">&quot;28&quot;</span>,<span class="st">&quot;29&quot;</span>,</span>
<span id="cb63-28"><a href="Chapter3.html#cb63-28" tabindex="-1"></a>            <span class="st">&quot;61&quot;</span>,<span class="st">&quot;62&quot;</span>,<span class="st">&quot;63&quot;</span>,<span class="st">&quot;64&quot;</span>,<span class="st">&quot;65&quot;</span>,<span class="st">&quot;66&quot;</span>,<span class="st">&quot;67&quot;</span>,<span class="st">&quot;69&quot;</span>) <span class="co"># 20</span></span>
<span id="cb63-29"><a href="Chapter3.html#cb63-29" tabindex="-1"></a>mvr<span class="ot">=</span>mvr <span class="sc">%&gt;%</span> </span>
<span id="cb63-30"><a href="Chapter3.html#cb63-30" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">kraja_skujkoku=</span><span class="fu">ifelse</span>(s10 <span class="sc">%in%</span> skujkoki,v10,<span class="dv">0</span>)<span class="sc">+</span></span>
<span id="cb63-31"><a href="Chapter3.html#cb63-31" tabindex="-1"></a>           <span class="fu">ifelse</span>(s11 <span class="sc">%in%</span> skujkoki,v11,<span class="dv">0</span>)<span class="sc">+</span><span class="fu">ifelse</span>(s12 <span class="sc">%in%</span> skujkoki,v12,<span class="dv">0</span>)<span class="sc">+</span></span>
<span id="cb63-32"><a href="Chapter3.html#cb63-32" tabindex="-1"></a>           <span class="fu">ifelse</span>(s13 <span class="sc">%in%</span> skujkoki,v13,<span class="dv">0</span>)<span class="sc">+</span><span class="fu">ifelse</span>(s14 <span class="sc">%in%</span> skujkoki,v14,<span class="dv">0</span>),</span>
<span id="cb63-33"><a href="Chapter3.html#cb63-33" tabindex="-1"></a>         <span class="at">kraja_saurlapju=</span><span class="fu">ifelse</span>(s10 <span class="sc">%in%</span> saurlapji,v10,<span class="dv">0</span>)<span class="sc">+</span></span>
<span id="cb63-34"><a href="Chapter3.html#cb63-34" tabindex="-1"></a>           <span class="fu">ifelse</span>(s11 <span class="sc">%in%</span> saurlapji,v11,<span class="dv">0</span>)<span class="sc">+</span><span class="fu">ifelse</span>(s12 <span class="sc">%in%</span> saurlapji,v12,<span class="dv">0</span>)<span class="sc">+</span></span>
<span id="cb63-35"><a href="Chapter3.html#cb63-35" tabindex="-1"></a>           <span class="fu">ifelse</span>(s13 <span class="sc">%in%</span> saurlapji,v13,<span class="dv">0</span>)<span class="sc">+</span><span class="fu">ifelse</span>(s14 <span class="sc">%in%</span> saurlapji,v14,<span class="dv">0</span>),</span>
<span id="cb63-36"><a href="Chapter3.html#cb63-36" tabindex="-1"></a>         <span class="at">kraja_platlapju=</span><span class="fu">ifelse</span>(s10 <span class="sc">%in%</span> platlapji,v10,<span class="dv">0</span>)<span class="sc">+</span></span>
<span id="cb63-37"><a href="Chapter3.html#cb63-37" tabindex="-1"></a>           <span class="fu">ifelse</span>(s11 <span class="sc">%in%</span> platlapji,v11,<span class="dv">0</span>)<span class="sc">+</span><span class="fu">ifelse</span>(s12 <span class="sc">%in%</span> platlapji,v12,<span class="dv">0</span>)<span class="sc">+</span></span>
<span id="cb63-38"><a href="Chapter3.html#cb63-38" tabindex="-1"></a>           <span class="fu">ifelse</span>(s13 <span class="sc">%in%</span> platlapji,v13,<span class="dv">0</span>)<span class="sc">+</span><span class="fu">ifelse</span>(s14 <span class="sc">%in%</span> platlapji,v14,<span class="dv">0</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb63-39"><a href="Chapter3.html#cb63-39" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">kopeja_kraja=</span>kraja_skujkoku<span class="sc">+</span>kraja_platlapju<span class="sc">+</span>kraja_saurlapju) <span class="sc">%&gt;%</span> </span>
<span id="cb63-40"><a href="Chapter3.html#cb63-40" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">tips=</span><span class="fu">ifelse</span>(kraja_skujkoku<span class="sc">/</span>kopeja_kraja<span class="sc">&gt;=</span><span class="fl">0.75</span>,<span class="st">&quot;skujkoku&quot;</span>,</span>
<span id="cb63-41"><a href="Chapter3.html#cb63-41" tabindex="-1"></a>                     <span class="fu">ifelse</span>(kraja_saurlapju<span class="sc">/</span>kopeja_kraja<span class="sc">&gt;=</span><span class="fl">0.75</span>,<span class="st">&quot;saurlapju&quot;</span>,</span>
<span id="cb63-42"><a href="Chapter3.html#cb63-42" tabindex="-1"></a>                            <span class="fu">ifelse</span>(kraja_platlapju<span class="sc">/</span>kopeja_kraja<span class="sc">&gt;</span><span class="fl">0.5</span>,<span class="st">&quot;platlapju&quot;</span>,</span>
<span id="cb63-43"><a href="Chapter3.html#cb63-43" tabindex="-1"></a>                                   <span class="st">&quot;jauktu koku&quot;</span>))))</span>
<span id="cb63-44"><a href="Chapter3.html#cb63-44" tabindex="-1"></a><span class="co"># Šaurlapju pieaugušās un pāraugušās audzes</span></span>
<span id="cb63-45"><a href="Chapter3.html#cb63-45" tabindex="-1"></a>nogabali<span class="ot">=</span>mvr <span class="sc">%&gt;%</span> </span>
<span id="cb63-46"><a href="Chapter3.html#cb63-46" tabindex="-1"></a>  <span class="fu">filter</span>(zkat<span class="sc">==</span><span class="st">&quot;10&quot;</span><span class="sc">&amp;</span>tips<span class="sc">==</span><span class="st">&quot;saurlapju&quot;</span><span class="sc">&amp;</span>(vgr<span class="sc">==</span><span class="st">&quot;4&quot;</span><span class="sc">|</span>vgr<span class="sc">==</span><span class="st">&quot;5&quot;</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb63-47"><a href="Chapter3.html#cb63-47" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">yes=</span><span class="dv">684</span>) <span class="co"># </span></span>
<span id="cb63-48"><a href="Chapter3.html#cb63-48" tabindex="-1"></a>rastrs_mvr<span class="ot">=</span>fasterize<span class="sc">::</span><span class="fu">fasterize</span>(nogabali,template_r,<span class="at">field=</span><span class="st">&quot;yes&quot;</span>)</span>
<span id="cb63-49"><a href="Chapter3.html#cb63-49" tabindex="-1"></a>rastrs_mvr<span class="ot">=</span><span class="fu">rast</span>(rastrs_mvr)</span>
<span id="cb63-50"><a href="Chapter3.html#cb63-50" tabindex="-1"></a></span>
<span id="cb63-51"><a href="Chapter3.html#cb63-51" tabindex="-1"></a>pirmsmaskas_rastrs<span class="ot">=</span><span class="fu">ifel</span>(<span class="sc">!</span><span class="fu">is.na</span>(rastrs_mvr)<span class="sc">&amp;</span>maska_meziem<span class="sc">==</span><span class="dv">1</span>,<span class="dv">684</span>,<span class="dv">0</span>)</span>
<span id="cb63-52"><a href="Chapter3.html#cb63-52" tabindex="-1"></a>aizpildits<span class="ot">=</span>terra<span class="sc">::</span><span class="fu">cover</span>(pirmsmaskas_rastrs,nulles)</span>
<span id="cb63-53"><a href="Chapter3.html#cb63-53" tabindex="-1"></a>pecmaskas_rastrs<span class="ot">=</span><span class="fu">mask</span>(aizpildits,template_t,</span>
<span id="cb63-54"><a href="Chapter3.html#cb63-54" tabindex="-1"></a>                      <span class="at">filename=</span><span class="st">&quot;./Rastri_10m/Mezi_SaurlapjuVecas.tif&quot;</span>,</span>
<span id="cb63-55"><a href="Chapter3.html#cb63-55" tabindex="-1"></a>                      <span class="at">overwrite=</span><span class="cn">TRUE</span>)</span></code></pre></div>
</details>
<p><br></p>
</div>
<div id="Chapter3.2.2.2.20" class="section level5 hasAnchor" number="3.2.2.2.20">
<h5><span class="header-section-number">3.2.2.2.20</span> Platlapju jaunaudzes, vidēja vecuma un briestaudzes<a href="Chapter3.html#Chapter3.2.2.2.20" class="anchor-section" aria-label="Anchor link to header"></a></h5>
<p>Rastrs ar šūnas izmēru 10 m un segumu visai Latvijas teritorijai.</p>
<ul>
<li><p>Vērtība <code>685</code> apzīmē šūnas, kurās <a href="Chapter3.html#Chapter3.2.2">vienkāršās ainavas maskā</a> ir
reģistrētas klases diapazonā no <code>600</code> līdz <code>700</code> un <a href="https://www.vmd.gov.lv/lv/meza-valsts-registra-meza-inventarizacijas-failu-struktura">Meža valsts reģistra Meža inventarizācijas failā</a> laukā <code>vgr</code> norādītas vērtības “1”, “2” vai “3” <strong>un</strong> kokaudzes pirmā stāva krājas klasifikācija atbilst<br />
<a href="Chapter3.html#Chapter3.2.2.2.14">Platlapju</a>;</p></li>
<li><p>Vērtība <code>0</code> - pārējās Latvijas teritorijā esošās šūnas.</p></li>
</ul>
<p>Zemāk esošās komandu rindas izveido failu <code>Mezi_PlatlapjuJaunas.tif</code>.</p>
<details class=chunk-details><summary class=chunk-summary><span class=chunk-summary-text>Code</span></summary>
<div class="sourceCode" id="cb64"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb64-1"><a href="Chapter3.html#cb64-1" tabindex="-1"></a><span class="co"># Libs</span></span>
<span id="cb64-2"><a href="Chapter3.html#cb64-2" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(tidyverse)) {<span class="fu">install.packages</span>(<span class="st">&quot;tidyverse&quot;</span>); <span class="fu">require</span>(tidyverse)}</span>
<span id="cb64-3"><a href="Chapter3.html#cb64-3" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(sf)) {<span class="fu">install.packages</span>(<span class="st">&quot;sf&quot;</span>); <span class="fu">require</span>(sf)}</span>
<span id="cb64-4"><a href="Chapter3.html#cb64-4" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(arrow)) {<span class="fu">install.packages</span>(<span class="st">&quot;arrow&quot;</span>); <span class="fu">require</span>(arrow)}</span>
<span id="cb64-5"><a href="Chapter3.html#cb64-5" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(sfarrow)) {<span class="fu">install.packages</span>(<span class="st">&quot;sfarrow&quot;</span>); <span class="fu">require</span>(sfarrow)}</span>
<span id="cb64-6"><a href="Chapter3.html#cb64-6" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(terra)) {<span class="fu">install.packages</span>(<span class="st">&quot;terra&quot;</span>); <span class="fu">require</span>(terra)}</span>
<span id="cb64-7"><a href="Chapter3.html#cb64-7" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(raster)) {<span class="fu">install.packages</span>(<span class="st">&quot;raster&quot;</span>); <span class="fu">require</span>(raster)}</span>
<span id="cb64-8"><a href="Chapter3.html#cb64-8" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(fasterize)) {<span class="fu">install.packages</span>(<span class="st">&quot;fasterize&quot;</span>); <span class="fu">require</span>(fasterize)}</span>
<span id="cb64-9"><a href="Chapter3.html#cb64-9" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(readxl)) {<span class="fu">install.packages</span>(<span class="st">&quot;readxl&quot;</span>); <span class="fu">require</span>(readxl)}</span>
<span id="cb64-10"><a href="Chapter3.html#cb64-10" tabindex="-1"></a></span>
<span id="cb64-11"><a href="Chapter3.html#cb64-11" tabindex="-1"></a><span class="co"># templates</span></span>
<span id="cb64-12"><a href="Chapter3.html#cb64-12" tabindex="-1"></a>template_t<span class="ot">=</span><span class="fu">rast</span>(<span class="st">&quot;./Templates/TemplateRasters/LV10m_10km.tif&quot;</span>)</span>
<span id="cb64-13"><a href="Chapter3.html#cb64-13" tabindex="-1"></a>template_r<span class="ot">=</span><span class="fu">raster</span>(template_t)</span>
<span id="cb64-14"><a href="Chapter3.html#cb64-14" tabindex="-1"></a></span>
<span id="cb64-15"><a href="Chapter3.html#cb64-15" tabindex="-1"></a>nulles<span class="ot">=</span>terra<span class="sc">::</span><span class="fu">subst</span>(template_t,<span class="at">from=</span><span class="dv">1</span>,<span class="at">to=</span><span class="dv">0</span>)</span>
<span id="cb64-16"><a href="Chapter3.html#cb64-16" tabindex="-1"></a></span>
<span id="cb64-17"><a href="Chapter3.html#cb64-17" tabindex="-1"></a><span class="co"># vienkāršā ainava</span></span>
<span id="cb64-18"><a href="Chapter3.html#cb64-18" tabindex="-1"></a>ainava_t<span class="ot">=</span><span class="fu">rast</span>(<span class="st">&quot;./Rastri_10m/Ainava_vienk_mask.tif&quot;</span>)</span>
<span id="cb64-19"><a href="Chapter3.html#cb64-19" tabindex="-1"></a>ainava_r<span class="ot">=</span><span class="fu">raster</span>(ainava_t)</span>
<span id="cb64-20"><a href="Chapter3.html#cb64-20" tabindex="-1"></a>maska_meziem<span class="ot">=</span><span class="fu">ifel</span>(ainava_t<span class="sc">&gt;</span><span class="dv">600</span><span class="sc">&amp;</span>ainava_t<span class="sc">&lt;</span><span class="dv">700</span>,<span class="dv">1</span>,<span class="cn">NA</span>)</span>
<span id="cb64-21"><a href="Chapter3.html#cb64-21" tabindex="-1"></a></span>
<span id="cb64-22"><a href="Chapter3.html#cb64-22" tabindex="-1"></a><span class="co"># meži</span></span>
<span id="cb64-23"><a href="Chapter3.html#cb64-23" tabindex="-1"></a>mvr<span class="ot">=</span><span class="fu">st_read_parquet</span>(<span class="st">&quot;./IevadesDati/MVR/nogabali_2024janv.parquet&quot;</span>)</span>
<span id="cb64-24"><a href="Chapter3.html#cb64-24" tabindex="-1"></a>mvr<span class="sc">$</span>yes<span class="ot">=</span><span class="dv">1</span></span>
<span id="cb64-25"><a href="Chapter3.html#cb64-25" tabindex="-1"></a>skujkoki<span class="ot">=</span><span class="fu">c</span>(<span class="st">&quot;1&quot;</span>,<span class="st">&quot;3&quot;</span>,<span class="st">&quot;13&quot;</span>,<span class="st">&quot;14&quot;</span>,<span class="st">&quot;15&quot;</span>,<span class="st">&quot;22&quot;</span>,<span class="st">&quot;23&quot;</span>) <span class="co"># 7</span></span>
<span id="cb64-26"><a href="Chapter3.html#cb64-26" tabindex="-1"></a>saurlapji<span class="ot">=</span><span class="fu">c</span>(<span class="st">&quot;4&quot;</span>,<span class="st">&quot;6&quot;</span>,<span class="st">&quot;8&quot;</span>,<span class="st">&quot;9&quot;</span>,<span class="st">&quot;19&quot;</span>,<span class="st">&quot;20&quot;</span>,<span class="st">&quot;21&quot;</span>,<span class="st">&quot;32&quot;</span>,<span class="st">&quot;35&quot;</span>,<span class="st">&quot;50&quot;</span>,<span class="st">&quot;68&quot;</span>) <span class="co"># 11</span></span>
<span id="cb64-27"><a href="Chapter3.html#cb64-27" tabindex="-1"></a>platlapji<span class="ot">=</span><span class="fu">c</span>(<span class="st">&quot;10&quot;</span>,<span class="st">&quot;11&quot;</span>,<span class="st">&quot;12&quot;</span>,<span class="st">&quot;16&quot;</span>,<span class="st">&quot;17&quot;</span>,<span class="st">&quot;18&quot;</span>,<span class="st">&quot;24&quot;</span>,<span class="st">&quot;25&quot;</span>,<span class="st">&quot;26&quot;</span>,<span class="st">&quot;27&quot;</span>,<span class="st">&quot;28&quot;</span>,<span class="st">&quot;29&quot;</span>,</span>
<span id="cb64-28"><a href="Chapter3.html#cb64-28" tabindex="-1"></a>            <span class="st">&quot;61&quot;</span>,<span class="st">&quot;62&quot;</span>,<span class="st">&quot;63&quot;</span>,<span class="st">&quot;64&quot;</span>,<span class="st">&quot;65&quot;</span>,<span class="st">&quot;66&quot;</span>,<span class="st">&quot;67&quot;</span>,<span class="st">&quot;69&quot;</span>) <span class="co"># 20</span></span>
<span id="cb64-29"><a href="Chapter3.html#cb64-29" tabindex="-1"></a>mvr<span class="ot">=</span>mvr <span class="sc">%&gt;%</span> </span>
<span id="cb64-30"><a href="Chapter3.html#cb64-30" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">kraja_skujkoku=</span><span class="fu">ifelse</span>(s10 <span class="sc">%in%</span> skujkoki,v10,<span class="dv">0</span>)<span class="sc">+</span></span>
<span id="cb64-31"><a href="Chapter3.html#cb64-31" tabindex="-1"></a>           <span class="fu">ifelse</span>(s11 <span class="sc">%in%</span> skujkoki,v11,<span class="dv">0</span>)<span class="sc">+</span><span class="fu">ifelse</span>(s12 <span class="sc">%in%</span> skujkoki,v12,<span class="dv">0</span>)<span class="sc">+</span></span>
<span id="cb64-32"><a href="Chapter3.html#cb64-32" tabindex="-1"></a>           <span class="fu">ifelse</span>(s13 <span class="sc">%in%</span> skujkoki,v13,<span class="dv">0</span>)<span class="sc">+</span><span class="fu">ifelse</span>(s14 <span class="sc">%in%</span> skujkoki,v14,<span class="dv">0</span>),</span>
<span id="cb64-33"><a href="Chapter3.html#cb64-33" tabindex="-1"></a>         <span class="at">kraja_saurlapju=</span><span class="fu">ifelse</span>(s10 <span class="sc">%in%</span> saurlapji,v10,<span class="dv">0</span>)<span class="sc">+</span></span>
<span id="cb64-34"><a href="Chapter3.html#cb64-34" tabindex="-1"></a>           <span class="fu">ifelse</span>(s11 <span class="sc">%in%</span> saurlapji,v11,<span class="dv">0</span>)<span class="sc">+</span><span class="fu">ifelse</span>(s12 <span class="sc">%in%</span> saurlapji,v12,<span class="dv">0</span>)<span class="sc">+</span></span>
<span id="cb64-35"><a href="Chapter3.html#cb64-35" tabindex="-1"></a>           <span class="fu">ifelse</span>(s13 <span class="sc">%in%</span> saurlapji,v13,<span class="dv">0</span>)<span class="sc">+</span><span class="fu">ifelse</span>(s14 <span class="sc">%in%</span> saurlapji,v14,<span class="dv">0</span>),</span>
<span id="cb64-36"><a href="Chapter3.html#cb64-36" tabindex="-1"></a>         <span class="at">kraja_platlapju=</span><span class="fu">ifelse</span>(s10 <span class="sc">%in%</span> platlapji,v10,<span class="dv">0</span>)<span class="sc">+</span></span>
<span id="cb64-37"><a href="Chapter3.html#cb64-37" tabindex="-1"></a>           <span class="fu">ifelse</span>(s11 <span class="sc">%in%</span> platlapji,v11,<span class="dv">0</span>)<span class="sc">+</span><span class="fu">ifelse</span>(s12 <span class="sc">%in%</span> platlapji,v12,<span class="dv">0</span>)<span class="sc">+</span></span>
<span id="cb64-38"><a href="Chapter3.html#cb64-38" tabindex="-1"></a>           <span class="fu">ifelse</span>(s13 <span class="sc">%in%</span> platlapji,v13,<span class="dv">0</span>)<span class="sc">+</span><span class="fu">ifelse</span>(s14 <span class="sc">%in%</span> platlapji,v14,<span class="dv">0</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb64-39"><a href="Chapter3.html#cb64-39" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">kopeja_kraja=</span>kraja_skujkoku<span class="sc">+</span>kraja_platlapju<span class="sc">+</span>kraja_saurlapju) <span class="sc">%&gt;%</span> </span>
<span id="cb64-40"><a href="Chapter3.html#cb64-40" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">tips=</span><span class="fu">ifelse</span>(kraja_skujkoku<span class="sc">/</span>kopeja_kraja<span class="sc">&gt;=</span><span class="fl">0.75</span>,<span class="st">&quot;skujkoku&quot;</span>,</span>
<span id="cb64-41"><a href="Chapter3.html#cb64-41" tabindex="-1"></a>                     <span class="fu">ifelse</span>(kraja_saurlapju<span class="sc">/</span>kopeja_kraja<span class="sc">&gt;=</span><span class="fl">0.75</span>,<span class="st">&quot;saurlapju&quot;</span>,</span>
<span id="cb64-42"><a href="Chapter3.html#cb64-42" tabindex="-1"></a>                            <span class="fu">ifelse</span>(kraja_platlapju<span class="sc">/</span>kopeja_kraja<span class="sc">&gt;</span><span class="fl">0.5</span>,<span class="st">&quot;platlapju&quot;</span>,</span>
<span id="cb64-43"><a href="Chapter3.html#cb64-43" tabindex="-1"></a>                                   <span class="st">&quot;jauktu koku&quot;</span>))))</span>
<span id="cb64-44"><a href="Chapter3.html#cb64-44" tabindex="-1"></a><span class="co"># Platlapju jaunaudzes, vidēja vecuma un briestaudzes</span></span>
<span id="cb64-45"><a href="Chapter3.html#cb64-45" tabindex="-1"></a>nogabali<span class="ot">=</span>mvr <span class="sc">%&gt;%</span> </span>
<span id="cb64-46"><a href="Chapter3.html#cb64-46" tabindex="-1"></a>  <span class="fu">filter</span>(zkat<span class="sc">==</span><span class="st">&quot;10&quot;</span><span class="sc">&amp;</span>tips<span class="sc">==</span><span class="st">&quot;platlapju&quot;</span><span class="sc">&amp;</span>(vgr<span class="sc">==</span><span class="st">&quot;1&quot;</span><span class="sc">|</span>vgr<span class="sc">==</span><span class="st">&quot;2&quot;</span><span class="sc">|</span>vgr<span class="sc">==</span><span class="st">&quot;3&quot;</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb64-47"><a href="Chapter3.html#cb64-47" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">yes=</span><span class="dv">685</span>) <span class="co"># </span></span>
<span id="cb64-48"><a href="Chapter3.html#cb64-48" tabindex="-1"></a>rastrs_mvr<span class="ot">=</span>fasterize<span class="sc">::</span><span class="fu">fasterize</span>(nogabali,template_r,<span class="at">field=</span><span class="st">&quot;yes&quot;</span>)</span>
<span id="cb64-49"><a href="Chapter3.html#cb64-49" tabindex="-1"></a>rastrs_mvr<span class="ot">=</span><span class="fu">rast</span>(rastrs_mvr)</span>
<span id="cb64-50"><a href="Chapter3.html#cb64-50" tabindex="-1"></a></span>
<span id="cb64-51"><a href="Chapter3.html#cb64-51" tabindex="-1"></a>pirmsmaskas_rastrs<span class="ot">=</span><span class="fu">ifel</span>(<span class="sc">!</span><span class="fu">is.na</span>(rastrs_mvr)<span class="sc">&amp;</span>maska_meziem<span class="sc">==</span><span class="dv">1</span>,<span class="dv">685</span>,<span class="dv">0</span>)</span>
<span id="cb64-52"><a href="Chapter3.html#cb64-52" tabindex="-1"></a>aizpildits<span class="ot">=</span>terra<span class="sc">::</span><span class="fu">cover</span>(pirmsmaskas_rastrs,nulles)</span>
<span id="cb64-53"><a href="Chapter3.html#cb64-53" tabindex="-1"></a>pecmaskas_rastrs<span class="ot">=</span><span class="fu">mask</span>(aizpildits,template_t,</span>
<span id="cb64-54"><a href="Chapter3.html#cb64-54" tabindex="-1"></a>                      <span class="at">filename=</span><span class="st">&quot;./Rastri_10m/Mezi_PlatlapjuJaunas.tif&quot;</span>,</span>
<span id="cb64-55"><a href="Chapter3.html#cb64-55" tabindex="-1"></a>                      <span class="at">overwrite=</span><span class="cn">TRUE</span>)</span></code></pre></div>
</details>
<p><br></p>
</div>
<div id="Chapter3.2.2.2.21" class="section level5 hasAnchor" number="3.2.2.2.21">
<h5><span class="header-section-number">3.2.2.2.21</span> Platlapju pieaugušās un pāraugušās audzes<a href="Chapter3.html#Chapter3.2.2.2.21" class="anchor-section" aria-label="Anchor link to header"></a></h5>
<p>Rastrs ar šūnas izmēru 10 m un segumu visai Latvijas teritorijai.</p>
<ul>
<li><p>Vērtība <code>686</code> apzīmē šūnas, kurās <a href="Chapter3.html#Chapter3.2.2">vienkāršās ainavas maskā</a> ir
reģistrētas klases diapazonā no <code>600</code> līdz <code>700</code> un <a href="https://www.vmd.gov.lv/lv/meza-valsts-registra-meza-inventarizacijas-failu-struktura">Meža valsts reģistra Meža inventarizācijas failā</a> laukā <code>vgr</code> norādītas vērtības “4” vai “5” <strong>un</strong> kokaudzes pirmā stāva krājas klasifikācija atbilst<br />
<a href="Chapter3.html#Chapter3.2.2.2.14">Platlapju</a>;</p></li>
<li><p>Vērtība <code>0</code> - pārējās Latvijas teritorijā esošās šūnas.</p></li>
</ul>
<p>Zemāk esošās komandu rindas izveido failu <code>Mezi_PlatlapjuVecas.tif</code>.</p>
<details class=chunk-details><summary class=chunk-summary><span class=chunk-summary-text>Code</span></summary>
<div class="sourceCode" id="cb65"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb65-1"><a href="Chapter3.html#cb65-1" tabindex="-1"></a><span class="co"># Libs</span></span>
<span id="cb65-2"><a href="Chapter3.html#cb65-2" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(tidyverse)) {<span class="fu">install.packages</span>(<span class="st">&quot;tidyverse&quot;</span>); <span class="fu">require</span>(tidyverse)}</span>
<span id="cb65-3"><a href="Chapter3.html#cb65-3" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(sf)) {<span class="fu">install.packages</span>(<span class="st">&quot;sf&quot;</span>); <span class="fu">require</span>(sf)}</span>
<span id="cb65-4"><a href="Chapter3.html#cb65-4" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(arrow)) {<span class="fu">install.packages</span>(<span class="st">&quot;arrow&quot;</span>); <span class="fu">require</span>(arrow)}</span>
<span id="cb65-5"><a href="Chapter3.html#cb65-5" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(sfarrow)) {<span class="fu">install.packages</span>(<span class="st">&quot;sfarrow&quot;</span>); <span class="fu">require</span>(sfarrow)}</span>
<span id="cb65-6"><a href="Chapter3.html#cb65-6" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(terra)) {<span class="fu">install.packages</span>(<span class="st">&quot;terra&quot;</span>); <span class="fu">require</span>(terra)}</span>
<span id="cb65-7"><a href="Chapter3.html#cb65-7" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(raster)) {<span class="fu">install.packages</span>(<span class="st">&quot;raster&quot;</span>); <span class="fu">require</span>(raster)}</span>
<span id="cb65-8"><a href="Chapter3.html#cb65-8" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(fasterize)) {<span class="fu">install.packages</span>(<span class="st">&quot;fasterize&quot;</span>); <span class="fu">require</span>(fasterize)}</span>
<span id="cb65-9"><a href="Chapter3.html#cb65-9" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(readxl)) {<span class="fu">install.packages</span>(<span class="st">&quot;readxl&quot;</span>); <span class="fu">require</span>(readxl)}</span>
<span id="cb65-10"><a href="Chapter3.html#cb65-10" tabindex="-1"></a></span>
<span id="cb65-11"><a href="Chapter3.html#cb65-11" tabindex="-1"></a><span class="co"># templates</span></span>
<span id="cb65-12"><a href="Chapter3.html#cb65-12" tabindex="-1"></a>template_t<span class="ot">=</span><span class="fu">rast</span>(<span class="st">&quot;./Templates/TemplateRasters/LV10m_10km.tif&quot;</span>)</span>
<span id="cb65-13"><a href="Chapter3.html#cb65-13" tabindex="-1"></a>template_r<span class="ot">=</span><span class="fu">raster</span>(template_t)</span>
<span id="cb65-14"><a href="Chapter3.html#cb65-14" tabindex="-1"></a></span>
<span id="cb65-15"><a href="Chapter3.html#cb65-15" tabindex="-1"></a>nulles<span class="ot">=</span>terra<span class="sc">::</span><span class="fu">subst</span>(template_t,<span class="at">from=</span><span class="dv">1</span>,<span class="at">to=</span><span class="dv">0</span>)</span>
<span id="cb65-16"><a href="Chapter3.html#cb65-16" tabindex="-1"></a></span>
<span id="cb65-17"><a href="Chapter3.html#cb65-17" tabindex="-1"></a><span class="co"># vienkāršā ainava</span></span>
<span id="cb65-18"><a href="Chapter3.html#cb65-18" tabindex="-1"></a>ainava_t<span class="ot">=</span><span class="fu">rast</span>(<span class="st">&quot;./Rastri_10m/Ainava_vienk_mask.tif&quot;</span>)</span>
<span id="cb65-19"><a href="Chapter3.html#cb65-19" tabindex="-1"></a>ainava_r<span class="ot">=</span><span class="fu">raster</span>(ainava_t)</span>
<span id="cb65-20"><a href="Chapter3.html#cb65-20" tabindex="-1"></a>maska_meziem<span class="ot">=</span><span class="fu">ifel</span>(ainava_t<span class="sc">&gt;</span><span class="dv">600</span><span class="sc">&amp;</span>ainava_t<span class="sc">&lt;</span><span class="dv">700</span>,<span class="dv">1</span>,<span class="cn">NA</span>)</span>
<span id="cb65-21"><a href="Chapter3.html#cb65-21" tabindex="-1"></a></span>
<span id="cb65-22"><a href="Chapter3.html#cb65-22" tabindex="-1"></a><span class="co"># meži</span></span>
<span id="cb65-23"><a href="Chapter3.html#cb65-23" tabindex="-1"></a>mvr<span class="ot">=</span><span class="fu">st_read_parquet</span>(<span class="st">&quot;./IevadesDati/MVR/nogabali_2024janv.parquet&quot;</span>)</span>
<span id="cb65-24"><a href="Chapter3.html#cb65-24" tabindex="-1"></a>mvr<span class="sc">$</span>yes<span class="ot">=</span><span class="dv">1</span></span>
<span id="cb65-25"><a href="Chapter3.html#cb65-25" tabindex="-1"></a>skujkoki<span class="ot">=</span><span class="fu">c</span>(<span class="st">&quot;1&quot;</span>,<span class="st">&quot;3&quot;</span>,<span class="st">&quot;13&quot;</span>,<span class="st">&quot;14&quot;</span>,<span class="st">&quot;15&quot;</span>,<span class="st">&quot;22&quot;</span>,<span class="st">&quot;23&quot;</span>) <span class="co"># 7</span></span>
<span id="cb65-26"><a href="Chapter3.html#cb65-26" tabindex="-1"></a>saurlapji<span class="ot">=</span><span class="fu">c</span>(<span class="st">&quot;4&quot;</span>,<span class="st">&quot;6&quot;</span>,<span class="st">&quot;8&quot;</span>,<span class="st">&quot;9&quot;</span>,<span class="st">&quot;19&quot;</span>,<span class="st">&quot;20&quot;</span>,<span class="st">&quot;21&quot;</span>,<span class="st">&quot;32&quot;</span>,<span class="st">&quot;35&quot;</span>,<span class="st">&quot;50&quot;</span>,<span class="st">&quot;68&quot;</span>) <span class="co"># 11</span></span>
<span id="cb65-27"><a href="Chapter3.html#cb65-27" tabindex="-1"></a>platlapji<span class="ot">=</span><span class="fu">c</span>(<span class="st">&quot;10&quot;</span>,<span class="st">&quot;11&quot;</span>,<span class="st">&quot;12&quot;</span>,<span class="st">&quot;16&quot;</span>,<span class="st">&quot;17&quot;</span>,<span class="st">&quot;18&quot;</span>,<span class="st">&quot;24&quot;</span>,<span class="st">&quot;25&quot;</span>,<span class="st">&quot;26&quot;</span>,<span class="st">&quot;27&quot;</span>,<span class="st">&quot;28&quot;</span>,<span class="st">&quot;29&quot;</span>,</span>
<span id="cb65-28"><a href="Chapter3.html#cb65-28" tabindex="-1"></a>            <span class="st">&quot;61&quot;</span>,<span class="st">&quot;62&quot;</span>,<span class="st">&quot;63&quot;</span>,<span class="st">&quot;64&quot;</span>,<span class="st">&quot;65&quot;</span>,<span class="st">&quot;66&quot;</span>,<span class="st">&quot;67&quot;</span>,<span class="st">&quot;69&quot;</span>) <span class="co"># 20</span></span>
<span id="cb65-29"><a href="Chapter3.html#cb65-29" tabindex="-1"></a>mvr<span class="ot">=</span>mvr <span class="sc">%&gt;%</span> </span>
<span id="cb65-30"><a href="Chapter3.html#cb65-30" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">kraja_skujkoku=</span><span class="fu">ifelse</span>(s10 <span class="sc">%in%</span> skujkoki,v10,<span class="dv">0</span>)<span class="sc">+</span></span>
<span id="cb65-31"><a href="Chapter3.html#cb65-31" tabindex="-1"></a>           <span class="fu">ifelse</span>(s11 <span class="sc">%in%</span> skujkoki,v11,<span class="dv">0</span>)<span class="sc">+</span><span class="fu">ifelse</span>(s12 <span class="sc">%in%</span> skujkoki,v12,<span class="dv">0</span>)<span class="sc">+</span></span>
<span id="cb65-32"><a href="Chapter3.html#cb65-32" tabindex="-1"></a>           <span class="fu">ifelse</span>(s13 <span class="sc">%in%</span> skujkoki,v13,<span class="dv">0</span>)<span class="sc">+</span><span class="fu">ifelse</span>(s14 <span class="sc">%in%</span> skujkoki,v14,<span class="dv">0</span>),</span>
<span id="cb65-33"><a href="Chapter3.html#cb65-33" tabindex="-1"></a>         <span class="at">kraja_saurlapju=</span><span class="fu">ifelse</span>(s10 <span class="sc">%in%</span> saurlapji,v10,<span class="dv">0</span>)<span class="sc">+</span></span>
<span id="cb65-34"><a href="Chapter3.html#cb65-34" tabindex="-1"></a>           <span class="fu">ifelse</span>(s11 <span class="sc">%in%</span> saurlapji,v11,<span class="dv">0</span>)<span class="sc">+</span><span class="fu">ifelse</span>(s12 <span class="sc">%in%</span> saurlapji,v12,<span class="dv">0</span>)<span class="sc">+</span></span>
<span id="cb65-35"><a href="Chapter3.html#cb65-35" tabindex="-1"></a>           <span class="fu">ifelse</span>(s13 <span class="sc">%in%</span> saurlapji,v13,<span class="dv">0</span>)<span class="sc">+</span><span class="fu">ifelse</span>(s14 <span class="sc">%in%</span> saurlapji,v14,<span class="dv">0</span>),</span>
<span id="cb65-36"><a href="Chapter3.html#cb65-36" tabindex="-1"></a>         <span class="at">kraja_platlapju=</span><span class="fu">ifelse</span>(s10 <span class="sc">%in%</span> platlapji,v10,<span class="dv">0</span>)<span class="sc">+</span></span>
<span id="cb65-37"><a href="Chapter3.html#cb65-37" tabindex="-1"></a>           <span class="fu">ifelse</span>(s11 <span class="sc">%in%</span> platlapji,v11,<span class="dv">0</span>)<span class="sc">+</span><span class="fu">ifelse</span>(s12 <span class="sc">%in%</span> platlapji,v12,<span class="dv">0</span>)<span class="sc">+</span></span>
<span id="cb65-38"><a href="Chapter3.html#cb65-38" tabindex="-1"></a>           <span class="fu">ifelse</span>(s13 <span class="sc">%in%</span> platlapji,v13,<span class="dv">0</span>)<span class="sc">+</span><span class="fu">ifelse</span>(s14 <span class="sc">%in%</span> platlapji,v14,<span class="dv">0</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb65-39"><a href="Chapter3.html#cb65-39" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">kopeja_kraja=</span>kraja_skujkoku<span class="sc">+</span>kraja_platlapju<span class="sc">+</span>kraja_saurlapju) <span class="sc">%&gt;%</span> </span>
<span id="cb65-40"><a href="Chapter3.html#cb65-40" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">tips=</span><span class="fu">ifelse</span>(kraja_skujkoku<span class="sc">/</span>kopeja_kraja<span class="sc">&gt;=</span><span class="fl">0.75</span>,<span class="st">&quot;skujkoku&quot;</span>,</span>
<span id="cb65-41"><a href="Chapter3.html#cb65-41" tabindex="-1"></a>                     <span class="fu">ifelse</span>(kraja_saurlapju<span class="sc">/</span>kopeja_kraja<span class="sc">&gt;=</span><span class="fl">0.75</span>,<span class="st">&quot;saurlapju&quot;</span>,</span>
<span id="cb65-42"><a href="Chapter3.html#cb65-42" tabindex="-1"></a>                            <span class="fu">ifelse</span>(kraja_platlapju<span class="sc">/</span>kopeja_kraja<span class="sc">&gt;</span><span class="fl">0.5</span>,<span class="st">&quot;platlapju&quot;</span>,</span>
<span id="cb65-43"><a href="Chapter3.html#cb65-43" tabindex="-1"></a>                                   <span class="st">&quot;jauktu koku&quot;</span>))))</span>
<span id="cb65-44"><a href="Chapter3.html#cb65-44" tabindex="-1"></a><span class="co"># Platlapju pieaugušās un pāraugušās audzes</span></span>
<span id="cb65-45"><a href="Chapter3.html#cb65-45" tabindex="-1"></a>nogabali<span class="ot">=</span>mvr <span class="sc">%&gt;%</span> </span>
<span id="cb65-46"><a href="Chapter3.html#cb65-46" tabindex="-1"></a>  <span class="fu">filter</span>(zkat<span class="sc">==</span><span class="st">&quot;10&quot;</span><span class="sc">&amp;</span>tips<span class="sc">==</span><span class="st">&quot;platlapju&quot;</span><span class="sc">&amp;</span>(vgr<span class="sc">==</span><span class="st">&quot;4&quot;</span><span class="sc">|</span>vgr<span class="sc">==</span><span class="st">&quot;5&quot;</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb65-47"><a href="Chapter3.html#cb65-47" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">yes=</span><span class="dv">686</span>) <span class="co"># </span></span>
<span id="cb65-48"><a href="Chapter3.html#cb65-48" tabindex="-1"></a>rastrs_mvr<span class="ot">=</span>fasterize<span class="sc">::</span><span class="fu">fasterize</span>(nogabali,template_r,<span class="at">field=</span><span class="st">&quot;yes&quot;</span>)</span>
<span id="cb65-49"><a href="Chapter3.html#cb65-49" tabindex="-1"></a>rastrs_mvr<span class="ot">=</span><span class="fu">rast</span>(rastrs_mvr)</span>
<span id="cb65-50"><a href="Chapter3.html#cb65-50" tabindex="-1"></a></span>
<span id="cb65-51"><a href="Chapter3.html#cb65-51" tabindex="-1"></a>pirmsmaskas_rastrs<span class="ot">=</span><span class="fu">ifel</span>(<span class="sc">!</span><span class="fu">is.na</span>(rastrs_mvr)<span class="sc">&amp;</span>maska_meziem<span class="sc">==</span><span class="dv">1</span>,<span class="dv">686</span>,<span class="dv">0</span>)</span>
<span id="cb65-52"><a href="Chapter3.html#cb65-52" tabindex="-1"></a>aizpildits<span class="ot">=</span>terra<span class="sc">::</span><span class="fu">cover</span>(pirmsmaskas_rastrs,nulles)</span>
<span id="cb65-53"><a href="Chapter3.html#cb65-53" tabindex="-1"></a>pecmaskas_rastrs<span class="ot">=</span><span class="fu">mask</span>(aizpildits,template_t,</span>
<span id="cb65-54"><a href="Chapter3.html#cb65-54" tabindex="-1"></a>                      <span class="at">filename=</span><span class="st">&quot;./Rastri_10m/Mezi_PlatlapjuVecas.tif&quot;</span>,</span>
<span id="cb65-55"><a href="Chapter3.html#cb65-55" tabindex="-1"></a>                      <span class="at">overwrite=</span><span class="cn">TRUE</span>)</span></code></pre></div>
</details>
<p><br></p>
</div>
<div id="Chapter3.2.2.2.22" class="section level5 hasAnchor" number="3.2.2.2.22">
<h5><span class="header-section-number">3.2.2.2.22</span> Jauktu koku jaunaudzes, vidēja vecuma un briestaudzes<a href="Chapter3.html#Chapter3.2.2.2.22" class="anchor-section" aria-label="Anchor link to header"></a></h5>
<p>Rastrs ar šūnas izmēru 10 m un segumu visai Latvijas teritorijai.</p>
<ul>
<li><p>Vērtība <code>687</code> apzīmē šūnas, kurās <a href="Chapter3.html#Chapter3.2.2">vienkāršās ainavas maskā</a> ir
reģistrētas klases diapazonā no <code>600</code> līdz <code>700</code> un <a href="https://www.vmd.gov.lv/lv/meza-valsts-registra-meza-inventarizacijas-failu-struktura">Meža valsts reģistra Meža inventarizācijas failā</a> laukā <code>vgr</code> norādītas vērtības “1”, “2” vai “3” <strong>un</strong> kokaudzes pirmā stāva krājas klasifikācija atbilst<br />
<a href="Chapter3.html#Chapter3.2.2.2.15">Jauktu koku</a>;</p></li>
<li><p>Vērtība <code>0</code> - pārējās Latvijas teritorijā esošās šūnas.</p></li>
</ul>
<p>Zemāk esošās komandu rindas izveido failu <code>Mezi_JauktkokuJaunas.tif</code>.</p>
<details class=chunk-details><summary class=chunk-summary><span class=chunk-summary-text>Code</span></summary>
<div class="sourceCode" id="cb66"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb66-1"><a href="Chapter3.html#cb66-1" tabindex="-1"></a><span class="co"># Libs</span></span>
<span id="cb66-2"><a href="Chapter3.html#cb66-2" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(tidyverse)) {<span class="fu">install.packages</span>(<span class="st">&quot;tidyverse&quot;</span>); <span class="fu">require</span>(tidyverse)}</span>
<span id="cb66-3"><a href="Chapter3.html#cb66-3" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(sf)) {<span class="fu">install.packages</span>(<span class="st">&quot;sf&quot;</span>); <span class="fu">require</span>(sf)}</span>
<span id="cb66-4"><a href="Chapter3.html#cb66-4" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(arrow)) {<span class="fu">install.packages</span>(<span class="st">&quot;arrow&quot;</span>); <span class="fu">require</span>(arrow)}</span>
<span id="cb66-5"><a href="Chapter3.html#cb66-5" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(sfarrow)) {<span class="fu">install.packages</span>(<span class="st">&quot;sfarrow&quot;</span>); <span class="fu">require</span>(sfarrow)}</span>
<span id="cb66-6"><a href="Chapter3.html#cb66-6" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(terra)) {<span class="fu">install.packages</span>(<span class="st">&quot;terra&quot;</span>); <span class="fu">require</span>(terra)}</span>
<span id="cb66-7"><a href="Chapter3.html#cb66-7" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(raster)) {<span class="fu">install.packages</span>(<span class="st">&quot;raster&quot;</span>); <span class="fu">require</span>(raster)}</span>
<span id="cb66-8"><a href="Chapter3.html#cb66-8" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(fasterize)) {<span class="fu">install.packages</span>(<span class="st">&quot;fasterize&quot;</span>); <span class="fu">require</span>(fasterize)}</span>
<span id="cb66-9"><a href="Chapter3.html#cb66-9" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(readxl)) {<span class="fu">install.packages</span>(<span class="st">&quot;readxl&quot;</span>); <span class="fu">require</span>(readxl)}</span>
<span id="cb66-10"><a href="Chapter3.html#cb66-10" tabindex="-1"></a></span>
<span id="cb66-11"><a href="Chapter3.html#cb66-11" tabindex="-1"></a><span class="co"># templates</span></span>
<span id="cb66-12"><a href="Chapter3.html#cb66-12" tabindex="-1"></a>template_t<span class="ot">=</span><span class="fu">rast</span>(<span class="st">&quot;./Templates/TemplateRasters/LV10m_10km.tif&quot;</span>)</span>
<span id="cb66-13"><a href="Chapter3.html#cb66-13" tabindex="-1"></a>template_r<span class="ot">=</span><span class="fu">raster</span>(template_t)</span>
<span id="cb66-14"><a href="Chapter3.html#cb66-14" tabindex="-1"></a></span>
<span id="cb66-15"><a href="Chapter3.html#cb66-15" tabindex="-1"></a>nulles<span class="ot">=</span>terra<span class="sc">::</span><span class="fu">subst</span>(template_t,<span class="at">from=</span><span class="dv">1</span>,<span class="at">to=</span><span class="dv">0</span>)</span>
<span id="cb66-16"><a href="Chapter3.html#cb66-16" tabindex="-1"></a></span>
<span id="cb66-17"><a href="Chapter3.html#cb66-17" tabindex="-1"></a><span class="co"># vienkāršā ainava</span></span>
<span id="cb66-18"><a href="Chapter3.html#cb66-18" tabindex="-1"></a>ainava_t<span class="ot">=</span><span class="fu">rast</span>(<span class="st">&quot;./Rastri_10m/Ainava_vienk_mask.tif&quot;</span>)</span>
<span id="cb66-19"><a href="Chapter3.html#cb66-19" tabindex="-1"></a>ainava_r<span class="ot">=</span><span class="fu">raster</span>(ainava_t)</span>
<span id="cb66-20"><a href="Chapter3.html#cb66-20" tabindex="-1"></a>maska_meziem<span class="ot">=</span><span class="fu">ifel</span>(ainava_t<span class="sc">&gt;</span><span class="dv">600</span><span class="sc">&amp;</span>ainava_t<span class="sc">&lt;</span><span class="dv">700</span>,<span class="dv">1</span>,<span class="cn">NA</span>)</span>
<span id="cb66-21"><a href="Chapter3.html#cb66-21" tabindex="-1"></a></span>
<span id="cb66-22"><a href="Chapter3.html#cb66-22" tabindex="-1"></a><span class="co"># meži</span></span>
<span id="cb66-23"><a href="Chapter3.html#cb66-23" tabindex="-1"></a>mvr<span class="ot">=</span><span class="fu">st_read_parquet</span>(<span class="st">&quot;./IevadesDati/MVR/nogabali_2024janv.parquet&quot;</span>)</span>
<span id="cb66-24"><a href="Chapter3.html#cb66-24" tabindex="-1"></a>mvr<span class="sc">$</span>yes<span class="ot">=</span><span class="dv">1</span></span>
<span id="cb66-25"><a href="Chapter3.html#cb66-25" tabindex="-1"></a>skujkoki<span class="ot">=</span><span class="fu">c</span>(<span class="st">&quot;1&quot;</span>,<span class="st">&quot;3&quot;</span>,<span class="st">&quot;13&quot;</span>,<span class="st">&quot;14&quot;</span>,<span class="st">&quot;15&quot;</span>,<span class="st">&quot;22&quot;</span>,<span class="st">&quot;23&quot;</span>) <span class="co"># 7</span></span>
<span id="cb66-26"><a href="Chapter3.html#cb66-26" tabindex="-1"></a>saurlapji<span class="ot">=</span><span class="fu">c</span>(<span class="st">&quot;4&quot;</span>,<span class="st">&quot;6&quot;</span>,<span class="st">&quot;8&quot;</span>,<span class="st">&quot;9&quot;</span>,<span class="st">&quot;19&quot;</span>,<span class="st">&quot;20&quot;</span>,<span class="st">&quot;21&quot;</span>,<span class="st">&quot;32&quot;</span>,<span class="st">&quot;35&quot;</span>,<span class="st">&quot;50&quot;</span>,<span class="st">&quot;68&quot;</span>) <span class="co"># 11</span></span>
<span id="cb66-27"><a href="Chapter3.html#cb66-27" tabindex="-1"></a>platlapji<span class="ot">=</span><span class="fu">c</span>(<span class="st">&quot;10&quot;</span>,<span class="st">&quot;11&quot;</span>,<span class="st">&quot;12&quot;</span>,<span class="st">&quot;16&quot;</span>,<span class="st">&quot;17&quot;</span>,<span class="st">&quot;18&quot;</span>,<span class="st">&quot;24&quot;</span>,<span class="st">&quot;25&quot;</span>,<span class="st">&quot;26&quot;</span>,<span class="st">&quot;27&quot;</span>,<span class="st">&quot;28&quot;</span>,<span class="st">&quot;29&quot;</span>,</span>
<span id="cb66-28"><a href="Chapter3.html#cb66-28" tabindex="-1"></a>            <span class="st">&quot;61&quot;</span>,<span class="st">&quot;62&quot;</span>,<span class="st">&quot;63&quot;</span>,<span class="st">&quot;64&quot;</span>,<span class="st">&quot;65&quot;</span>,<span class="st">&quot;66&quot;</span>,<span class="st">&quot;67&quot;</span>,<span class="st">&quot;69&quot;</span>) <span class="co"># 20</span></span>
<span id="cb66-29"><a href="Chapter3.html#cb66-29" tabindex="-1"></a>mvr<span class="ot">=</span>mvr <span class="sc">%&gt;%</span> </span>
<span id="cb66-30"><a href="Chapter3.html#cb66-30" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">kraja_skujkoku=</span><span class="fu">ifelse</span>(s10 <span class="sc">%in%</span> skujkoki,v10,<span class="dv">0</span>)<span class="sc">+</span></span>
<span id="cb66-31"><a href="Chapter3.html#cb66-31" tabindex="-1"></a>           <span class="fu">ifelse</span>(s11 <span class="sc">%in%</span> skujkoki,v11,<span class="dv">0</span>)<span class="sc">+</span><span class="fu">ifelse</span>(s12 <span class="sc">%in%</span> skujkoki,v12,<span class="dv">0</span>)<span class="sc">+</span></span>
<span id="cb66-32"><a href="Chapter3.html#cb66-32" tabindex="-1"></a>           <span class="fu">ifelse</span>(s13 <span class="sc">%in%</span> skujkoki,v13,<span class="dv">0</span>)<span class="sc">+</span><span class="fu">ifelse</span>(s14 <span class="sc">%in%</span> skujkoki,v14,<span class="dv">0</span>),</span>
<span id="cb66-33"><a href="Chapter3.html#cb66-33" tabindex="-1"></a>         <span class="at">kraja_saurlapju=</span><span class="fu">ifelse</span>(s10 <span class="sc">%in%</span> saurlapji,v10,<span class="dv">0</span>)<span class="sc">+</span></span>
<span id="cb66-34"><a href="Chapter3.html#cb66-34" tabindex="-1"></a>           <span class="fu">ifelse</span>(s11 <span class="sc">%in%</span> saurlapji,v11,<span class="dv">0</span>)<span class="sc">+</span><span class="fu">ifelse</span>(s12 <span class="sc">%in%</span> saurlapji,v12,<span class="dv">0</span>)<span class="sc">+</span></span>
<span id="cb66-35"><a href="Chapter3.html#cb66-35" tabindex="-1"></a>           <span class="fu">ifelse</span>(s13 <span class="sc">%in%</span> saurlapji,v13,<span class="dv">0</span>)<span class="sc">+</span><span class="fu">ifelse</span>(s14 <span class="sc">%in%</span> saurlapji,v14,<span class="dv">0</span>),</span>
<span id="cb66-36"><a href="Chapter3.html#cb66-36" tabindex="-1"></a>         <span class="at">kraja_platlapju=</span><span class="fu">ifelse</span>(s10 <span class="sc">%in%</span> platlapji,v10,<span class="dv">0</span>)<span class="sc">+</span></span>
<span id="cb66-37"><a href="Chapter3.html#cb66-37" tabindex="-1"></a>           <span class="fu">ifelse</span>(s11 <span class="sc">%in%</span> platlapji,v11,<span class="dv">0</span>)<span class="sc">+</span><span class="fu">ifelse</span>(s12 <span class="sc">%in%</span> platlapji,v12,<span class="dv">0</span>)<span class="sc">+</span></span>
<span id="cb66-38"><a href="Chapter3.html#cb66-38" tabindex="-1"></a>           <span class="fu">ifelse</span>(s13 <span class="sc">%in%</span> platlapji,v13,<span class="dv">0</span>)<span class="sc">+</span><span class="fu">ifelse</span>(s14 <span class="sc">%in%</span> platlapji,v14,<span class="dv">0</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb66-39"><a href="Chapter3.html#cb66-39" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">kopeja_kraja=</span>kraja_skujkoku<span class="sc">+</span>kraja_platlapju<span class="sc">+</span>kraja_saurlapju) <span class="sc">%&gt;%</span> </span>
<span id="cb66-40"><a href="Chapter3.html#cb66-40" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">tips=</span><span class="fu">ifelse</span>(kraja_skujkoku<span class="sc">/</span>kopeja_kraja<span class="sc">&gt;=</span><span class="fl">0.75</span>,<span class="st">&quot;skujkoku&quot;</span>,</span>
<span id="cb66-41"><a href="Chapter3.html#cb66-41" tabindex="-1"></a>                     <span class="fu">ifelse</span>(kraja_saurlapju<span class="sc">/</span>kopeja_kraja<span class="sc">&gt;=</span><span class="fl">0.75</span>,<span class="st">&quot;saurlapju&quot;</span>,</span>
<span id="cb66-42"><a href="Chapter3.html#cb66-42" tabindex="-1"></a>                            <span class="fu">ifelse</span>(kraja_platlapju<span class="sc">/</span>kopeja_kraja<span class="sc">&gt;</span><span class="fl">0.5</span>,<span class="st">&quot;platlapju&quot;</span>,</span>
<span id="cb66-43"><a href="Chapter3.html#cb66-43" tabindex="-1"></a>                                   <span class="st">&quot;jauktu koku&quot;</span>))))</span>
<span id="cb66-44"><a href="Chapter3.html#cb66-44" tabindex="-1"></a><span class="co"># Jauktu koku jaunaudzes, vidēja vecuma un briestaudzes</span></span>
<span id="cb66-45"><a href="Chapter3.html#cb66-45" tabindex="-1"></a>nogabali<span class="ot">=</span>mvr <span class="sc">%&gt;%</span> </span>
<span id="cb66-46"><a href="Chapter3.html#cb66-46" tabindex="-1"></a>  <span class="fu">filter</span>(zkat<span class="sc">==</span><span class="st">&quot;10&quot;</span><span class="sc">&amp;</span>tips<span class="sc">==</span><span class="st">&quot;jauktu koku&quot;</span><span class="sc">&amp;</span>(vgr<span class="sc">==</span><span class="st">&quot;1&quot;</span><span class="sc">|</span>vgr<span class="sc">==</span><span class="st">&quot;2&quot;</span><span class="sc">|</span>vgr<span class="sc">==</span><span class="st">&quot;3&quot;</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb66-47"><a href="Chapter3.html#cb66-47" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">yes=</span><span class="dv">687</span>) <span class="co"># </span></span>
<span id="cb66-48"><a href="Chapter3.html#cb66-48" tabindex="-1"></a>rastrs_mvr<span class="ot">=</span>fasterize<span class="sc">::</span><span class="fu">fasterize</span>(nogabali,template_r,<span class="at">field=</span><span class="st">&quot;yes&quot;</span>)</span>
<span id="cb66-49"><a href="Chapter3.html#cb66-49" tabindex="-1"></a>rastrs_mvr<span class="ot">=</span><span class="fu">rast</span>(rastrs_mvr)</span>
<span id="cb66-50"><a href="Chapter3.html#cb66-50" tabindex="-1"></a></span>
<span id="cb66-51"><a href="Chapter3.html#cb66-51" tabindex="-1"></a>pirmsmaskas_rastrs<span class="ot">=</span><span class="fu">ifel</span>(<span class="sc">!</span><span class="fu">is.na</span>(rastrs_mvr)<span class="sc">&amp;</span>maska_meziem<span class="sc">==</span><span class="dv">1</span>,<span class="dv">687</span>,<span class="dv">0</span>)</span>
<span id="cb66-52"><a href="Chapter3.html#cb66-52" tabindex="-1"></a>aizpildits<span class="ot">=</span>terra<span class="sc">::</span><span class="fu">cover</span>(pirmsmaskas_rastrs,nulles)</span>
<span id="cb66-53"><a href="Chapter3.html#cb66-53" tabindex="-1"></a>pecmaskas_rastrs<span class="ot">=</span><span class="fu">mask</span>(aizpildits,template_t,</span>
<span id="cb66-54"><a href="Chapter3.html#cb66-54" tabindex="-1"></a>                      <span class="at">filename=</span><span class="st">&quot;./Rastri_10m/Mezi_JauktkokuJaunas.tif&quot;</span>,</span>
<span id="cb66-55"><a href="Chapter3.html#cb66-55" tabindex="-1"></a>                      <span class="at">overwrite=</span><span class="cn">TRUE</span>)</span></code></pre></div>
</details>
<p><br></p>
</div>
<div id="Chapter3.2.2.2.23" class="section level5 hasAnchor" number="3.2.2.2.23">
<h5><span class="header-section-number">3.2.2.2.23</span> Jauktu koku pieaugušās un pāraugušās audzes<a href="Chapter3.html#Chapter3.2.2.2.23" class="anchor-section" aria-label="Anchor link to header"></a></h5>
<p>Rastrs ar šūnas izmēru 10 m un segumu visai Latvijas teritorijai.</p>
<ul>
<li><p>Vērtība <code>688</code> apzīmē šūnas, kurās <a href="Chapter3.html#Chapter3.2.2">vienkāršās ainavas maskā</a> ir
reģistrētas klases diapazonā no <code>600</code> līdz <code>700</code> un <a href="https://www.vmd.gov.lv/lv/meza-valsts-registra-meza-inventarizacijas-failu-struktura">Meža valsts reģistra Meža inventarizācijas failā</a> laukā <code>vgr</code> norādītas vērtības “4” vai “5” <strong>un</strong> kokaudzes pirmā stāva krājas klasifikācija atbilst<br />
<a href="Chapter3.html#Chapter3.2.2.2.15">Jauktu koku</a>;</p></li>
<li><p>Vērtība <code>0</code> - pārējās Latvijas teritorijā esošās šūnas.</p></li>
</ul>
<p>Zemāk esošās komandu rindas izveido failu <code>Mezi_JauktkokuVecas.tif</code>.</p>
<details class=chunk-details><summary class=chunk-summary><span class=chunk-summary-text>Code</span></summary>
<div class="sourceCode" id="cb67"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb67-1"><a href="Chapter3.html#cb67-1" tabindex="-1"></a><span class="co"># Libs</span></span>
<span id="cb67-2"><a href="Chapter3.html#cb67-2" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(tidyverse)) {<span class="fu">install.packages</span>(<span class="st">&quot;tidyverse&quot;</span>); <span class="fu">require</span>(tidyverse)}</span>
<span id="cb67-3"><a href="Chapter3.html#cb67-3" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(sf)) {<span class="fu">install.packages</span>(<span class="st">&quot;sf&quot;</span>); <span class="fu">require</span>(sf)}</span>
<span id="cb67-4"><a href="Chapter3.html#cb67-4" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(arrow)) {<span class="fu">install.packages</span>(<span class="st">&quot;arrow&quot;</span>); <span class="fu">require</span>(arrow)}</span>
<span id="cb67-5"><a href="Chapter3.html#cb67-5" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(sfarrow)) {<span class="fu">install.packages</span>(<span class="st">&quot;sfarrow&quot;</span>); <span class="fu">require</span>(sfarrow)}</span>
<span id="cb67-6"><a href="Chapter3.html#cb67-6" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(terra)) {<span class="fu">install.packages</span>(<span class="st">&quot;terra&quot;</span>); <span class="fu">require</span>(terra)}</span>
<span id="cb67-7"><a href="Chapter3.html#cb67-7" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(raster)) {<span class="fu">install.packages</span>(<span class="st">&quot;raster&quot;</span>); <span class="fu">require</span>(raster)}</span>
<span id="cb67-8"><a href="Chapter3.html#cb67-8" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(fasterize)) {<span class="fu">install.packages</span>(<span class="st">&quot;fasterize&quot;</span>); <span class="fu">require</span>(fasterize)}</span>
<span id="cb67-9"><a href="Chapter3.html#cb67-9" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(readxl)) {<span class="fu">install.packages</span>(<span class="st">&quot;readxl&quot;</span>); <span class="fu">require</span>(readxl)}</span>
<span id="cb67-10"><a href="Chapter3.html#cb67-10" tabindex="-1"></a></span>
<span id="cb67-11"><a href="Chapter3.html#cb67-11" tabindex="-1"></a><span class="co"># templates</span></span>
<span id="cb67-12"><a href="Chapter3.html#cb67-12" tabindex="-1"></a>template_t<span class="ot">=</span><span class="fu">rast</span>(<span class="st">&quot;./Templates/TemplateRasters/LV10m_10km.tif&quot;</span>)</span>
<span id="cb67-13"><a href="Chapter3.html#cb67-13" tabindex="-1"></a>template_r<span class="ot">=</span><span class="fu">raster</span>(template_t)</span>
<span id="cb67-14"><a href="Chapter3.html#cb67-14" tabindex="-1"></a></span>
<span id="cb67-15"><a href="Chapter3.html#cb67-15" tabindex="-1"></a>nulles<span class="ot">=</span>terra<span class="sc">::</span><span class="fu">subst</span>(template_t,<span class="at">from=</span><span class="dv">1</span>,<span class="at">to=</span><span class="dv">0</span>)</span>
<span id="cb67-16"><a href="Chapter3.html#cb67-16" tabindex="-1"></a></span>
<span id="cb67-17"><a href="Chapter3.html#cb67-17" tabindex="-1"></a><span class="co"># vienkāršā ainava</span></span>
<span id="cb67-18"><a href="Chapter3.html#cb67-18" tabindex="-1"></a>ainava_t<span class="ot">=</span><span class="fu">rast</span>(<span class="st">&quot;./Rastri_10m/Ainava_vienk_mask.tif&quot;</span>)</span>
<span id="cb67-19"><a href="Chapter3.html#cb67-19" tabindex="-1"></a>ainava_r<span class="ot">=</span><span class="fu">raster</span>(ainava_t)</span>
<span id="cb67-20"><a href="Chapter3.html#cb67-20" tabindex="-1"></a>maska_meziem<span class="ot">=</span><span class="fu">ifel</span>(ainava_t<span class="sc">&gt;</span><span class="dv">600</span><span class="sc">&amp;</span>ainava_t<span class="sc">&lt;</span><span class="dv">700</span>,<span class="dv">1</span>,<span class="cn">NA</span>)</span>
<span id="cb67-21"><a href="Chapter3.html#cb67-21" tabindex="-1"></a></span>
<span id="cb67-22"><a href="Chapter3.html#cb67-22" tabindex="-1"></a><span class="co"># meži</span></span>
<span id="cb67-23"><a href="Chapter3.html#cb67-23" tabindex="-1"></a>mvr<span class="ot">=</span><span class="fu">st_read_parquet</span>(<span class="st">&quot;./IevadesDati/MVR/nogabali_2024janv.parquet&quot;</span>)</span>
<span id="cb67-24"><a href="Chapter3.html#cb67-24" tabindex="-1"></a>mvr<span class="sc">$</span>yes<span class="ot">=</span><span class="dv">1</span></span>
<span id="cb67-25"><a href="Chapter3.html#cb67-25" tabindex="-1"></a>skujkoki<span class="ot">=</span><span class="fu">c</span>(<span class="st">&quot;1&quot;</span>,<span class="st">&quot;3&quot;</span>,<span class="st">&quot;13&quot;</span>,<span class="st">&quot;14&quot;</span>,<span class="st">&quot;15&quot;</span>,<span class="st">&quot;22&quot;</span>,<span class="st">&quot;23&quot;</span>) <span class="co"># 7</span></span>
<span id="cb67-26"><a href="Chapter3.html#cb67-26" tabindex="-1"></a>saurlapji<span class="ot">=</span><span class="fu">c</span>(<span class="st">&quot;4&quot;</span>,<span class="st">&quot;6&quot;</span>,<span class="st">&quot;8&quot;</span>,<span class="st">&quot;9&quot;</span>,<span class="st">&quot;19&quot;</span>,<span class="st">&quot;20&quot;</span>,<span class="st">&quot;21&quot;</span>,<span class="st">&quot;32&quot;</span>,<span class="st">&quot;35&quot;</span>,<span class="st">&quot;50&quot;</span>,<span class="st">&quot;68&quot;</span>) <span class="co"># 11</span></span>
<span id="cb67-27"><a href="Chapter3.html#cb67-27" tabindex="-1"></a>platlapji<span class="ot">=</span><span class="fu">c</span>(<span class="st">&quot;10&quot;</span>,<span class="st">&quot;11&quot;</span>,<span class="st">&quot;12&quot;</span>,<span class="st">&quot;16&quot;</span>,<span class="st">&quot;17&quot;</span>,<span class="st">&quot;18&quot;</span>,<span class="st">&quot;24&quot;</span>,<span class="st">&quot;25&quot;</span>,<span class="st">&quot;26&quot;</span>,<span class="st">&quot;27&quot;</span>,<span class="st">&quot;28&quot;</span>,<span class="st">&quot;29&quot;</span>,</span>
<span id="cb67-28"><a href="Chapter3.html#cb67-28" tabindex="-1"></a>            <span class="st">&quot;61&quot;</span>,<span class="st">&quot;62&quot;</span>,<span class="st">&quot;63&quot;</span>,<span class="st">&quot;64&quot;</span>,<span class="st">&quot;65&quot;</span>,<span class="st">&quot;66&quot;</span>,<span class="st">&quot;67&quot;</span>,<span class="st">&quot;69&quot;</span>) <span class="co"># 20</span></span>
<span id="cb67-29"><a href="Chapter3.html#cb67-29" tabindex="-1"></a>mvr<span class="ot">=</span>mvr <span class="sc">%&gt;%</span> </span>
<span id="cb67-30"><a href="Chapter3.html#cb67-30" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">kraja_skujkoku=</span><span class="fu">ifelse</span>(s10 <span class="sc">%in%</span> skujkoki,v10,<span class="dv">0</span>)<span class="sc">+</span></span>
<span id="cb67-31"><a href="Chapter3.html#cb67-31" tabindex="-1"></a>           <span class="fu">ifelse</span>(s11 <span class="sc">%in%</span> skujkoki,v11,<span class="dv">0</span>)<span class="sc">+</span><span class="fu">ifelse</span>(s12 <span class="sc">%in%</span> skujkoki,v12,<span class="dv">0</span>)<span class="sc">+</span></span>
<span id="cb67-32"><a href="Chapter3.html#cb67-32" tabindex="-1"></a>           <span class="fu">ifelse</span>(s13 <span class="sc">%in%</span> skujkoki,v13,<span class="dv">0</span>)<span class="sc">+</span><span class="fu">ifelse</span>(s14 <span class="sc">%in%</span> skujkoki,v14,<span class="dv">0</span>),</span>
<span id="cb67-33"><a href="Chapter3.html#cb67-33" tabindex="-1"></a>         <span class="at">kraja_saurlapju=</span><span class="fu">ifelse</span>(s10 <span class="sc">%in%</span> saurlapji,v10,<span class="dv">0</span>)<span class="sc">+</span></span>
<span id="cb67-34"><a href="Chapter3.html#cb67-34" tabindex="-1"></a>           <span class="fu">ifelse</span>(s11 <span class="sc">%in%</span> saurlapji,v11,<span class="dv">0</span>)<span class="sc">+</span><span class="fu">ifelse</span>(s12 <span class="sc">%in%</span> saurlapji,v12,<span class="dv">0</span>)<span class="sc">+</span></span>
<span id="cb67-35"><a href="Chapter3.html#cb67-35" tabindex="-1"></a>           <span class="fu">ifelse</span>(s13 <span class="sc">%in%</span> saurlapji,v13,<span class="dv">0</span>)<span class="sc">+</span><span class="fu">ifelse</span>(s14 <span class="sc">%in%</span> saurlapji,v14,<span class="dv">0</span>),</span>
<span id="cb67-36"><a href="Chapter3.html#cb67-36" tabindex="-1"></a>         <span class="at">kraja_platlapju=</span><span class="fu">ifelse</span>(s10 <span class="sc">%in%</span> platlapji,v10,<span class="dv">0</span>)<span class="sc">+</span></span>
<span id="cb67-37"><a href="Chapter3.html#cb67-37" tabindex="-1"></a>           <span class="fu">ifelse</span>(s11 <span class="sc">%in%</span> platlapji,v11,<span class="dv">0</span>)<span class="sc">+</span><span class="fu">ifelse</span>(s12 <span class="sc">%in%</span> platlapji,v12,<span class="dv">0</span>)<span class="sc">+</span></span>
<span id="cb67-38"><a href="Chapter3.html#cb67-38" tabindex="-1"></a>           <span class="fu">ifelse</span>(s13 <span class="sc">%in%</span> platlapji,v13,<span class="dv">0</span>)<span class="sc">+</span><span class="fu">ifelse</span>(s14 <span class="sc">%in%</span> platlapji,v14,<span class="dv">0</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb67-39"><a href="Chapter3.html#cb67-39" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">kopeja_kraja=</span>kraja_skujkoku<span class="sc">+</span>kraja_platlapju<span class="sc">+</span>kraja_saurlapju) <span class="sc">%&gt;%</span> </span>
<span id="cb67-40"><a href="Chapter3.html#cb67-40" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">tips=</span><span class="fu">ifelse</span>(kraja_skujkoku<span class="sc">/</span>kopeja_kraja<span class="sc">&gt;=</span><span class="fl">0.75</span>,<span class="st">&quot;skujkoku&quot;</span>,</span>
<span id="cb67-41"><a href="Chapter3.html#cb67-41" tabindex="-1"></a>                     <span class="fu">ifelse</span>(kraja_saurlapju<span class="sc">/</span>kopeja_kraja<span class="sc">&gt;=</span><span class="fl">0.75</span>,<span class="st">&quot;saurlapju&quot;</span>,</span>
<span id="cb67-42"><a href="Chapter3.html#cb67-42" tabindex="-1"></a>                            <span class="fu">ifelse</span>(kraja_platlapju<span class="sc">/</span>kopeja_kraja<span class="sc">&gt;</span><span class="fl">0.5</span>,<span class="st">&quot;platlapju&quot;</span>,</span>
<span id="cb67-43"><a href="Chapter3.html#cb67-43" tabindex="-1"></a>                                   <span class="st">&quot;jauktu koku&quot;</span>))))</span>
<span id="cb67-44"><a href="Chapter3.html#cb67-44" tabindex="-1"></a><span class="co"># Jauktu koku pieaugušās un pāraugušās audzes</span></span>
<span id="cb67-45"><a href="Chapter3.html#cb67-45" tabindex="-1"></a>nogabali<span class="ot">=</span>mvr <span class="sc">%&gt;%</span> </span>
<span id="cb67-46"><a href="Chapter3.html#cb67-46" tabindex="-1"></a>  <span class="fu">filter</span>(zkat<span class="sc">==</span><span class="st">&quot;10&quot;</span><span class="sc">&amp;</span>tips<span class="sc">==</span><span class="st">&quot;jauktu koku&quot;</span><span class="sc">&amp;</span>(vgr<span class="sc">==</span><span class="st">&quot;4&quot;</span><span class="sc">|</span>vgr<span class="sc">==</span><span class="st">&quot;5&quot;</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb67-47"><a href="Chapter3.html#cb67-47" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">yes=</span><span class="dv">688</span>) <span class="co"># </span></span>
<span id="cb67-48"><a href="Chapter3.html#cb67-48" tabindex="-1"></a>rastrs_mvr<span class="ot">=</span>fasterize<span class="sc">::</span><span class="fu">fasterize</span>(nogabali,template_r,<span class="at">field=</span><span class="st">&quot;yes&quot;</span>)</span>
<span id="cb67-49"><a href="Chapter3.html#cb67-49" tabindex="-1"></a>rastrs_mvr<span class="ot">=</span><span class="fu">rast</span>(rastrs_mvr)</span>
<span id="cb67-50"><a href="Chapter3.html#cb67-50" tabindex="-1"></a></span>
<span id="cb67-51"><a href="Chapter3.html#cb67-51" tabindex="-1"></a>pirmsmaskas_rastrs<span class="ot">=</span><span class="fu">ifel</span>(<span class="sc">!</span><span class="fu">is.na</span>(rastrs_mvr)<span class="sc">&amp;</span>maska_meziem<span class="sc">==</span><span class="dv">1</span>,<span class="dv">688</span>,<span class="dv">0</span>)</span>
<span id="cb67-52"><a href="Chapter3.html#cb67-52" tabindex="-1"></a>aizpildits<span class="ot">=</span>terra<span class="sc">::</span><span class="fu">cover</span>(pirmsmaskas_rastrs,nulles)</span>
<span id="cb67-53"><a href="Chapter3.html#cb67-53" tabindex="-1"></a>pecmaskas_rastrs<span class="ot">=</span><span class="fu">mask</span>(aizpildits,template_t,</span>
<span id="cb67-54"><a href="Chapter3.html#cb67-54" tabindex="-1"></a>                      <span class="at">filename=</span><span class="st">&quot;./Rastri_10m/Mezi_JauktkokuVecas.tif&quot;</span>,</span>
<span id="cb67-55"><a href="Chapter3.html#cb67-55" tabindex="-1"></a>                      <span class="at">overwrite=</span><span class="cn">TRUE</span>)</span></code></pre></div>
</details>
<p><br></p>
</div>
<div id="Chapter3.2.2.2.24" class="section level5 hasAnchor" number="3.2.2.2.24">
<h5><span class="header-section-number">3.2.2.2.24</span> Mežu daudzveidībai<a href="Chapter3.html#Chapter3.2.2.2.24" class="anchor-section" aria-label="Anchor link to header"></a></h5>
<p>Rastrs ar šūnas izmēru 10 m un segumu visai Latvijas teritorijai. To veido slāņi
sekojošajā secībā ar norādītajiem kodiem:</p>
<ul>
<li><p>kods <code>681</code> satur <a href="Chapter3.html#Chapter3.2.2.2.16">Skujkoku jaunaudzes, vidēja vecuma un briestaudzes</a></p></li>
<li><p>kods <code>682</code> satur <a href="Chapter3.html#Chapter3.2.2.2.17">Skujkoku pieaugušās un pāraugušās audzes</a></p></li>
<li><p>kods <code>683</code> satur <a href="Chapter3.html#Chapter3.2.2.2.18">Šaurlapju jaunaudzes, vidēja vecuma un briestaudzes</a></p></li>
<li><p>kods <code>684</code> satur <a href="Chapter3.html#Chapter3.2.2.2.19">Šaurlapju pieaugušās un pāraugušās audzes</a></p></li>
<li><p>kods <code>685</code> satur <a href="Chapter3.html#Chapter3.2.2.2.20">Platlapju jaunaudzes, vidēja vecuma un briestaudzes</a></p></li>
<li><p>kods <code>686</code> satur <a href="Chapter3.html#Chapter3.2.2.2.21">Platlapju pieaugušās un pāraugušās audzes</a></p></li>
<li><p>kods <code>687</code> satur <a href="Chapter3.html#Chapter3.2.2.2.22">Jauktu koku jaunaudzes, vidēja vecuma un briestaudzes</a></p></li>
<li><p>kods <code>688</code> satur <a href="Chapter3.html#Chapter3.2.2.2.23">Jauktu koku pieaugušās un pāraugušās audzes</a></p></li>
<li><p>izmantotas <a href="Chapter3.html#Chapter3.2.2">vienkāršās ainavas maskā</a> ir
reģistrētas klases diapazonā no <code>600</code> līdz <code>700</code>;</p></li>
<li><p>atlikušās Latvijas teritorijā esošās vietas aizpildītas ar vērtību <code>1</code>.</p></li>
</ul>
<p>Zemāk esošās komandu rindas izveido failu <code>Ainava_MezuDaudzveidibai.tif</code>.</p>
<details class=chunk-details><summary class=chunk-summary><span class=chunk-summary-text>Code</span></summary>
<div class="sourceCode" id="cb68"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb68-1"><a href="Chapter3.html#cb68-1" tabindex="-1"></a><span class="co"># Libs</span></span>
<span id="cb68-2"><a href="Chapter3.html#cb68-2" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(tidyverse)) {<span class="fu">install.packages</span>(<span class="st">&quot;tidyverse&quot;</span>); <span class="fu">require</span>(tidyverse)}</span>
<span id="cb68-3"><a href="Chapter3.html#cb68-3" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(sf)) {<span class="fu">install.packages</span>(<span class="st">&quot;sf&quot;</span>); <span class="fu">require</span>(sf)}</span>
<span id="cb68-4"><a href="Chapter3.html#cb68-4" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(arrow)) {<span class="fu">install.packages</span>(<span class="st">&quot;arrow&quot;</span>); <span class="fu">require</span>(arrow)}</span>
<span id="cb68-5"><a href="Chapter3.html#cb68-5" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(sfarrow)) {<span class="fu">install.packages</span>(<span class="st">&quot;sfarrow&quot;</span>); <span class="fu">require</span>(sfarrow)}</span>
<span id="cb68-6"><a href="Chapter3.html#cb68-6" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(terra)) {<span class="fu">install.packages</span>(<span class="st">&quot;terra&quot;</span>); <span class="fu">require</span>(terra)}</span>
<span id="cb68-7"><a href="Chapter3.html#cb68-7" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(raster)) {<span class="fu">install.packages</span>(<span class="st">&quot;raster&quot;</span>); <span class="fu">require</span>(raster)}</span>
<span id="cb68-8"><a href="Chapter3.html#cb68-8" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(fasterize)) {<span class="fu">install.packages</span>(<span class="st">&quot;fasterize&quot;</span>); <span class="fu">require</span>(fasterize)}</span>
<span id="cb68-9"><a href="Chapter3.html#cb68-9" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(readxl)) {<span class="fu">install.packages</span>(<span class="st">&quot;readxl&quot;</span>); <span class="fu">require</span>(readxl)}</span>
<span id="cb68-10"><a href="Chapter3.html#cb68-10" tabindex="-1"></a></span>
<span id="cb68-11"><a href="Chapter3.html#cb68-11" tabindex="-1"></a><span class="co"># templates</span></span>
<span id="cb68-12"><a href="Chapter3.html#cb68-12" tabindex="-1"></a>template_t<span class="ot">=</span><span class="fu">rast</span>(<span class="st">&quot;./Templates/TemplateRasters/LV10m_10km.tif&quot;</span>)</span>
<span id="cb68-13"><a href="Chapter3.html#cb68-13" tabindex="-1"></a>template_r<span class="ot">=</span><span class="fu">raster</span>(template_t)</span>
<span id="cb68-14"><a href="Chapter3.html#cb68-14" tabindex="-1"></a></span>
<span id="cb68-15"><a href="Chapter3.html#cb68-15" tabindex="-1"></a>nulles<span class="ot">=</span>terra<span class="sc">::</span><span class="fu">subst</span>(template_t,<span class="at">from=</span><span class="dv">1</span>,<span class="at">to=</span><span class="dv">0</span>)</span>
<span id="cb68-16"><a href="Chapter3.html#cb68-16" tabindex="-1"></a></span>
<span id="cb68-17"><a href="Chapter3.html#cb68-17" tabindex="-1"></a><span class="co"># vienkāršā ainava</span></span>
<span id="cb68-18"><a href="Chapter3.html#cb68-18" tabindex="-1"></a>ainava_t<span class="ot">=</span><span class="fu">rast</span>(<span class="st">&quot;./Rastri_10m/Ainava_vienk_mask.tif&quot;</span>)</span>
<span id="cb68-19"><a href="Chapter3.html#cb68-19" tabindex="-1"></a>ainava_r<span class="ot">=</span><span class="fu">raster</span>(ainava_t)</span>
<span id="cb68-20"><a href="Chapter3.html#cb68-20" tabindex="-1"></a>maska_meziem<span class="ot">=</span><span class="fu">ifel</span>(ainava_t<span class="sc">&gt;</span><span class="dv">600</span><span class="sc">&amp;</span>ainava_t<span class="sc">&lt;</span><span class="dv">700</span>,<span class="dv">1</span>,<span class="cn">NA</span>)</span>
<span id="cb68-21"><a href="Chapter3.html#cb68-21" tabindex="-1"></a></span>
<span id="cb68-22"><a href="Chapter3.html#cb68-22" tabindex="-1"></a><span class="co"># lauki</span></span>
<span id="cb68-23"><a href="Chapter3.html#cb68-23" tabindex="-1"></a>lad_klasem<span class="ot">=</span><span class="fu">read_excel</span>(<span class="st">&quot;./IevadesDati/LAD/KulturuKodi_2024.xlsx&quot;</span>)</span>
<span id="cb68-24"><a href="Chapter3.html#cb68-24" tabindex="-1"></a>lad<span class="ot">=</span><span class="fu">st_read_parquet</span>(<span class="st">&quot;./IevadesDati/LAD/LAD_lauki.parquet&quot;</span>)</span>
<span id="cb68-25"><a href="Chapter3.html#cb68-25" tabindex="-1"></a>lad<span class="sc">$</span>yes<span class="ot">=</span><span class="dv">1</span></span>
<span id="cb68-26"><a href="Chapter3.html#cb68-26" tabindex="-1"></a></span>
<span id="cb68-27"><a href="Chapter3.html#cb68-27" tabindex="-1"></a></span>
<span id="cb68-28"><a href="Chapter3.html#cb68-28" tabindex="-1"></a><span class="co"># meži</span></span>
<span id="cb68-29"><a href="Chapter3.html#cb68-29" tabindex="-1"></a>mvr<span class="ot">=</span><span class="fu">st_read_parquet</span>(<span class="st">&quot;./IevadesDati/MVR/nogabali_2024janv.parquet&quot;</span>)</span>
<span id="cb68-30"><a href="Chapter3.html#cb68-30" tabindex="-1"></a>mvr<span class="sc">$</span>yes<span class="ot">=</span><span class="dv">1</span></span>
<span id="cb68-31"><a href="Chapter3.html#cb68-31" tabindex="-1"></a>skujkoki<span class="ot">=</span><span class="fu">c</span>(<span class="st">&quot;1&quot;</span>,<span class="st">&quot;3&quot;</span>,<span class="st">&quot;13&quot;</span>,<span class="st">&quot;14&quot;</span>,<span class="st">&quot;15&quot;</span>,<span class="st">&quot;22&quot;</span>,<span class="st">&quot;23&quot;</span>) <span class="co"># 7</span></span>
<span id="cb68-32"><a href="Chapter3.html#cb68-32" tabindex="-1"></a>saurlapji<span class="ot">=</span><span class="fu">c</span>(<span class="st">&quot;4&quot;</span>,<span class="st">&quot;6&quot;</span>,<span class="st">&quot;8&quot;</span>,<span class="st">&quot;9&quot;</span>,<span class="st">&quot;19&quot;</span>,<span class="st">&quot;20&quot;</span>,<span class="st">&quot;21&quot;</span>,<span class="st">&quot;32&quot;</span>,<span class="st">&quot;35&quot;</span>,<span class="st">&quot;50&quot;</span>,<span class="st">&quot;68&quot;</span>) <span class="co"># 11</span></span>
<span id="cb68-33"><a href="Chapter3.html#cb68-33" tabindex="-1"></a>platlapji<span class="ot">=</span><span class="fu">c</span>(<span class="st">&quot;10&quot;</span>,<span class="st">&quot;11&quot;</span>,<span class="st">&quot;12&quot;</span>,<span class="st">&quot;16&quot;</span>,<span class="st">&quot;17&quot;</span>,<span class="st">&quot;18&quot;</span>,<span class="st">&quot;24&quot;</span>,<span class="st">&quot;25&quot;</span>,<span class="st">&quot;26&quot;</span>,<span class="st">&quot;27&quot;</span>,<span class="st">&quot;28&quot;</span>,<span class="st">&quot;29&quot;</span>,</span>
<span id="cb68-34"><a href="Chapter3.html#cb68-34" tabindex="-1"></a>            <span class="st">&quot;61&quot;</span>,<span class="st">&quot;62&quot;</span>,<span class="st">&quot;63&quot;</span>,<span class="st">&quot;64&quot;</span>,<span class="st">&quot;65&quot;</span>,<span class="st">&quot;66&quot;</span>,<span class="st">&quot;67&quot;</span>,<span class="st">&quot;69&quot;</span>) <span class="co"># 20</span></span>
<span id="cb68-35"><a href="Chapter3.html#cb68-35" tabindex="-1"></a></span>
<span id="cb68-36"><a href="Chapter3.html#cb68-36" tabindex="-1"></a></span>
<span id="cb68-37"><a href="Chapter3.html#cb68-37" tabindex="-1"></a><span class="co"># Mežu daudzveidībai</span></span>
<span id="cb68-38"><a href="Chapter3.html#cb68-38" tabindex="-1"></a><span class="co"># 681 skujkoku jaunās</span></span>
<span id="cb68-39"><a href="Chapter3.html#cb68-39" tabindex="-1"></a>skuju_jaunas<span class="ot">=</span><span class="fu">rast</span>(<span class="st">&quot;./Rastri_10m/Mezi_SkujkokuJaunas.tif&quot;</span>)</span>
<span id="cb68-40"><a href="Chapter3.html#cb68-40" tabindex="-1"></a>skuju_jaunas<span class="ot">=</span><span class="fu">subst</span>(skuju_jaunas,<span class="at">from=</span><span class="dv">0</span>,<span class="at">to=</span><span class="cn">NA</span>)</span>
<span id="cb68-41"><a href="Chapter3.html#cb68-41" tabindex="-1"></a></span>
<span id="cb68-42"><a href="Chapter3.html#cb68-42" tabindex="-1"></a><span class="co"># 682 skujkoku vecās</span></span>
<span id="cb68-43"><a href="Chapter3.html#cb68-43" tabindex="-1"></a>skuju_vecas<span class="ot">=</span><span class="fu">rast</span>(<span class="st">&quot;./Rastri_10m/Mezi_SkujkokuVecas.tif&quot;</span>)</span>
<span id="cb68-44"><a href="Chapter3.html#cb68-44" tabindex="-1"></a>skuju_vecas<span class="ot">=</span><span class="fu">subst</span>(skuju_vecas,<span class="at">from=</span><span class="dv">0</span>,<span class="at">to=</span><span class="cn">NA</span>)</span>
<span id="cb68-45"><a href="Chapter3.html#cb68-45" tabindex="-1"></a></span>
<span id="cb68-46"><a href="Chapter3.html#cb68-46" tabindex="-1"></a><span class="co"># 683 šaurlapju jaunās</span></span>
<span id="cb68-47"><a href="Chapter3.html#cb68-47" tabindex="-1"></a>saurlapju_jaunas<span class="ot">=</span><span class="fu">rast</span>(<span class="st">&quot;./Rastri_10m/Mezi_SaurlapjuJaunas.tif&quot;</span>)</span>
<span id="cb68-48"><a href="Chapter3.html#cb68-48" tabindex="-1"></a>saurlapju_jaunas<span class="ot">=</span><span class="fu">subst</span>(saurlapju_jaunas,<span class="at">from=</span><span class="dv">0</span>,<span class="at">to=</span><span class="cn">NA</span>)</span>
<span id="cb68-49"><a href="Chapter3.html#cb68-49" tabindex="-1"></a></span>
<span id="cb68-50"><a href="Chapter3.html#cb68-50" tabindex="-1"></a><span class="co"># 684 šaurlapju vecās</span></span>
<span id="cb68-51"><a href="Chapter3.html#cb68-51" tabindex="-1"></a>saurlapju_vecas<span class="ot">=</span><span class="fu">rast</span>(<span class="st">&quot;./Rastri_10m/Mezi_SaurlapjuVecas.tif&quot;</span>)</span>
<span id="cb68-52"><a href="Chapter3.html#cb68-52" tabindex="-1"></a>saurlapju_vecas<span class="ot">=</span><span class="fu">subst</span>(saurlapju_vecas,<span class="at">from=</span><span class="dv">0</span>,<span class="at">to=</span><span class="cn">NA</span>)</span>
<span id="cb68-53"><a href="Chapter3.html#cb68-53" tabindex="-1"></a></span>
<span id="cb68-54"><a href="Chapter3.html#cb68-54" tabindex="-1"></a><span class="co"># 685 platlapju jaunās</span></span>
<span id="cb68-55"><a href="Chapter3.html#cb68-55" tabindex="-1"></a>platlapju_jaunas<span class="ot">=</span><span class="fu">rast</span>(<span class="st">&quot;./Rastri_10m/Mezi_PlatlapjuJaunas.tif&quot;</span>)</span>
<span id="cb68-56"><a href="Chapter3.html#cb68-56" tabindex="-1"></a>platlapju_jaunas<span class="ot">=</span><span class="fu">subst</span>(platlapju_jaunas,<span class="at">from=</span><span class="dv">0</span>,<span class="at">to=</span><span class="cn">NA</span>)</span>
<span id="cb68-57"><a href="Chapter3.html#cb68-57" tabindex="-1"></a></span>
<span id="cb68-58"><a href="Chapter3.html#cb68-58" tabindex="-1"></a><span class="co"># 686 platlapju vecās</span></span>
<span id="cb68-59"><a href="Chapter3.html#cb68-59" tabindex="-1"></a>platlapju_vecas<span class="ot">=</span><span class="fu">rast</span>(<span class="st">&quot;./Rastri_10m/Mezi_PlatlapjuVecas.tif&quot;</span>)</span>
<span id="cb68-60"><a href="Chapter3.html#cb68-60" tabindex="-1"></a>platlapju_vecas<span class="ot">=</span><span class="fu">subst</span>(platlapju_vecas,<span class="at">from=</span><span class="dv">0</span>,<span class="at">to=</span><span class="cn">NA</span>)</span>
<span id="cb68-61"><a href="Chapter3.html#cb68-61" tabindex="-1"></a></span>
<span id="cb68-62"><a href="Chapter3.html#cb68-62" tabindex="-1"></a><span class="co"># 687 jauktu koku jaunās</span></span>
<span id="cb68-63"><a href="Chapter3.html#cb68-63" tabindex="-1"></a>jauktu_jaunas<span class="ot">=</span><span class="fu">rast</span>(<span class="st">&quot;./Rastri_10m/Mezi_JauktkokuJaunas.tif&quot;</span>)</span>
<span id="cb68-64"><a href="Chapter3.html#cb68-64" tabindex="-1"></a>jauktu_jaunas<span class="ot">=</span><span class="fu">subst</span>(jauktu_jaunas,<span class="at">from=</span><span class="dv">0</span>,<span class="at">to=</span><span class="cn">NA</span>)</span>
<span id="cb68-65"><a href="Chapter3.html#cb68-65" tabindex="-1"></a></span>
<span id="cb68-66"><a href="Chapter3.html#cb68-66" tabindex="-1"></a><span class="co"># 688 jauktu koku vecās</span></span>
<span id="cb68-67"><a href="Chapter3.html#cb68-67" tabindex="-1"></a>jauktu_vecas<span class="ot">=</span><span class="fu">rast</span>(<span class="st">&quot;./Rastri_10m/Mezi_JauktkokuVecas.tif&quot;</span>)</span>
<span id="cb68-68"><a href="Chapter3.html#cb68-68" tabindex="-1"></a>jauktu_vecas<span class="ot">=</span><span class="fu">subst</span>(jauktu_vecas,<span class="at">from=</span><span class="dv">0</span>,<span class="at">to=</span><span class="cn">NA</span>)</span>
<span id="cb68-69"><a href="Chapter3.html#cb68-69" tabindex="-1"></a><span class="co"># pamata ainava</span></span>
<span id="cb68-70"><a href="Chapter3.html#cb68-70" tabindex="-1"></a>ainavas_pamatnei<span class="ot">=</span><span class="fu">ifel</span>(ainava_t<span class="sc">&gt;</span><span class="dv">600</span><span class="sc">&amp;</span>ainava_t<span class="sc">&lt;</span><span class="dv">700</span>,ainava_t,<span class="dv">1</span>)</span>
<span id="cb68-71"><a href="Chapter3.html#cb68-71" tabindex="-1"></a><span class="fu">freq</span>(ainavas_pamatnei)</span>
<span id="cb68-72"><a href="Chapter3.html#cb68-72" tabindex="-1"></a></span>
<span id="cb68-73"><a href="Chapter3.html#cb68-73" tabindex="-1"></a></span>
<span id="cb68-74"><a href="Chapter3.html#cb68-74" tabindex="-1"></a><span class="fu">rm</span>(mvr)</span>
<span id="cb68-75"><a href="Chapter3.html#cb68-75" tabindex="-1"></a>mezu_ainavai<span class="ot">=</span><span class="fu">sprc</span>(skuju_jaunas,skuju_vecas,saurlapju_jaunas,saurlapju_vecas,</span>
<span id="cb68-76"><a href="Chapter3.html#cb68-76" tabindex="-1"></a>                  platlapju_jaunas,platlapju_vecas,jauktu_jaunas,jauktu_vecas,</span>
<span id="cb68-77"><a href="Chapter3.html#cb68-77" tabindex="-1"></a>                  ainavas_pamatnei)</span>
<span id="cb68-78"><a href="Chapter3.html#cb68-78" tabindex="-1"></a>mezu_ainava<span class="ot">=</span>terra<span class="sc">::</span><span class="fu">merge</span>(mezu_ainavai)</span>
<span id="cb68-79"><a href="Chapter3.html#cb68-79" tabindex="-1"></a>mezu_daudzveidibai<span class="ot">=</span>terra<span class="sc">::</span><span class="fu">cover</span>(mezu_ainava,template_t,</span>
<span id="cb68-80"><a href="Chapter3.html#cb68-80" tabindex="-1"></a>                                 <span class="at">values=</span><span class="cn">NA</span>,</span>
<span id="cb68-81"><a href="Chapter3.html#cb68-81" tabindex="-1"></a>                                 <span class="at">filename=</span><span class="st">&quot;./Rastri_10m/Ainava_MezuDaudzveidibai.tif&quot;</span>,</span>
<span id="cb68-82"><a href="Chapter3.html#cb68-82" tabindex="-1"></a>                                 <span class="at">overwrite=</span><span class="cn">TRUE</span>)</span></code></pre></div>
</details>
<p><br></p>
</div>
</div>
<div id="Chapter3.2.2.3" class="section level4 hasAnchor" number="3.2.2.3">
<h4><span class="header-section-number">3.2.2.3</span> Kombinētā ainava<a href="Chapter3.html#Chapter3.2.2.3" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>Šajā apakšnodaļā apkopoti ar virsnodaļā aprakstīto ainavu saistītie ievades produkti - 10 m izšķirtspējā sagatavoti rastra slāņi, kas nepieciešami tālākai EGV sagatavošanai. Lai atvieglotu meklēšanu un atsaukšanos, tie iedalīti vēl zamāka līmeņa apakšnodaļās.</p>
<p>Sekojošajās apakšnodaļās esošajos kodu apgabalos sākuma daļa atkārtojas. Nenoliedzami, tas nomāc svarīgo - slānim specifisko daļu. Tomēr tas ļauj katru no tiem uztvert un izpildīt kā neatkarīgu uzdevumu, ja ir pieejami izmantojamie zemāka līmeņa slāņi, uz kuriem atsauces sniegtas aprakstos.</p>
<div id="Chapter3.2.2.3.1" class="section level5 hasAnchor" number="3.2.2.3.1">
<h5><span class="header-section-number">3.2.2.3.1</span> Parki, kapi, alejas<a href="Chapter3.html#Chapter3.2.2.3.1" class="anchor-section" aria-label="Anchor link to header"></a></h5>
<p>Rastrs ar šūnas izmēru 10 m un segumu visai Latvijas teritorijai.</p>
<ul>
<li><p>Vērtība <code>1</code> apzīmē šūnas, kurās <a href="Chapter3.html#Chapter3.2.2">vienkāršās ainavas slānī</a> ir
reģistrēti koki ārpus mežiem (klase <code>640</code>);</p></li>
<li><p>Vērtība <code>0</code> - pārējās Latvijas teritorijā esošās šūnas.</p></li>
</ul>
<p>Zemāk esošās komandu rindas izveido failu <code>Ainava_ParkiKapiAlejasYN.tif</code>.</p>
<details class=chunk-details><summary class=chunk-summary><span class=chunk-summary-text>Code</span></summary>
<div class="sourceCode" id="cb69"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb69-1"><a href="Chapter3.html#cb69-1" tabindex="-1"></a><span class="co"># Libs</span></span>
<span id="cb69-2"><a href="Chapter3.html#cb69-2" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(tidyverse)) {<span class="fu">install.packages</span>(<span class="st">&quot;tidyverse&quot;</span>); <span class="fu">require</span>(tidyverse)}</span>
<span id="cb69-3"><a href="Chapter3.html#cb69-3" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(sf)) {<span class="fu">install.packages</span>(<span class="st">&quot;sf&quot;</span>); <span class="fu">require</span>(sf)}</span>
<span id="cb69-4"><a href="Chapter3.html#cb69-4" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(arrow)) {<span class="fu">install.packages</span>(<span class="st">&quot;arrow&quot;</span>); <span class="fu">require</span>(arrow)}</span>
<span id="cb69-5"><a href="Chapter3.html#cb69-5" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(sfarrow)) {<span class="fu">install.packages</span>(<span class="st">&quot;sfarrow&quot;</span>); <span class="fu">require</span>(sfarrow)}</span>
<span id="cb69-6"><a href="Chapter3.html#cb69-6" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(terra)) {<span class="fu">install.packages</span>(<span class="st">&quot;terra&quot;</span>); <span class="fu">require</span>(terra)}</span>
<span id="cb69-7"><a href="Chapter3.html#cb69-7" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(raster)) {<span class="fu">install.packages</span>(<span class="st">&quot;raster&quot;</span>); <span class="fu">require</span>(raster)}</span>
<span id="cb69-8"><a href="Chapter3.html#cb69-8" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(fasterize)) {<span class="fu">install.packages</span>(<span class="st">&quot;fasterize&quot;</span>); <span class="fu">require</span>(fasterize)}</span>
<span id="cb69-9"><a href="Chapter3.html#cb69-9" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(readxl)) {<span class="fu">install.packages</span>(<span class="st">&quot;readxl&quot;</span>); <span class="fu">require</span>(readxl)}</span>
<span id="cb69-10"><a href="Chapter3.html#cb69-10" tabindex="-1"></a></span>
<span id="cb69-11"><a href="Chapter3.html#cb69-11" tabindex="-1"></a><span class="co"># templates</span></span>
<span id="cb69-12"><a href="Chapter3.html#cb69-12" tabindex="-1"></a>template_t<span class="ot">=</span><span class="fu">rast</span>(<span class="st">&quot;./Templates/TemplateRasters/LV10m_10km.tif&quot;</span>)</span>
<span id="cb69-13"><a href="Chapter3.html#cb69-13" tabindex="-1"></a>template_r<span class="ot">=</span><span class="fu">raster</span>(template_t)</span>
<span id="cb69-14"><a href="Chapter3.html#cb69-14" tabindex="-1"></a></span>
<span id="cb69-15"><a href="Chapter3.html#cb69-15" tabindex="-1"></a>nulles<span class="ot">=</span>terra<span class="sc">::</span><span class="fu">subst</span>(template_t,<span class="at">from=</span><span class="dv">1</span>,<span class="at">to=</span><span class="dv">0</span>)</span>
<span id="cb69-16"><a href="Chapter3.html#cb69-16" tabindex="-1"></a></span>
<span id="cb69-17"><a href="Chapter3.html#cb69-17" tabindex="-1"></a><span class="co"># vienkāršā ainava</span></span>
<span id="cb69-18"><a href="Chapter3.html#cb69-18" tabindex="-1"></a>ainava_t<span class="ot">=</span><span class="fu">rast</span>(<span class="st">&quot;./Rastri_10m/Ainava_vienk_mask.tif&quot;</span>)</span>
<span id="cb69-19"><a href="Chapter3.html#cb69-19" tabindex="-1"></a>ainava_r<span class="ot">=</span><span class="fu">raster</span>(ainava_t)</span>
<span id="cb69-20"><a href="Chapter3.html#cb69-20" tabindex="-1"></a></span>
<span id="cb69-21"><a href="Chapter3.html#cb69-21" tabindex="-1"></a><span class="co"># Parki, kapi, alejas</span></span>
<span id="cb69-22"><a href="Chapter3.html#cb69-22" tabindex="-1"></a>pka<span class="ot">=</span><span class="fu">ifel</span>(ainava_t<span class="sc">==</span><span class="dv">640</span>,<span class="dv">1</span>,<span class="dv">0</span>)</span>
<span id="cb69-23"><a href="Chapter3.html#cb69-23" tabindex="-1"></a>pka<span class="ot">=</span><span class="fu">cover</span>(pka,nulles,</span>
<span id="cb69-24"><a href="Chapter3.html#cb69-24" tabindex="-1"></a>          <span class="at">filename=</span><span class="st">&quot;./Rastri_10m/Ainava_ParkiKapiAlejasYN.tif&quot;</span>,</span>
<span id="cb69-25"><a href="Chapter3.html#cb69-25" tabindex="-1"></a>          <span class="at">overwrite=</span><span class="cn">TRUE</span>)</span></code></pre></div>
</details>
<p><br></p>
</div>
<div id="Chapter3.2.2.3.2" class="section level5 hasAnchor" number="3.2.2.3.2">
<h5><span class="header-section-number">3.2.2.3.2</span> Vasarnīcas un mazdārziņi<a href="Chapter3.html#Chapter3.2.2.3.2" class="anchor-section" aria-label="Anchor link to header"></a></h5>
<p>Rastrs ar šūnas izmēru 10 m un segumu visai Latvijas teritorijai.</p>
<ul>
<li><p>Vērtība <code>1</code> apzīmē šūnas, kurās <a href="Chapter3.html#Chapter3.2.2">vienkāršās ainavas slānī</a> ir
reģistrētas klases diapazonā no <code>400</code> līdz <code>500</code>;</p></li>
<li><p>Vērtība <code>0</code> - pārējās Latvijas teritorijā esošās šūnas.</p></li>
</ul>
<p>Zemāk esošās komandu rindas izveido failu <code>Ainava_VasarnicasYN.tif</code>.</p>
<details class=chunk-details><summary class=chunk-summary><span class=chunk-summary-text>Code</span></summary>
<div class="sourceCode" id="cb70"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb70-1"><a href="Chapter3.html#cb70-1" tabindex="-1"></a><span class="co"># Libs</span></span>
<span id="cb70-2"><a href="Chapter3.html#cb70-2" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(tidyverse)) {<span class="fu">install.packages</span>(<span class="st">&quot;tidyverse&quot;</span>); <span class="fu">require</span>(tidyverse)}</span>
<span id="cb70-3"><a href="Chapter3.html#cb70-3" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(sf)) {<span class="fu">install.packages</span>(<span class="st">&quot;sf&quot;</span>); <span class="fu">require</span>(sf)}</span>
<span id="cb70-4"><a href="Chapter3.html#cb70-4" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(arrow)) {<span class="fu">install.packages</span>(<span class="st">&quot;arrow&quot;</span>); <span class="fu">require</span>(arrow)}</span>
<span id="cb70-5"><a href="Chapter3.html#cb70-5" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(sfarrow)) {<span class="fu">install.packages</span>(<span class="st">&quot;sfarrow&quot;</span>); <span class="fu">require</span>(sfarrow)}</span>
<span id="cb70-6"><a href="Chapter3.html#cb70-6" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(terra)) {<span class="fu">install.packages</span>(<span class="st">&quot;terra&quot;</span>); <span class="fu">require</span>(terra)}</span>
<span id="cb70-7"><a href="Chapter3.html#cb70-7" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(raster)) {<span class="fu">install.packages</span>(<span class="st">&quot;raster&quot;</span>); <span class="fu">require</span>(raster)}</span>
<span id="cb70-8"><a href="Chapter3.html#cb70-8" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(fasterize)) {<span class="fu">install.packages</span>(<span class="st">&quot;fasterize&quot;</span>); <span class="fu">require</span>(fasterize)}</span>
<span id="cb70-9"><a href="Chapter3.html#cb70-9" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(readxl)) {<span class="fu">install.packages</span>(<span class="st">&quot;readxl&quot;</span>); <span class="fu">require</span>(readxl)}</span>
<span id="cb70-10"><a href="Chapter3.html#cb70-10" tabindex="-1"></a></span>
<span id="cb70-11"><a href="Chapter3.html#cb70-11" tabindex="-1"></a><span class="co"># templates</span></span>
<span id="cb70-12"><a href="Chapter3.html#cb70-12" tabindex="-1"></a>template_t<span class="ot">=</span><span class="fu">rast</span>(<span class="st">&quot;./Templates/TemplateRasters/LV10m_10km.tif&quot;</span>)</span>
<span id="cb70-13"><a href="Chapter3.html#cb70-13" tabindex="-1"></a>template_r<span class="ot">=</span><span class="fu">raster</span>(template_t)</span>
<span id="cb70-14"><a href="Chapter3.html#cb70-14" tabindex="-1"></a></span>
<span id="cb70-15"><a href="Chapter3.html#cb70-15" tabindex="-1"></a>nulles<span class="ot">=</span>terra<span class="sc">::</span><span class="fu">subst</span>(template_t,<span class="at">from=</span><span class="dv">1</span>,<span class="at">to=</span><span class="dv">0</span>)</span>
<span id="cb70-16"><a href="Chapter3.html#cb70-16" tabindex="-1"></a></span>
<span id="cb70-17"><a href="Chapter3.html#cb70-17" tabindex="-1"></a><span class="co"># vienkāršā ainava</span></span>
<span id="cb70-18"><a href="Chapter3.html#cb70-18" tabindex="-1"></a>ainava_t<span class="ot">=</span><span class="fu">rast</span>(<span class="st">&quot;./Rastri_10m/Ainava_vienk_mask.tif&quot;</span>)</span>
<span id="cb70-19"><a href="Chapter3.html#cb70-19" tabindex="-1"></a>ainava_r<span class="ot">=</span><span class="fu">raster</span>(ainava_t)</span>
<span id="cb70-20"><a href="Chapter3.html#cb70-20" tabindex="-1"></a></span>
<span id="cb70-21"><a href="Chapter3.html#cb70-21" tabindex="-1"></a><span class="co"># Vasarnīcas un mazdārziņi</span></span>
<span id="cb70-22"><a href="Chapter3.html#cb70-22" tabindex="-1"></a>vasarnicas<span class="ot">=</span><span class="fu">ifel</span>(ainava_t<span class="sc">&gt;=</span><span class="dv">400</span><span class="sc">&amp;</span>ainava_t<span class="sc">&lt;</span><span class="dv">500</span>,<span class="dv">1</span>,<span class="dv">0</span>)</span>
<span id="cb70-23"><a href="Chapter3.html#cb70-23" tabindex="-1"></a>vasarnicas<span class="ot">=</span><span class="fu">cover</span>(vasarnicas,nulles,</span>
<span id="cb70-24"><a href="Chapter3.html#cb70-24" tabindex="-1"></a>          <span class="at">filename=</span><span class="st">&quot;./Rastri_10m/Ainava_VasarnicasYN.tif&quot;</span>,</span>
<span id="cb70-25"><a href="Chapter3.html#cb70-25" tabindex="-1"></a>          <span class="at">overwrite=</span><span class="cn">TRUE</span>)</span></code></pre></div>
</details>
<p><br></p>
</div>
<div id="Chapter3.2.2.3.3" class="section level5 hasAnchor" number="3.2.2.3.3">
<h5><span class="header-section-number">3.2.2.3.3</span> Ūdensobjektu platība<a href="Chapter3.html#Chapter3.2.2.3.3" class="anchor-section" aria-label="Anchor link to header"></a></h5>
<p>Rastrs ar šūnas izmēru 10 m un segumu visai Latvijas teritorijai.</p>
<ul>
<li><p>Vērtība <code>1</code> apzīmē šūnas, kurās <a href="Chapter3.html#Chapter3.2.2">vienkāršās ainavas slānī</a> ir
reģistrēti ūdeņi (klase <code>200</code>);</p></li>
<li><p>Vērtība <code>0</code> - pārējās Latvijas teritorijā esošās šūnas.</p></li>
</ul>
<p>Zemāk esošās komandu rindas izveido failu <code>Ainava_UdeniYN.tif</code>.</p>
<details class=chunk-details><summary class=chunk-summary><span class=chunk-summary-text>Code</span></summary>
<div class="sourceCode" id="cb71"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb71-1"><a href="Chapter3.html#cb71-1" tabindex="-1"></a><span class="co"># Libs</span></span>
<span id="cb71-2"><a href="Chapter3.html#cb71-2" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(tidyverse)) {<span class="fu">install.packages</span>(<span class="st">&quot;tidyverse&quot;</span>); <span class="fu">require</span>(tidyverse)}</span>
<span id="cb71-3"><a href="Chapter3.html#cb71-3" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(sf)) {<span class="fu">install.packages</span>(<span class="st">&quot;sf&quot;</span>); <span class="fu">require</span>(sf)}</span>
<span id="cb71-4"><a href="Chapter3.html#cb71-4" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(arrow)) {<span class="fu">install.packages</span>(<span class="st">&quot;arrow&quot;</span>); <span class="fu">require</span>(arrow)}</span>
<span id="cb71-5"><a href="Chapter3.html#cb71-5" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(sfarrow)) {<span class="fu">install.packages</span>(<span class="st">&quot;sfarrow&quot;</span>); <span class="fu">require</span>(sfarrow)}</span>
<span id="cb71-6"><a href="Chapter3.html#cb71-6" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(terra)) {<span class="fu">install.packages</span>(<span class="st">&quot;terra&quot;</span>); <span class="fu">require</span>(terra)}</span>
<span id="cb71-7"><a href="Chapter3.html#cb71-7" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(raster)) {<span class="fu">install.packages</span>(<span class="st">&quot;raster&quot;</span>); <span class="fu">require</span>(raster)}</span>
<span id="cb71-8"><a href="Chapter3.html#cb71-8" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(fasterize)) {<span class="fu">install.packages</span>(<span class="st">&quot;fasterize&quot;</span>); <span class="fu">require</span>(fasterize)}</span>
<span id="cb71-9"><a href="Chapter3.html#cb71-9" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(readxl)) {<span class="fu">install.packages</span>(<span class="st">&quot;readxl&quot;</span>); <span class="fu">require</span>(readxl)}</span>
<span id="cb71-10"><a href="Chapter3.html#cb71-10" tabindex="-1"></a></span>
<span id="cb71-11"><a href="Chapter3.html#cb71-11" tabindex="-1"></a><span class="co"># templates</span></span>
<span id="cb71-12"><a href="Chapter3.html#cb71-12" tabindex="-1"></a>template_t<span class="ot">=</span><span class="fu">rast</span>(<span class="st">&quot;./Templates/TemplateRasters/LV10m_10km.tif&quot;</span>)</span>
<span id="cb71-13"><a href="Chapter3.html#cb71-13" tabindex="-1"></a>template_r<span class="ot">=</span><span class="fu">raster</span>(template_t)</span>
<span id="cb71-14"><a href="Chapter3.html#cb71-14" tabindex="-1"></a></span>
<span id="cb71-15"><a href="Chapter3.html#cb71-15" tabindex="-1"></a>nulles<span class="ot">=</span>terra<span class="sc">::</span><span class="fu">subst</span>(template_t,<span class="at">from=</span><span class="dv">1</span>,<span class="at">to=</span><span class="dv">0</span>)</span>
<span id="cb71-16"><a href="Chapter3.html#cb71-16" tabindex="-1"></a></span>
<span id="cb71-17"><a href="Chapter3.html#cb71-17" tabindex="-1"></a><span class="co"># vienkāršā ainava</span></span>
<span id="cb71-18"><a href="Chapter3.html#cb71-18" tabindex="-1"></a>ainava_t<span class="ot">=</span><span class="fu">rast</span>(<span class="st">&quot;./Rastri_10m/Ainava_vienk_mask.tif&quot;</span>)</span>
<span id="cb71-19"><a href="Chapter3.html#cb71-19" tabindex="-1"></a>ainava_r<span class="ot">=</span><span class="fu">raster</span>(ainava_t)</span>
<span id="cb71-20"><a href="Chapter3.html#cb71-20" tabindex="-1"></a></span>
<span id="cb71-21"><a href="Chapter3.html#cb71-21" tabindex="-1"></a><span class="co"># Ūdensobjektu platība </span></span>
<span id="cb71-22"><a href="Chapter3.html#cb71-22" tabindex="-1"></a>udeni<span class="ot">=</span><span class="fu">ifel</span>(ainava_t<span class="sc">==</span><span class="dv">200</span>,<span class="dv">1</span>,<span class="dv">0</span>)</span>
<span id="cb71-23"><a href="Chapter3.html#cb71-23" tabindex="-1"></a>udeni<span class="ot">=</span><span class="fu">cover</span>(udeni,nulles,</span>
<span id="cb71-24"><a href="Chapter3.html#cb71-24" tabindex="-1"></a>                 <span class="at">filename=</span><span class="st">&quot;./Rastri_10m/Ainava_UdeniYN.tif&quot;</span>,</span>
<span id="cb71-25"><a href="Chapter3.html#cb71-25" tabindex="-1"></a>                 <span class="at">overwrite=</span><span class="cn">TRUE</span>)</span></code></pre></div>
</details>
<p><br></p>
</div>
<div id="Chapter3.2.2.3.4" class="section level5 hasAnchor" number="3.2.2.3.4">
<h5><span class="header-section-number">3.2.2.3.4</span> Niedrāji, meldrāji, grīslāji un pārplūstošā<a href="Chapter3.html#Chapter3.2.2.3.4" class="anchor-section" aria-label="Anchor link to header"></a></h5>
<p>Rastrs ar šūnas izmēru 10 m un segumu visai Latvijas teritorijai.</p>
<ul>
<li><p>Vērtība <code>1</code> apzīmē šūnas, kurās <a href="Chapter3.html#Chapter3.2.2">vienkāršās ainavas slānī</a> ir
reģistrētas klases diapazonā no <code>720</code> līdz <code>730</code> (galapunktus ieskaitot) ;</p></li>
<li><p>Vērtība <code>0</code> - pārējās Latvijas teritorijā esošās šūnas.</p></li>
</ul>
<p>Zemāk esošās komandu rindas izveido failu <code>Ainava_NiedrajiBebrainesYN.tif</code>.</p>
<details class=chunk-details><summary class=chunk-summary><span class=chunk-summary-text>Code</span></summary>
<div class="sourceCode" id="cb72"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb72-1"><a href="Chapter3.html#cb72-1" tabindex="-1"></a><span class="co"># Libs</span></span>
<span id="cb72-2"><a href="Chapter3.html#cb72-2" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(tidyverse)) {<span class="fu">install.packages</span>(<span class="st">&quot;tidyverse&quot;</span>); <span class="fu">require</span>(tidyverse)}</span>
<span id="cb72-3"><a href="Chapter3.html#cb72-3" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(sf)) {<span class="fu">install.packages</span>(<span class="st">&quot;sf&quot;</span>); <span class="fu">require</span>(sf)}</span>
<span id="cb72-4"><a href="Chapter3.html#cb72-4" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(arrow)) {<span class="fu">install.packages</span>(<span class="st">&quot;arrow&quot;</span>); <span class="fu">require</span>(arrow)}</span>
<span id="cb72-5"><a href="Chapter3.html#cb72-5" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(sfarrow)) {<span class="fu">install.packages</span>(<span class="st">&quot;sfarrow&quot;</span>); <span class="fu">require</span>(sfarrow)}</span>
<span id="cb72-6"><a href="Chapter3.html#cb72-6" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(terra)) {<span class="fu">install.packages</span>(<span class="st">&quot;terra&quot;</span>); <span class="fu">require</span>(terra)}</span>
<span id="cb72-7"><a href="Chapter3.html#cb72-7" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(raster)) {<span class="fu">install.packages</span>(<span class="st">&quot;raster&quot;</span>); <span class="fu">require</span>(raster)}</span>
<span id="cb72-8"><a href="Chapter3.html#cb72-8" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(fasterize)) {<span class="fu">install.packages</span>(<span class="st">&quot;fasterize&quot;</span>); <span class="fu">require</span>(fasterize)}</span>
<span id="cb72-9"><a href="Chapter3.html#cb72-9" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(readxl)) {<span class="fu">install.packages</span>(<span class="st">&quot;readxl&quot;</span>); <span class="fu">require</span>(readxl)}</span>
<span id="cb72-10"><a href="Chapter3.html#cb72-10" tabindex="-1"></a></span>
<span id="cb72-11"><a href="Chapter3.html#cb72-11" tabindex="-1"></a><span class="co"># templates</span></span>
<span id="cb72-12"><a href="Chapter3.html#cb72-12" tabindex="-1"></a>template_t<span class="ot">=</span><span class="fu">rast</span>(<span class="st">&quot;./Templates/TemplateRasters/LV10m_10km.tif&quot;</span>)</span>
<span id="cb72-13"><a href="Chapter3.html#cb72-13" tabindex="-1"></a>template_r<span class="ot">=</span><span class="fu">raster</span>(template_t)</span>
<span id="cb72-14"><a href="Chapter3.html#cb72-14" tabindex="-1"></a></span>
<span id="cb72-15"><a href="Chapter3.html#cb72-15" tabindex="-1"></a>nulles<span class="ot">=</span>terra<span class="sc">::</span><span class="fu">subst</span>(template_t,<span class="at">from=</span><span class="dv">1</span>,<span class="at">to=</span><span class="dv">0</span>)</span>
<span id="cb72-16"><a href="Chapter3.html#cb72-16" tabindex="-1"></a></span>
<span id="cb72-17"><a href="Chapter3.html#cb72-17" tabindex="-1"></a><span class="co"># vienkāršā ainava</span></span>
<span id="cb72-18"><a href="Chapter3.html#cb72-18" tabindex="-1"></a>ainava_t<span class="ot">=</span><span class="fu">rast</span>(<span class="st">&quot;./Rastri_10m/Ainava_vienk_mask.tif&quot;</span>)</span>
<span id="cb72-19"><a href="Chapter3.html#cb72-19" tabindex="-1"></a>ainava_r<span class="ot">=</span><span class="fu">raster</span>(ainava_t)</span>
<span id="cb72-20"><a href="Chapter3.html#cb72-20" tabindex="-1"></a></span>
<span id="cb72-21"><a href="Chapter3.html#cb72-21" tabindex="-1"></a><span class="co"># Niedrāji, meldrāji, grīslāji un pārplūstošā</span></span>
<span id="cb72-22"><a href="Chapter3.html#cb72-22" tabindex="-1"></a>niedraji<span class="ot">=</span><span class="fu">ifel</span>(ainava_t<span class="sc">&gt;=</span><span class="dv">720</span><span class="sc">&amp;</span>ainava_t<span class="sc">&lt;=</span><span class="dv">730</span>,<span class="dv">1</span>,<span class="dv">0</span>)</span>
<span id="cb72-23"><a href="Chapter3.html#cb72-23" tabindex="-1"></a>niedraji<span class="ot">=</span><span class="fu">cover</span>(niedraji,nulles,</span>
<span id="cb72-24"><a href="Chapter3.html#cb72-24" tabindex="-1"></a>                 <span class="at">filename=</span><span class="st">&quot;./Rastri_10m/Ainava_NiedrajiBebrainesYN.tif&quot;</span>,</span>
<span id="cb72-25"><a href="Chapter3.html#cb72-25" tabindex="-1"></a>                 <span class="at">overwrite=</span><span class="cn">TRUE</span>)</span></code></pre></div>
</details>
<p><br></p>
</div>
<div id="Chapter3.2.2.3.5" class="section level5 hasAnchor" number="3.2.2.3.5">
<h5><span class="header-section-number">3.2.2.3.5</span> Mitrāju platība<a href="Chapter3.html#Chapter3.2.2.3.5" class="anchor-section" aria-label="Anchor link to header"></a></h5>
<p>Rastrs ar šūnas izmēru 10 m un segumu visai Latvijas teritorijai.</p>
<ul>
<li><p>Vērtība <code>1</code> apzīmē šūnas, kurās <a href="Chapter3.html#Chapter3.2.2">vienkāršās ainavas slānī</a> ir
reģistrētas klases diapazonā no <code>700</code> līdz <code>800</code>;</p></li>
<li><p>Vērtība <code>0</code> - pārējās Latvijas teritorijā esošās šūnas.</p></li>
</ul>
<p>Zemāk esošās komandu rindas izveido failu <code>Ainava_MitrajiYN.tif</code>.</p>
<details class=chunk-details><summary class=chunk-summary><span class=chunk-summary-text>Code</span></summary>
<div class="sourceCode" id="cb73"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb73-1"><a href="Chapter3.html#cb73-1" tabindex="-1"></a><span class="co"># Libs</span></span>
<span id="cb73-2"><a href="Chapter3.html#cb73-2" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(tidyverse)) {<span class="fu">install.packages</span>(<span class="st">&quot;tidyverse&quot;</span>); <span class="fu">require</span>(tidyverse)}</span>
<span id="cb73-3"><a href="Chapter3.html#cb73-3" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(sf)) {<span class="fu">install.packages</span>(<span class="st">&quot;sf&quot;</span>); <span class="fu">require</span>(sf)}</span>
<span id="cb73-4"><a href="Chapter3.html#cb73-4" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(arrow)) {<span class="fu">install.packages</span>(<span class="st">&quot;arrow&quot;</span>); <span class="fu">require</span>(arrow)}</span>
<span id="cb73-5"><a href="Chapter3.html#cb73-5" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(sfarrow)) {<span class="fu">install.packages</span>(<span class="st">&quot;sfarrow&quot;</span>); <span class="fu">require</span>(sfarrow)}</span>
<span id="cb73-6"><a href="Chapter3.html#cb73-6" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(terra)) {<span class="fu">install.packages</span>(<span class="st">&quot;terra&quot;</span>); <span class="fu">require</span>(terra)}</span>
<span id="cb73-7"><a href="Chapter3.html#cb73-7" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(raster)) {<span class="fu">install.packages</span>(<span class="st">&quot;raster&quot;</span>); <span class="fu">require</span>(raster)}</span>
<span id="cb73-8"><a href="Chapter3.html#cb73-8" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(fasterize)) {<span class="fu">install.packages</span>(<span class="st">&quot;fasterize&quot;</span>); <span class="fu">require</span>(fasterize)}</span>
<span id="cb73-9"><a href="Chapter3.html#cb73-9" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(readxl)) {<span class="fu">install.packages</span>(<span class="st">&quot;readxl&quot;</span>); <span class="fu">require</span>(readxl)}</span>
<span id="cb73-10"><a href="Chapter3.html#cb73-10" tabindex="-1"></a></span>
<span id="cb73-11"><a href="Chapter3.html#cb73-11" tabindex="-1"></a><span class="co"># templates</span></span>
<span id="cb73-12"><a href="Chapter3.html#cb73-12" tabindex="-1"></a>template_t<span class="ot">=</span><span class="fu">rast</span>(<span class="st">&quot;./Templates/TemplateRasters/LV10m_10km.tif&quot;</span>)</span>
<span id="cb73-13"><a href="Chapter3.html#cb73-13" tabindex="-1"></a>template_r<span class="ot">=</span><span class="fu">raster</span>(template_t)</span>
<span id="cb73-14"><a href="Chapter3.html#cb73-14" tabindex="-1"></a></span>
<span id="cb73-15"><a href="Chapter3.html#cb73-15" tabindex="-1"></a>nulles<span class="ot">=</span>terra<span class="sc">::</span><span class="fu">subst</span>(template_t,<span class="at">from=</span><span class="dv">1</span>,<span class="at">to=</span><span class="dv">0</span>)</span>
<span id="cb73-16"><a href="Chapter3.html#cb73-16" tabindex="-1"></a></span>
<span id="cb73-17"><a href="Chapter3.html#cb73-17" tabindex="-1"></a><span class="co"># vienkāršā ainava</span></span>
<span id="cb73-18"><a href="Chapter3.html#cb73-18" tabindex="-1"></a>ainava_t<span class="ot">=</span><span class="fu">rast</span>(<span class="st">&quot;./Rastri_10m/Ainava_vienk_mask.tif&quot;</span>)</span>
<span id="cb73-19"><a href="Chapter3.html#cb73-19" tabindex="-1"></a>ainava_r<span class="ot">=</span><span class="fu">raster</span>(ainava_t)</span>
<span id="cb73-20"><a href="Chapter3.html#cb73-20" tabindex="-1"></a></span>
<span id="cb73-21"><a href="Chapter3.html#cb73-21" tabindex="-1"></a><span class="co"># Mitrāju platība </span></span>
<span id="cb73-22"><a href="Chapter3.html#cb73-22" tabindex="-1"></a>mitraji<span class="ot">=</span><span class="fu">ifel</span>(ainava_t<span class="sc">&gt;=</span><span class="dv">700</span><span class="sc">&amp;</span>ainava_t<span class="sc">&lt;</span><span class="dv">800</span>,<span class="dv">1</span>,<span class="dv">0</span>)</span>
<span id="cb73-23"><a href="Chapter3.html#cb73-23" tabindex="-1"></a>mitraji<span class="ot">=</span><span class="fu">cover</span>(mitraji,nulles,</span>
<span id="cb73-24"><a href="Chapter3.html#cb73-24" tabindex="-1"></a>               <span class="at">filename=</span><span class="st">&quot;./Rastri_10m/Ainava_MitrajiYN.tif&quot;</span>,</span>
<span id="cb73-25"><a href="Chapter3.html#cb73-25" tabindex="-1"></a>               <span class="at">overwrite=</span><span class="cn">TRUE</span>)</span></code></pre></div>
</details>
<p><br></p>
</div>
<div id="Chapter3.2.2.3.6" class="section level5 hasAnchor" number="3.2.2.3.6">
<h5><span class="header-section-number">3.2.2.3.6</span> Atklāta augsne un karjeri<a href="Chapter3.html#Chapter3.2.2.3.6" class="anchor-section" aria-label="Anchor link to header"></a></h5>
<p>Rastrs ar šūnas izmēru 10 m un segumu visai Latvijas teritorijai.</p>
<ul>
<li><p>Vērtība <code>1</code> apzīmē šūnas, kurās <a href="Chapter3.html#Chapter3.2.2">vienkāršās ainavas slānī</a> ir
reģistrēti smiltāji, smilts, grants un kūdras karjeri (klase <code>800</code>);</p></li>
<li><p>Vērtība <code>0</code> - pārējās Latvijas teritorijā esošās šūnas.</p></li>
</ul>
<p>Zemāk esošās komandu rindas izveido failu <code>Ainava_SmiltajiKudraYN.tif</code>.</p>
<details class=chunk-details><summary class=chunk-summary><span class=chunk-summary-text>Code</span></summary>
<div class="sourceCode" id="cb74"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb74-1"><a href="Chapter3.html#cb74-1" tabindex="-1"></a><span class="co"># Libs</span></span>
<span id="cb74-2"><a href="Chapter3.html#cb74-2" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(tidyverse)) {<span class="fu">install.packages</span>(<span class="st">&quot;tidyverse&quot;</span>); <span class="fu">require</span>(tidyverse)}</span>
<span id="cb74-3"><a href="Chapter3.html#cb74-3" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(sf)) {<span class="fu">install.packages</span>(<span class="st">&quot;sf&quot;</span>); <span class="fu">require</span>(sf)}</span>
<span id="cb74-4"><a href="Chapter3.html#cb74-4" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(arrow)) {<span class="fu">install.packages</span>(<span class="st">&quot;arrow&quot;</span>); <span class="fu">require</span>(arrow)}</span>
<span id="cb74-5"><a href="Chapter3.html#cb74-5" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(sfarrow)) {<span class="fu">install.packages</span>(<span class="st">&quot;sfarrow&quot;</span>); <span class="fu">require</span>(sfarrow)}</span>
<span id="cb74-6"><a href="Chapter3.html#cb74-6" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(terra)) {<span class="fu">install.packages</span>(<span class="st">&quot;terra&quot;</span>); <span class="fu">require</span>(terra)}</span>
<span id="cb74-7"><a href="Chapter3.html#cb74-7" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(raster)) {<span class="fu">install.packages</span>(<span class="st">&quot;raster&quot;</span>); <span class="fu">require</span>(raster)}</span>
<span id="cb74-8"><a href="Chapter3.html#cb74-8" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(fasterize)) {<span class="fu">install.packages</span>(<span class="st">&quot;fasterize&quot;</span>); <span class="fu">require</span>(fasterize)}</span>
<span id="cb74-9"><a href="Chapter3.html#cb74-9" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(readxl)) {<span class="fu">install.packages</span>(<span class="st">&quot;readxl&quot;</span>); <span class="fu">require</span>(readxl)}</span>
<span id="cb74-10"><a href="Chapter3.html#cb74-10" tabindex="-1"></a></span>
<span id="cb74-11"><a href="Chapter3.html#cb74-11" tabindex="-1"></a><span class="co"># templates</span></span>
<span id="cb74-12"><a href="Chapter3.html#cb74-12" tabindex="-1"></a>template_t<span class="ot">=</span><span class="fu">rast</span>(<span class="st">&quot;./Templates/TemplateRasters/LV10m_10km.tif&quot;</span>)</span>
<span id="cb74-13"><a href="Chapter3.html#cb74-13" tabindex="-1"></a>template_r<span class="ot">=</span><span class="fu">raster</span>(template_t)</span>
<span id="cb74-14"><a href="Chapter3.html#cb74-14" tabindex="-1"></a></span>
<span id="cb74-15"><a href="Chapter3.html#cb74-15" tabindex="-1"></a>nulles<span class="ot">=</span>terra<span class="sc">::</span><span class="fu">subst</span>(template_t,<span class="at">from=</span><span class="dv">1</span>,<span class="at">to=</span><span class="dv">0</span>)</span>
<span id="cb74-16"><a href="Chapter3.html#cb74-16" tabindex="-1"></a></span>
<span id="cb74-17"><a href="Chapter3.html#cb74-17" tabindex="-1"></a><span class="co"># vienkāršā ainava</span></span>
<span id="cb74-18"><a href="Chapter3.html#cb74-18" tabindex="-1"></a>ainava_t<span class="ot">=</span><span class="fu">rast</span>(<span class="st">&quot;./Rastri_10m/Ainava_vienk_mask.tif&quot;</span>)</span>
<span id="cb74-19"><a href="Chapter3.html#cb74-19" tabindex="-1"></a>ainava_r<span class="ot">=</span><span class="fu">raster</span>(ainava_t)</span>
<span id="cb74-20"><a href="Chapter3.html#cb74-20" tabindex="-1"></a></span>
<span id="cb74-21"><a href="Chapter3.html#cb74-21" tabindex="-1"></a><span class="co"># Atklāta augsne un karjeri </span></span>
<span id="cb74-22"><a href="Chapter3.html#cb74-22" tabindex="-1"></a>plikie<span class="ot">=</span><span class="fu">ifel</span>(ainava_t<span class="sc">==</span><span class="dv">800</span>,<span class="dv">1</span>,<span class="dv">0</span>)</span>
<span id="cb74-23"><a href="Chapter3.html#cb74-23" tabindex="-1"></a>plikie<span class="ot">=</span><span class="fu">cover</span>(plikie,nulles,</span>
<span id="cb74-24"><a href="Chapter3.html#cb74-24" tabindex="-1"></a>              <span class="at">filename=</span><span class="st">&quot;./Rastri_10m/Ainava_SmiltajiKudraYN.tif&quot;</span>,</span>
<span id="cb74-25"><a href="Chapter3.html#cb74-25" tabindex="-1"></a>              <span class="at">overwrite=</span><span class="cn">TRUE</span>)</span></code></pre></div>
</details>
<p><br></p>
</div>
<div id="Chapter3.2.2.3.7" class="section level5 hasAnchor" number="3.2.2.3.7">
<h5><span class="header-section-number">3.2.2.3.7</span> Kokiem klātās platības<a href="Chapter3.html#Chapter3.2.2.3.7" class="anchor-section" aria-label="Anchor link to header"></a></h5>
<p>Rastrs ar šūnas izmēru 10 m un segumu visai Latvijas teritorijai.</p>
<ul>
<li><p>Vērtība <code>1</code> apzīmē šūnas, kurās <a href="Chapter3.html#Chapter3.2.2">vienkāršās ainavas slānī</a> ir
reģistrēti koki (klases <code>630</code> un <code>640</code>);</p></li>
<li><p>Vērtība <code>0</code> - pārējās Latvijas teritorijā esošās šūnas.</p></li>
</ul>
<p>Zemāk esošās komandu rindas izveido failu <code>Ainava_KokiYN.tif</code>.</p>
<details class=chunk-details><summary class=chunk-summary><span class=chunk-summary-text>Code</span></summary>
<div class="sourceCode" id="cb75"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb75-1"><a href="Chapter3.html#cb75-1" tabindex="-1"></a><span class="co"># Libs</span></span>
<span id="cb75-2"><a href="Chapter3.html#cb75-2" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(tidyverse)) {<span class="fu">install.packages</span>(<span class="st">&quot;tidyverse&quot;</span>); <span class="fu">require</span>(tidyverse)}</span>
<span id="cb75-3"><a href="Chapter3.html#cb75-3" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(sf)) {<span class="fu">install.packages</span>(<span class="st">&quot;sf&quot;</span>); <span class="fu">require</span>(sf)}</span>
<span id="cb75-4"><a href="Chapter3.html#cb75-4" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(arrow)) {<span class="fu">install.packages</span>(<span class="st">&quot;arrow&quot;</span>); <span class="fu">require</span>(arrow)}</span>
<span id="cb75-5"><a href="Chapter3.html#cb75-5" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(sfarrow)) {<span class="fu">install.packages</span>(<span class="st">&quot;sfarrow&quot;</span>); <span class="fu">require</span>(sfarrow)}</span>
<span id="cb75-6"><a href="Chapter3.html#cb75-6" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(terra)) {<span class="fu">install.packages</span>(<span class="st">&quot;terra&quot;</span>); <span class="fu">require</span>(terra)}</span>
<span id="cb75-7"><a href="Chapter3.html#cb75-7" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(raster)) {<span class="fu">install.packages</span>(<span class="st">&quot;raster&quot;</span>); <span class="fu">require</span>(raster)}</span>
<span id="cb75-8"><a href="Chapter3.html#cb75-8" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(fasterize)) {<span class="fu">install.packages</span>(<span class="st">&quot;fasterize&quot;</span>); <span class="fu">require</span>(fasterize)}</span>
<span id="cb75-9"><a href="Chapter3.html#cb75-9" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(readxl)) {<span class="fu">install.packages</span>(<span class="st">&quot;readxl&quot;</span>); <span class="fu">require</span>(readxl)}</span>
<span id="cb75-10"><a href="Chapter3.html#cb75-10" tabindex="-1"></a></span>
<span id="cb75-11"><a href="Chapter3.html#cb75-11" tabindex="-1"></a><span class="co"># templates</span></span>
<span id="cb75-12"><a href="Chapter3.html#cb75-12" tabindex="-1"></a>template_t<span class="ot">=</span><span class="fu">rast</span>(<span class="st">&quot;./Templates/TemplateRasters/LV10m_10km.tif&quot;</span>)</span>
<span id="cb75-13"><a href="Chapter3.html#cb75-13" tabindex="-1"></a>template_r<span class="ot">=</span><span class="fu">raster</span>(template_t)</span>
<span id="cb75-14"><a href="Chapter3.html#cb75-14" tabindex="-1"></a></span>
<span id="cb75-15"><a href="Chapter3.html#cb75-15" tabindex="-1"></a>nulles<span class="ot">=</span>terra<span class="sc">::</span><span class="fu">subst</span>(template_t,<span class="at">from=</span><span class="dv">1</span>,<span class="at">to=</span><span class="dv">0</span>)</span>
<span id="cb75-16"><a href="Chapter3.html#cb75-16" tabindex="-1"></a></span>
<span id="cb75-17"><a href="Chapter3.html#cb75-17" tabindex="-1"></a><span class="co"># vienkāršā ainava</span></span>
<span id="cb75-18"><a href="Chapter3.html#cb75-18" tabindex="-1"></a>ainava_t<span class="ot">=</span><span class="fu">rast</span>(<span class="st">&quot;./Rastri_10m/Ainava_vienk_mask.tif&quot;</span>)</span>
<span id="cb75-19"><a href="Chapter3.html#cb75-19" tabindex="-1"></a>ainava_r<span class="ot">=</span><span class="fu">raster</span>(ainava_t)</span>
<span id="cb75-20"><a href="Chapter3.html#cb75-20" tabindex="-1"></a></span>
<span id="cb75-21"><a href="Chapter3.html#cb75-21" tabindex="-1"></a><span class="co"># Kokiem klātās platības </span></span>
<span id="cb75-22"><a href="Chapter3.html#cb75-22" tabindex="-1"></a>koki<span class="ot">=</span><span class="fu">ifel</span>(ainava_t<span class="sc">&gt;=</span><span class="dv">630</span><span class="sc">&amp;</span>ainava_t<span class="sc">&lt;=</span><span class="dv">640</span>,<span class="dv">1</span>,<span class="dv">0</span>)</span>
<span id="cb75-23"><a href="Chapter3.html#cb75-23" tabindex="-1"></a>koki<span class="ot">=</span><span class="fu">cover</span>(koki,nulles,</span>
<span id="cb75-24"><a href="Chapter3.html#cb75-24" tabindex="-1"></a>              <span class="at">filename=</span><span class="st">&quot;./Rastri_10m/Ainava_KokiYN.tif&quot;</span>,</span>
<span id="cb75-25"><a href="Chapter3.html#cb75-25" tabindex="-1"></a>              <span class="at">overwrite=</span><span class="cn">TRUE</span>)</span></code></pre></div>
</details>
<p><br></p>
</div>
<div id="Chapter3.2.2.3.8" class="section level5 hasAnchor" number="3.2.2.3.8">
<h5><span class="header-section-number">3.2.2.3.8</span> Netaksētās mežaudzes<a href="Chapter3.html#Chapter3.2.2.3.8" class="anchor-section" aria-label="Anchor link to header"></a></h5>
<p>Rastrs ar šūnas izmēru 10 m un segumu visai Latvijas teritorijai.</p>
<ul>
<li><p>Vērtība <code>1</code> apzīmē šūnas, kurās <a href="Chapter3.html#Chapter3.2.2">vienkāršās ainavas slānī</a> ir
reģistrēti meži (klase <code>630</code>), kas neatrodas <a href="https://www.vmd.gov.lv/lv/meza-valsts-registra-meza-inventarizacijas-failu-struktura">Meža valsts reģistra Meža inventarizācijas failā</a> laukā
<code>zkat</code> ar vērtību “10” atzīmētajās vietās;</p></li>
<li><p>Vērtība <code>0</code> - pārējās Latvijas teritorijā esošās šūnas.</p></li>
</ul>
<p>Zemāk esošās komandu rindas izveido failu <code>Ainava_MeziNetaksets.tif</code>.</p>
<details class=chunk-details><summary class=chunk-summary><span class=chunk-summary-text>Code</span></summary>
<div class="sourceCode" id="cb76"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb76-1"><a href="Chapter3.html#cb76-1" tabindex="-1"></a><span class="co"># Libs</span></span>
<span id="cb76-2"><a href="Chapter3.html#cb76-2" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(tidyverse)) {<span class="fu">install.packages</span>(<span class="st">&quot;tidyverse&quot;</span>); <span class="fu">require</span>(tidyverse)}</span>
<span id="cb76-3"><a href="Chapter3.html#cb76-3" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(sf)) {<span class="fu">install.packages</span>(<span class="st">&quot;sf&quot;</span>); <span class="fu">require</span>(sf)}</span>
<span id="cb76-4"><a href="Chapter3.html#cb76-4" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(arrow)) {<span class="fu">install.packages</span>(<span class="st">&quot;arrow&quot;</span>); <span class="fu">require</span>(arrow)}</span>
<span id="cb76-5"><a href="Chapter3.html#cb76-5" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(sfarrow)) {<span class="fu">install.packages</span>(<span class="st">&quot;sfarrow&quot;</span>); <span class="fu">require</span>(sfarrow)}</span>
<span id="cb76-6"><a href="Chapter3.html#cb76-6" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(terra)) {<span class="fu">install.packages</span>(<span class="st">&quot;terra&quot;</span>); <span class="fu">require</span>(terra)}</span>
<span id="cb76-7"><a href="Chapter3.html#cb76-7" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(raster)) {<span class="fu">install.packages</span>(<span class="st">&quot;raster&quot;</span>); <span class="fu">require</span>(raster)}</span>
<span id="cb76-8"><a href="Chapter3.html#cb76-8" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(fasterize)) {<span class="fu">install.packages</span>(<span class="st">&quot;fasterize&quot;</span>); <span class="fu">require</span>(fasterize)}</span>
<span id="cb76-9"><a href="Chapter3.html#cb76-9" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(readxl)) {<span class="fu">install.packages</span>(<span class="st">&quot;readxl&quot;</span>); <span class="fu">require</span>(readxl)}</span>
<span id="cb76-10"><a href="Chapter3.html#cb76-10" tabindex="-1"></a></span>
<span id="cb76-11"><a href="Chapter3.html#cb76-11" tabindex="-1"></a><span class="co"># templates</span></span>
<span id="cb76-12"><a href="Chapter3.html#cb76-12" tabindex="-1"></a>template_t<span class="ot">=</span><span class="fu">rast</span>(<span class="st">&quot;./Templates/TemplateRasters/LV10m_10km.tif&quot;</span>)</span>
<span id="cb76-13"><a href="Chapter3.html#cb76-13" tabindex="-1"></a>template_r<span class="ot">=</span><span class="fu">raster</span>(template_t)</span>
<span id="cb76-14"><a href="Chapter3.html#cb76-14" tabindex="-1"></a></span>
<span id="cb76-15"><a href="Chapter3.html#cb76-15" tabindex="-1"></a>nulles<span class="ot">=</span>terra<span class="sc">::</span><span class="fu">subst</span>(template_t,<span class="at">from=</span><span class="dv">1</span>,<span class="at">to=</span><span class="dv">0</span>)</span>
<span id="cb76-16"><a href="Chapter3.html#cb76-16" tabindex="-1"></a></span>
<span id="cb76-17"><a href="Chapter3.html#cb76-17" tabindex="-1"></a><span class="co"># vienkāršā ainava</span></span>
<span id="cb76-18"><a href="Chapter3.html#cb76-18" tabindex="-1"></a>ainava_t<span class="ot">=</span><span class="fu">rast</span>(<span class="st">&quot;./Rastri_10m/Ainava_vienk_mask.tif&quot;</span>)</span>
<span id="cb76-19"><a href="Chapter3.html#cb76-19" tabindex="-1"></a>ainava_r<span class="ot">=</span><span class="fu">raster</span>(ainava_t)</span>
<span id="cb76-20"><a href="Chapter3.html#cb76-20" tabindex="-1"></a></span>
<span id="cb76-21"><a href="Chapter3.html#cb76-21" tabindex="-1"></a></span>
<span id="cb76-22"><a href="Chapter3.html#cb76-22" tabindex="-1"></a><span class="co"># Netaksētās mežaudzes </span></span>
<span id="cb76-23"><a href="Chapter3.html#cb76-23" tabindex="-1"></a>meziem<span class="ot">=</span><span class="fu">ifel</span>(ainava_t<span class="sc">==</span><span class="dv">630</span>,<span class="dv">1</span>,<span class="dv">0</span>)</span>
<span id="cb76-24"><a href="Chapter3.html#cb76-24" tabindex="-1"></a>nogabali<span class="ot">=</span><span class="fu">st_read_parquet</span>(<span class="st">&quot;./IevadesDati/MVR/nogabali_2024janv.parquet&quot;</span>)</span>
<span id="cb76-25"><a href="Chapter3.html#cb76-25" tabindex="-1"></a>nogabali<span class="ot">=</span>nogabali <span class="sc">%&gt;%</span> </span>
<span id="cb76-26"><a href="Chapter3.html#cb76-26" tabindex="-1"></a>  <span class="fu">filter</span>(zkat<span class="sc">==</span><span class="st">&quot;10&quot;</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb76-27"><a href="Chapter3.html#cb76-27" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">yes=</span><span class="dv">1</span>)</span>
<span id="cb76-28"><a href="Chapter3.html#cb76-28" tabindex="-1"></a></span>
<span id="cb76-29"><a href="Chapter3.html#cb76-29" tabindex="-1"></a>rastrs_mvr<span class="ot">=</span>fasterize<span class="sc">::</span><span class="fu">fasterize</span>(nogabali,template_r,<span class="at">field=</span><span class="st">&quot;yes&quot;</span>)</span>
<span id="cb76-30"><a href="Chapter3.html#cb76-30" tabindex="-1"></a>rastrs_mvr<span class="ot">=</span><span class="fu">rast</span>(rastrs_mvr)</span>
<span id="cb76-31"><a href="Chapter3.html#cb76-31" tabindex="-1"></a></span>
<span id="cb76-32"><a href="Chapter3.html#cb76-32" tabindex="-1"></a>pirmsmaskas_rastrs<span class="ot">=</span><span class="fu">ifel</span>(<span class="fu">is.na</span>(rastrs_mvr)<span class="sc">&amp;</span>meziem<span class="sc">==</span><span class="dv">1</span>,<span class="dv">1</span>,<span class="dv">0</span>)</span>
<span id="cb76-33"><a href="Chapter3.html#cb76-33" tabindex="-1"></a>aizpildits<span class="ot">=</span>terra<span class="sc">::</span><span class="fu">cover</span>(pirmsmaskas_rastrs,nulles)</span>
<span id="cb76-34"><a href="Chapter3.html#cb76-34" tabindex="-1"></a>pecmaskas_rastrs<span class="ot">=</span><span class="fu">mask</span>(aizpildits,template_t,</span>
<span id="cb76-35"><a href="Chapter3.html#cb76-35" tabindex="-1"></a>                      <span class="at">filename=</span><span class="st">&quot;./Rastri_10m/Ainava_MeziNetaksets.tif&quot;</span>,</span>
<span id="cb76-36"><a href="Chapter3.html#cb76-36" tabindex="-1"></a>                      <span class="at">overwrite=</span><span class="cn">TRUE</span>)</span></code></pre></div>
</details>
<p><br></p>
</div>
<div id="Chapter3.2.2.3.9" class="section level5 hasAnchor" number="3.2.2.3.9">
<h5><span class="header-section-number">3.2.2.3.9</span> Apbūve<a href="Chapter3.html#Chapter3.2.2.3.9" class="anchor-section" aria-label="Anchor link to header"></a></h5>
<p>Rastrs ar šūnas izmēru 10 m un segumu visai Latvijas teritorijai.</p>
<ul>
<li><p>Vērtība <code>1</code> apzīmē šūnas, kurās <a href="Chapter3.html#Chapter3.2.2">vienkāršās ainavas slānī</a> ir
reģistrēta klase <code>500</code>;</p></li>
<li><p>Vērtība <code>0</code> - pārējās Latvijas teritorijā esošās šūnas.</p></li>
</ul>
<p>Zemāk esošās komandu rindas izveido failu <code>Ainava_ApbuveYN.tif</code>.</p>
<details class=chunk-details><summary class=chunk-summary><span class=chunk-summary-text>Code</span></summary>
<div class="sourceCode" id="cb77"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb77-1"><a href="Chapter3.html#cb77-1" tabindex="-1"></a><span class="co"># Libs</span></span>
<span id="cb77-2"><a href="Chapter3.html#cb77-2" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(tidyverse)) {<span class="fu">install.packages</span>(<span class="st">&quot;tidyverse&quot;</span>); <span class="fu">require</span>(tidyverse)}</span>
<span id="cb77-3"><a href="Chapter3.html#cb77-3" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(sf)) {<span class="fu">install.packages</span>(<span class="st">&quot;sf&quot;</span>); <span class="fu">require</span>(sf)}</span>
<span id="cb77-4"><a href="Chapter3.html#cb77-4" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(arrow)) {<span class="fu">install.packages</span>(<span class="st">&quot;arrow&quot;</span>); <span class="fu">require</span>(arrow)}</span>
<span id="cb77-5"><a href="Chapter3.html#cb77-5" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(sfarrow)) {<span class="fu">install.packages</span>(<span class="st">&quot;sfarrow&quot;</span>); <span class="fu">require</span>(sfarrow)}</span>
<span id="cb77-6"><a href="Chapter3.html#cb77-6" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(terra)) {<span class="fu">install.packages</span>(<span class="st">&quot;terra&quot;</span>); <span class="fu">require</span>(terra)}</span>
<span id="cb77-7"><a href="Chapter3.html#cb77-7" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(raster)) {<span class="fu">install.packages</span>(<span class="st">&quot;raster&quot;</span>); <span class="fu">require</span>(raster)}</span>
<span id="cb77-8"><a href="Chapter3.html#cb77-8" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(fasterize)) {<span class="fu">install.packages</span>(<span class="st">&quot;fasterize&quot;</span>); <span class="fu">require</span>(fasterize)}</span>
<span id="cb77-9"><a href="Chapter3.html#cb77-9" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(readxl)) {<span class="fu">install.packages</span>(<span class="st">&quot;readxl&quot;</span>); <span class="fu">require</span>(readxl)}</span>
<span id="cb77-10"><a href="Chapter3.html#cb77-10" tabindex="-1"></a></span>
<span id="cb77-11"><a href="Chapter3.html#cb77-11" tabindex="-1"></a><span class="co"># templates</span></span>
<span id="cb77-12"><a href="Chapter3.html#cb77-12" tabindex="-1"></a>template_t<span class="ot">=</span><span class="fu">rast</span>(<span class="st">&quot;./Templates/TemplateRasters/LV10m_10km.tif&quot;</span>)</span>
<span id="cb77-13"><a href="Chapter3.html#cb77-13" tabindex="-1"></a>template_r<span class="ot">=</span><span class="fu">raster</span>(template_t)</span>
<span id="cb77-14"><a href="Chapter3.html#cb77-14" tabindex="-1"></a></span>
<span id="cb77-15"><a href="Chapter3.html#cb77-15" tabindex="-1"></a>nulles<span class="ot">=</span>terra<span class="sc">::</span><span class="fu">subst</span>(template_t,<span class="at">from=</span><span class="dv">1</span>,<span class="at">to=</span><span class="dv">0</span>)</span>
<span id="cb77-16"><a href="Chapter3.html#cb77-16" tabindex="-1"></a></span>
<span id="cb77-17"><a href="Chapter3.html#cb77-17" tabindex="-1"></a><span class="co"># vienkāršā ainava</span></span>
<span id="cb77-18"><a href="Chapter3.html#cb77-18" tabindex="-1"></a>ainava_t<span class="ot">=</span><span class="fu">rast</span>(<span class="st">&quot;./Rastri_10m/Ainava_vienk_mask.tif&quot;</span>)</span>
<span id="cb77-19"><a href="Chapter3.html#cb77-19" tabindex="-1"></a>ainava_r<span class="ot">=</span><span class="fu">raster</span>(ainava_t)</span>
<span id="cb77-20"><a href="Chapter3.html#cb77-20" tabindex="-1"></a></span>
<span id="cb77-21"><a href="Chapter3.html#cb77-21" tabindex="-1"></a><span class="co"># Apbūve</span></span>
<span id="cb77-22"><a href="Chapter3.html#cb77-22" tabindex="-1"></a>apbuve<span class="ot">=</span><span class="fu">ifel</span>(ainava_t<span class="sc">==</span><span class="dv">500</span>,<span class="dv">1</span>,<span class="dv">0</span>)</span>
<span id="cb77-23"><a href="Chapter3.html#cb77-23" tabindex="-1"></a>apbuve<span class="ot">=</span><span class="fu">cover</span>(apbuve,nulles,</span>
<span id="cb77-24"><a href="Chapter3.html#cb77-24" tabindex="-1"></a>           <span class="at">filename=</span><span class="st">&quot;./Rastri_10m/Ainava_ApbuveYN.tif&quot;</span>,</span>
<span id="cb77-25"><a href="Chapter3.html#cb77-25" tabindex="-1"></a>           <span class="at">overwrite=</span><span class="cn">TRUE</span>)</span></code></pre></div>
</details>
<p><br></p>
</div>
<div id="Chapter3.2.2.3.10" class="section level5 hasAnchor" number="3.2.2.3.10">
<h5><span class="header-section-number">3.2.2.3.10</span> Daudzās klases daudzveidībai<a href="Chapter3.html#Chapter3.2.2.3.10" class="anchor-section" aria-label="Anchor link to header"></a></h5>
<p>Rastrs ar šūnas izmēru 10 m un segumu visai Latvijas teritorijai. To veido slāņi
sekojošajā secībā ar tajos norādītajiem kodiem:</p>
<ul>
<li><p><a href="Chapter3.html#Chapter3.2.2.1.16">lauku daudzveidības klases</a></p></li>
<li><p><a href="Chapter3.html#Chapter3.2.2.2.24">mežu daudzveidības klases</a></p></li>
<li><p><a href="Chapter3.html#Chapter3.2.2">vienkāršās ainavas kases</a>;</p></li>
<li><p>atlikušās Latvijas teritorijā esošās vietas aizpildītas ar vērtību <code>1</code>.</p></li>
</ul>
<p>Zemāk esošās komandu rindas izveido failu <code>Ainava_KopejaiDaudzveidibai.tif</code>.</p>
<details class=chunk-details><summary class=chunk-summary><span class=chunk-summary-text>Code</span></summary>
<div class="sourceCode" id="cb78"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb78-1"><a href="Chapter3.html#cb78-1" tabindex="-1"></a><span class="co"># Libs</span></span>
<span id="cb78-2"><a href="Chapter3.html#cb78-2" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(tidyverse)) {<span class="fu">install.packages</span>(<span class="st">&quot;tidyverse&quot;</span>); <span class="fu">require</span>(tidyverse)}</span>
<span id="cb78-3"><a href="Chapter3.html#cb78-3" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(sf)) {<span class="fu">install.packages</span>(<span class="st">&quot;sf&quot;</span>); <span class="fu">require</span>(sf)}</span>
<span id="cb78-4"><a href="Chapter3.html#cb78-4" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(arrow)) {<span class="fu">install.packages</span>(<span class="st">&quot;arrow&quot;</span>); <span class="fu">require</span>(arrow)}</span>
<span id="cb78-5"><a href="Chapter3.html#cb78-5" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(sfarrow)) {<span class="fu">install.packages</span>(<span class="st">&quot;sfarrow&quot;</span>); <span class="fu">require</span>(sfarrow)}</span>
<span id="cb78-6"><a href="Chapter3.html#cb78-6" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(terra)) {<span class="fu">install.packages</span>(<span class="st">&quot;terra&quot;</span>); <span class="fu">require</span>(terra)}</span>
<span id="cb78-7"><a href="Chapter3.html#cb78-7" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(raster)) {<span class="fu">install.packages</span>(<span class="st">&quot;raster&quot;</span>); <span class="fu">require</span>(raster)}</span>
<span id="cb78-8"><a href="Chapter3.html#cb78-8" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(fasterize)) {<span class="fu">install.packages</span>(<span class="st">&quot;fasterize&quot;</span>); <span class="fu">require</span>(fasterize)}</span>
<span id="cb78-9"><a href="Chapter3.html#cb78-9" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(readxl)) {<span class="fu">install.packages</span>(<span class="st">&quot;readxl&quot;</span>); <span class="fu">require</span>(readxl)}</span>
<span id="cb78-10"><a href="Chapter3.html#cb78-10" tabindex="-1"></a></span>
<span id="cb78-11"><a href="Chapter3.html#cb78-11" tabindex="-1"></a><span class="co"># templates</span></span>
<span id="cb78-12"><a href="Chapter3.html#cb78-12" tabindex="-1"></a>template_t<span class="ot">=</span><span class="fu">rast</span>(<span class="st">&quot;./Templates/TemplateRasters/LV10m_10km.tif&quot;</span>)</span>
<span id="cb78-13"><a href="Chapter3.html#cb78-13" tabindex="-1"></a>template_r<span class="ot">=</span><span class="fu">raster</span>(template_t)</span>
<span id="cb78-14"><a href="Chapter3.html#cb78-14" tabindex="-1"></a></span>
<span id="cb78-15"><a href="Chapter3.html#cb78-15" tabindex="-1"></a>nulles<span class="ot">=</span>terra<span class="sc">::</span><span class="fu">subst</span>(template_t,<span class="at">from=</span><span class="dv">1</span>,<span class="at">to=</span><span class="dv">0</span>)</span>
<span id="cb78-16"><a href="Chapter3.html#cb78-16" tabindex="-1"></a></span>
<span id="cb78-17"><a href="Chapter3.html#cb78-17" tabindex="-1"></a><span class="co"># vienkāršā ainava</span></span>
<span id="cb78-18"><a href="Chapter3.html#cb78-18" tabindex="-1"></a>ainava_t<span class="ot">=</span><span class="fu">rast</span>(<span class="st">&quot;./Rastri_10m/Ainava_vienk_mask.tif&quot;</span>)</span>
<span id="cb78-19"><a href="Chapter3.html#cb78-19" tabindex="-1"></a>ainava_r<span class="ot">=</span><span class="fu">raster</span>(ainava_t)</span>
<span id="cb78-20"><a href="Chapter3.html#cb78-20" tabindex="-1"></a></span>
<span id="cb78-21"><a href="Chapter3.html#cb78-21" tabindex="-1"></a><span class="co"># </span></span>
<span id="cb78-22"><a href="Chapter3.html#cb78-22" tabindex="-1"></a><span class="co"># lauku daudzveidiba</span></span>
<span id="cb78-23"><a href="Chapter3.html#cb78-23" tabindex="-1"></a>lauki<span class="ot">=</span><span class="fu">rast</span>(<span class="st">&quot;./Rastri_10m/Ainava_LaukuDaudzveidibai.tif&quot;</span>)</span>
<span id="cb78-24"><a href="Chapter3.html#cb78-24" tabindex="-1"></a>lauki<span class="ot">=</span><span class="fu">subst</span>(lauki,<span class="at">from=</span><span class="dv">1</span>,<span class="at">to=</span><span class="cn">NA</span>)</span>
<span id="cb78-25"><a href="Chapter3.html#cb78-25" tabindex="-1"></a></span>
<span id="cb78-26"><a href="Chapter3.html#cb78-26" tabindex="-1"></a><span class="co"># mezu daudzveidiba</span></span>
<span id="cb78-27"><a href="Chapter3.html#cb78-27" tabindex="-1"></a>mezi<span class="ot">=</span><span class="fu">rast</span>(<span class="st">&quot;./Rastri_10m/Ainava_MezuDaudzveidibai.tif&quot;</span>)</span>
<span id="cb78-28"><a href="Chapter3.html#cb78-28" tabindex="-1"></a>mezi<span class="ot">=</span><span class="fu">subst</span>(mezi,<span class="at">from=</span><span class="dv">1</span>,<span class="at">to=</span><span class="cn">NA</span>)</span>
<span id="cb78-29"><a href="Chapter3.html#cb78-29" tabindex="-1"></a></span>
<span id="cb78-30"><a href="Chapter3.html#cb78-30" tabindex="-1"></a><span class="co"># apvienosana</span></span>
<span id="cb78-31"><a href="Chapter3.html#cb78-31" tabindex="-1"></a>visai_ainavai<span class="ot">=</span><span class="fu">sprc</span>(lauki,mezi,ainava_t)</span>
<span id="cb78-32"><a href="Chapter3.html#cb78-32" tabindex="-1"></a>visa_ainava<span class="ot">=</span>terra<span class="sc">::</span><span class="fu">merge</span>(visai_ainavai)</span>
<span id="cb78-33"><a href="Chapter3.html#cb78-33" tabindex="-1"></a>visai_daudzveidibai<span class="ot">=</span>terra<span class="sc">::</span><span class="fu">cover</span>(visa_ainava,template_t,</span>
<span id="cb78-34"><a href="Chapter3.html#cb78-34" tabindex="-1"></a>                                <span class="at">values=</span><span class="cn">NA</span>,</span>
<span id="cb78-35"><a href="Chapter3.html#cb78-35" tabindex="-1"></a>                                <span class="at">filename=</span><span class="st">&quot;./Rastri_10m/Ainava_KopejaiDaudzveidibai.tif&quot;</span>,</span>
<span id="cb78-36"><a href="Chapter3.html#cb78-36" tabindex="-1"></a>                                <span class="at">overwrite=</span><span class="cn">TRUE</span>)</span></code></pre></div>
</details>
<p><br></p>
<p><br></p>
</div>
</div>
<div id="Chapter3.2.2.4" class="section level4 hasAnchor" number="3.2.2.4">
<h4><span class="header-section-number">3.2.2.4</span> Malu slāņi<a href="Chapter3.html#Chapter3.2.2.4" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>Šajā apakšnodaļā apkopoti ar virsnodaļā aprakstīto ainavu saistītie ievades produkti - 10 m izšķirtspējā sagatavoti rastra slāņi, kas nepieciešami tālākai EGV sagatavošanai. Lai atvieglotu meklēšanu un atsaukšanos, tie iedalīti vēl zamāka līmeņa apakšnodaļās.</p>
<p>Malu aprēķini ir no skaitļošanas viedokļa izaicinoši gan datoram sniedzamo instrukciju, gan aprēķinu apjoma dēļ. Lai atvieglotu instrukcijas, sagatavoti mērķtiecīgi ievades slāņi, kas satur specifiskās klases, kuru (savstarpējās) malas ir nepieciešams raksrturot, ekoģeogrāfisko mainīgo aprēķināšanai.</p>
<p>Sekojošajās apakšnodaļās esošajos kodu apgabalos sākuma daļa atkārtojas. Nenoliedzami, tas nomāc svarīgo - slānim specifisko daļu. Tomēr tas ļauj katru no tiem uztvert un izpildīt kā neatkarīgu uzdevumu, ja ir pieejami izmantojamie zemāka līmeņa slāņi, uz kuriem atsauces sniegtas aprakstos.</p>
<div id="Chapter3.2.2.4.1" class="section level5 hasAnchor" number="3.2.2.4.1">
<h5><span class="header-section-number">3.2.2.4.1</span> Apbūves un LIZ mala<a href="Chapter3.html#Chapter3.2.2.4.1" class="anchor-section" aria-label="Anchor link to header"></a></h5>
<p>Rastrs ar šūnas izmēru 10 m un segumu visai Latvijas teritorijai, pārklasificējot
<a href="Chapter3.html#Chapter3.2.2">vienkāršās ainavas slānī</a> reģistrētās vērtības:</p>
<ul>
<li><p>vērtība <code>500</code> saglabāta <a href="Chapter3.html#Chapter3.2.2">vienkāršās ainavas slāņa</a> klasei <code>500</code>;</p></li>
<li><p>vērtība <code>300</code> piešķirta <a href="Chapter3.html#Chapter3.2.2">vienkāršās ainavas slāņa</a> klašu
diapozonam [<code>300</code>,<code>400</code>);</p></li>
<li><p>pārējās Latvijas teritorijā esošās šūnas aizpildītas ar <code>NA</code>.</p></li>
</ul>
<p>Zemāk esošās komandu rindas izveido failu <code>Malam_Apbuve_LIZ.tif</code>.</p>
<details class=chunk-details><summary class=chunk-summary><span class=chunk-summary-text>Code</span></summary>
<div class="sourceCode" id="cb79"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb79-1"><a href="Chapter3.html#cb79-1" tabindex="-1"></a><span class="co"># Libs</span></span>
<span id="cb79-2"><a href="Chapter3.html#cb79-2" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(tidyverse)) {<span class="fu">install.packages</span>(<span class="st">&quot;tidyverse&quot;</span>); <span class="fu">require</span>(tidyverse)}</span>
<span id="cb79-3"><a href="Chapter3.html#cb79-3" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(sf)) {<span class="fu">install.packages</span>(<span class="st">&quot;sf&quot;</span>); <span class="fu">require</span>(sf)}</span>
<span id="cb79-4"><a href="Chapter3.html#cb79-4" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(arrow)) {<span class="fu">install.packages</span>(<span class="st">&quot;arrow&quot;</span>); <span class="fu">require</span>(arrow)}</span>
<span id="cb79-5"><a href="Chapter3.html#cb79-5" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(sfarrow)) {<span class="fu">install.packages</span>(<span class="st">&quot;sfarrow&quot;</span>); <span class="fu">require</span>(sfarrow)}</span>
<span id="cb79-6"><a href="Chapter3.html#cb79-6" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(terra)) {<span class="fu">install.packages</span>(<span class="st">&quot;terra&quot;</span>); <span class="fu">require</span>(terra)}</span>
<span id="cb79-7"><a href="Chapter3.html#cb79-7" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(raster)) {<span class="fu">install.packages</span>(<span class="st">&quot;raster&quot;</span>); <span class="fu">require</span>(raster)}</span>
<span id="cb79-8"><a href="Chapter3.html#cb79-8" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(fasterize)) {<span class="fu">install.packages</span>(<span class="st">&quot;fasterize&quot;</span>); <span class="fu">require</span>(fasterize)}</span>
<span id="cb79-9"><a href="Chapter3.html#cb79-9" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(readxl)) {<span class="fu">install.packages</span>(<span class="st">&quot;readxl&quot;</span>); <span class="fu">require</span>(readxl)}</span>
<span id="cb79-10"><a href="Chapter3.html#cb79-10" tabindex="-1"></a></span>
<span id="cb79-11"><a href="Chapter3.html#cb79-11" tabindex="-1"></a><span class="co"># templates</span></span>
<span id="cb79-12"><a href="Chapter3.html#cb79-12" tabindex="-1"></a>template_t<span class="ot">=</span><span class="fu">rast</span>(<span class="st">&quot;./Templates/TemplateRasters/LV10m_10km.tif&quot;</span>)</span>
<span id="cb79-13"><a href="Chapter3.html#cb79-13" tabindex="-1"></a>template_r<span class="ot">=</span><span class="fu">raster</span>(template_t)</span>
<span id="cb79-14"><a href="Chapter3.html#cb79-14" tabindex="-1"></a></span>
<span id="cb79-15"><a href="Chapter3.html#cb79-15" tabindex="-1"></a>nulles<span class="ot">=</span>terra<span class="sc">::</span><span class="fu">subst</span>(template_t,<span class="at">from=</span><span class="dv">1</span>,<span class="at">to=</span><span class="dv">0</span>)</span>
<span id="cb79-16"><a href="Chapter3.html#cb79-16" tabindex="-1"></a></span>
<span id="cb79-17"><a href="Chapter3.html#cb79-17" tabindex="-1"></a><span class="co"># vienkāršā ainava</span></span>
<span id="cb79-18"><a href="Chapter3.html#cb79-18" tabindex="-1"></a>ainava_t<span class="ot">=</span><span class="fu">rast</span>(<span class="st">&quot;./Rastri_10m/Ainava_vienk_mask.tif&quot;</span>)</span>
<span id="cb79-19"><a href="Chapter3.html#cb79-19" tabindex="-1"></a>ainava_r<span class="ot">=</span><span class="fu">raster</span>(ainava_t)</span>
<span id="cb79-20"><a href="Chapter3.html#cb79-20" tabindex="-1"></a></span>
<span id="cb79-21"><a href="Chapter3.html#cb79-21" tabindex="-1"></a><span class="co"># Apbūves un LIZ malām</span></span>
<span id="cb79-22"><a href="Chapter3.html#cb79-22" tabindex="-1"></a>apbuve<span class="ot">=</span><span class="fu">ifel</span>(ainava_t<span class="sc">==</span><span class="dv">500</span>,<span class="dv">500</span>,<span class="cn">NA</span>)</span>
<span id="cb79-23"><a href="Chapter3.html#cb79-23" tabindex="-1"></a>liz<span class="ot">=</span><span class="fu">ifel</span>(ainava_t<span class="sc">&gt;=</span><span class="dv">300</span><span class="sc">&amp;</span>ainava_t<span class="sc">&lt;</span><span class="dv">400</span>,<span class="dv">300</span>,<span class="cn">NA</span>)</span>
<span id="cb79-24"><a href="Chapter3.html#cb79-24" tabindex="-1"></a>abi<span class="ot">=</span><span class="fu">merge</span>(apbuve,liz,</span>
<span id="cb79-25"><a href="Chapter3.html#cb79-25" tabindex="-1"></a>          <span class="at">filename=</span><span class="st">&quot;./Rastri_10m/Malam_Apbuve_LIZ.tif&quot;</span>,</span>
<span id="cb79-26"><a href="Chapter3.html#cb79-26" tabindex="-1"></a>          <span class="at">overwrite=</span><span class="cn">TRUE</span>)</span></code></pre></div>
</details>
<p><br></p>
</div>
<div id="Chapter3.2.2.4.2" class="section level5 hasAnchor" number="3.2.2.4.2">
<h5><span class="header-section-number">3.2.2.4.2</span> Apbūves un koku mala<a href="Chapter3.html#Chapter3.2.2.4.2" class="anchor-section" aria-label="Anchor link to header"></a></h5>
<p>Rastrs ar šūnas izmēru 10 m un segumu visai Latvijas teritorijai, pārklasificējot
<a href="Chapter3.html#Chapter3.2.2">vienkāršās ainavas slānī</a> reģistrētās vērtības:</p>
<ul>
<li><p>vērtība <code>500</code> saglabāta <a href="Chapter3.html#Chapter3.2.2">vienkāršās ainavas slāņa</a> klasei <code>500</code>;</p></li>
<li><p>vērtība <code>634</code> piešķirta <a href="Chapter3.html#Chapter3.2.2">vienkāršās ainavas slāņa</a> klašu
diapozonam [<code>630</code>,<code>640</code>];</p></li>
<li><p>pārējās Latvijas teritorijā esošās šūnas aizpildītas ar <code>NA</code>.</p></li>
</ul>
<p>Zemāk esošās komandu rindas izveido failu <code>Malam_Apbuve_koki.tif</code>.</p>
<details class=chunk-details><summary class=chunk-summary><span class=chunk-summary-text>Code</span></summary>
<div class="sourceCode" id="cb80"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb80-1"><a href="Chapter3.html#cb80-1" tabindex="-1"></a><span class="co"># Libs</span></span>
<span id="cb80-2"><a href="Chapter3.html#cb80-2" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(tidyverse)) {<span class="fu">install.packages</span>(<span class="st">&quot;tidyverse&quot;</span>); <span class="fu">require</span>(tidyverse)}</span>
<span id="cb80-3"><a href="Chapter3.html#cb80-3" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(sf)) {<span class="fu">install.packages</span>(<span class="st">&quot;sf&quot;</span>); <span class="fu">require</span>(sf)}</span>
<span id="cb80-4"><a href="Chapter3.html#cb80-4" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(arrow)) {<span class="fu">install.packages</span>(<span class="st">&quot;arrow&quot;</span>); <span class="fu">require</span>(arrow)}</span>
<span id="cb80-5"><a href="Chapter3.html#cb80-5" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(sfarrow)) {<span class="fu">install.packages</span>(<span class="st">&quot;sfarrow&quot;</span>); <span class="fu">require</span>(sfarrow)}</span>
<span id="cb80-6"><a href="Chapter3.html#cb80-6" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(terra)) {<span class="fu">install.packages</span>(<span class="st">&quot;terra&quot;</span>); <span class="fu">require</span>(terra)}</span>
<span id="cb80-7"><a href="Chapter3.html#cb80-7" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(raster)) {<span class="fu">install.packages</span>(<span class="st">&quot;raster&quot;</span>); <span class="fu">require</span>(raster)}</span>
<span id="cb80-8"><a href="Chapter3.html#cb80-8" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(fasterize)) {<span class="fu">install.packages</span>(<span class="st">&quot;fasterize&quot;</span>); <span class="fu">require</span>(fasterize)}</span>
<span id="cb80-9"><a href="Chapter3.html#cb80-9" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(readxl)) {<span class="fu">install.packages</span>(<span class="st">&quot;readxl&quot;</span>); <span class="fu">require</span>(readxl)}</span>
<span id="cb80-10"><a href="Chapter3.html#cb80-10" tabindex="-1"></a></span>
<span id="cb80-11"><a href="Chapter3.html#cb80-11" tabindex="-1"></a><span class="co"># templates</span></span>
<span id="cb80-12"><a href="Chapter3.html#cb80-12" tabindex="-1"></a>template_t<span class="ot">=</span><span class="fu">rast</span>(<span class="st">&quot;./Templates/TemplateRasters/LV10m_10km.tif&quot;</span>)</span>
<span id="cb80-13"><a href="Chapter3.html#cb80-13" tabindex="-1"></a>template_r<span class="ot">=</span><span class="fu">raster</span>(template_t)</span>
<span id="cb80-14"><a href="Chapter3.html#cb80-14" tabindex="-1"></a></span>
<span id="cb80-15"><a href="Chapter3.html#cb80-15" tabindex="-1"></a>nulles<span class="ot">=</span>terra<span class="sc">::</span><span class="fu">subst</span>(template_t,<span class="at">from=</span><span class="dv">1</span>,<span class="at">to=</span><span class="dv">0</span>)</span>
<span id="cb80-16"><a href="Chapter3.html#cb80-16" tabindex="-1"></a></span>
<span id="cb80-17"><a href="Chapter3.html#cb80-17" tabindex="-1"></a><span class="co"># vienkāršā ainava</span></span>
<span id="cb80-18"><a href="Chapter3.html#cb80-18" tabindex="-1"></a>ainava_t<span class="ot">=</span><span class="fu">rast</span>(<span class="st">&quot;./Rastri_10m/Ainava_vienk_mask.tif&quot;</span>)</span>
<span id="cb80-19"><a href="Chapter3.html#cb80-19" tabindex="-1"></a>ainava_r<span class="ot">=</span><span class="fu">raster</span>(ainava_t)</span>
<span id="cb80-20"><a href="Chapter3.html#cb80-20" tabindex="-1"></a></span>
<span id="cb80-21"><a href="Chapter3.html#cb80-21" tabindex="-1"></a><span class="co"># Apbūves un koku malām</span></span>
<span id="cb80-22"><a href="Chapter3.html#cb80-22" tabindex="-1"></a>apbuve<span class="ot">=</span><span class="fu">ifel</span>(ainava_t<span class="sc">==</span><span class="dv">500</span>,<span class="dv">500</span>,<span class="cn">NA</span>)</span>
<span id="cb80-23"><a href="Chapter3.html#cb80-23" tabindex="-1"></a>koki<span class="ot">=</span><span class="fu">ifel</span>(ainava_t<span class="sc">&gt;=</span><span class="dv">630</span><span class="sc">&amp;</span>ainava_t<span class="sc">&lt;=</span><span class="dv">640</span>,<span class="dv">634</span>,<span class="cn">NA</span>)</span>
<span id="cb80-24"><a href="Chapter3.html#cb80-24" tabindex="-1"></a>abi<span class="ot">=</span><span class="fu">merge</span>(apbuve,koki,</span>
<span id="cb80-25"><a href="Chapter3.html#cb80-25" tabindex="-1"></a>          <span class="at">filename=</span><span class="st">&quot;./Rastri_10m/Malam_Apbuve_koki.tif&quot;</span>,</span>
<span id="cb80-26"><a href="Chapter3.html#cb80-26" tabindex="-1"></a>          <span class="at">overwrite=</span><span class="cn">TRUE</span>)</span></code></pre></div>
</details>
<p><br></p>
</div>
<div id="Chapter3.2.2.4.3" class="section level5 hasAnchor" number="3.2.2.4.3">
<h5><span class="header-section-number">3.2.2.4.3</span> Aramzemju (visu) malas<a href="Chapter3.html#Chapter3.2.2.4.3" class="anchor-section" aria-label="Anchor link to header"></a></h5>
<p>Rastrs ar šūnas izmēru 10 m un segumu visai Latvijas teritorijai, pārklasificējot
<a href="Chapter3.html#Chapter3.2.2">vienkāršās ainavas slānī</a> reģistrētās vērtības:</p>
<ul>
<li><p>vērtība <code>310</code> saglabāta <a href="Chapter3.html#Chapter3.2.2">vienkāršās ainavas slāņa</a> klasei <code>310</code>;</p></li>
<li><p>pārējās Latvijas teritorijā esošās šūnas aizpildītas ar <code>0</code>.</p></li>
</ul>
<p>Zemāk esošās komandu rindas izveido failu <code>Malam_Aramzemes_Y.tif</code>.</p>
<details class=chunk-details><summary class=chunk-summary><span class=chunk-summary-text>Code</span></summary>
<div class="sourceCode" id="cb81"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb81-1"><a href="Chapter3.html#cb81-1" tabindex="-1"></a><span class="co"># Libs</span></span>
<span id="cb81-2"><a href="Chapter3.html#cb81-2" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(tidyverse)) {<span class="fu">install.packages</span>(<span class="st">&quot;tidyverse&quot;</span>); <span class="fu">require</span>(tidyverse)}</span>
<span id="cb81-3"><a href="Chapter3.html#cb81-3" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(sf)) {<span class="fu">install.packages</span>(<span class="st">&quot;sf&quot;</span>); <span class="fu">require</span>(sf)}</span>
<span id="cb81-4"><a href="Chapter3.html#cb81-4" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(arrow)) {<span class="fu">install.packages</span>(<span class="st">&quot;arrow&quot;</span>); <span class="fu">require</span>(arrow)}</span>
<span id="cb81-5"><a href="Chapter3.html#cb81-5" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(sfarrow)) {<span class="fu">install.packages</span>(<span class="st">&quot;sfarrow&quot;</span>); <span class="fu">require</span>(sfarrow)}</span>
<span id="cb81-6"><a href="Chapter3.html#cb81-6" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(terra)) {<span class="fu">install.packages</span>(<span class="st">&quot;terra&quot;</span>); <span class="fu">require</span>(terra)}</span>
<span id="cb81-7"><a href="Chapter3.html#cb81-7" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(raster)) {<span class="fu">install.packages</span>(<span class="st">&quot;raster&quot;</span>); <span class="fu">require</span>(raster)}</span>
<span id="cb81-8"><a href="Chapter3.html#cb81-8" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(fasterize)) {<span class="fu">install.packages</span>(<span class="st">&quot;fasterize&quot;</span>); <span class="fu">require</span>(fasterize)}</span>
<span id="cb81-9"><a href="Chapter3.html#cb81-9" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(readxl)) {<span class="fu">install.packages</span>(<span class="st">&quot;readxl&quot;</span>); <span class="fu">require</span>(readxl)}</span>
<span id="cb81-10"><a href="Chapter3.html#cb81-10" tabindex="-1"></a></span>
<span id="cb81-11"><a href="Chapter3.html#cb81-11" tabindex="-1"></a><span class="co"># templates</span></span>
<span id="cb81-12"><a href="Chapter3.html#cb81-12" tabindex="-1"></a>template_t<span class="ot">=</span><span class="fu">rast</span>(<span class="st">&quot;./Templates/TemplateRasters/LV10m_10km.tif&quot;</span>)</span>
<span id="cb81-13"><a href="Chapter3.html#cb81-13" tabindex="-1"></a>template_r<span class="ot">=</span><span class="fu">raster</span>(template_t)</span>
<span id="cb81-14"><a href="Chapter3.html#cb81-14" tabindex="-1"></a></span>
<span id="cb81-15"><a href="Chapter3.html#cb81-15" tabindex="-1"></a>nulles<span class="ot">=</span>terra<span class="sc">::</span><span class="fu">subst</span>(template_t,<span class="at">from=</span><span class="dv">1</span>,<span class="at">to=</span><span class="dv">0</span>)</span>
<span id="cb81-16"><a href="Chapter3.html#cb81-16" tabindex="-1"></a></span>
<span id="cb81-17"><a href="Chapter3.html#cb81-17" tabindex="-1"></a><span class="co"># vienkāršā ainava</span></span>
<span id="cb81-18"><a href="Chapter3.html#cb81-18" tabindex="-1"></a>ainava_t<span class="ot">=</span><span class="fu">rast</span>(<span class="st">&quot;./Rastri_10m/Ainava_vienk_mask.tif&quot;</span>)</span>
<span id="cb81-19"><a href="Chapter3.html#cb81-19" tabindex="-1"></a>ainava_r<span class="ot">=</span><span class="fu">raster</span>(ainava_t)</span>
<span id="cb81-20"><a href="Chapter3.html#cb81-20" tabindex="-1"></a></span>
<span id="cb81-21"><a href="Chapter3.html#cb81-21" tabindex="-1"></a><span class="co"># aramzemju malām</span></span>
<span id="cb81-22"><a href="Chapter3.html#cb81-22" tabindex="-1"></a>aramzemes<span class="ot">=</span><span class="fu">ifel</span>(ainava_t<span class="sc">==</span><span class="dv">310</span>,<span class="dv">310</span>,<span class="dv">0</span>,</span>
<span id="cb81-23"><a href="Chapter3.html#cb81-23" tabindex="-1"></a>               <span class="at">filename=</span><span class="st">&quot;./Rastri_10m/Malam_Aramzemes_Y.tif&quot;</span>,</span>
<span id="cb81-24"><a href="Chapter3.html#cb81-24" tabindex="-1"></a>               <span class="at">overwrite=</span><span class="cn">TRUE</span>)</span></code></pre></div>
</details>
<p><br></p>
</div>
<div id="Chapter3.2.2.4.4" class="section level5 hasAnchor" number="3.2.2.4.4">
<h5><span class="header-section-number">3.2.2.4.4</span> LIZ, izcirtumu un jaunaudžu (&lt;5m) malas ar kokiem &gt;5m<a href="Chapter3.html#Chapter3.2.2.4.4" class="anchor-section" aria-label="Anchor link to header"></a></h5>
<p>Rastrs ar šūnas izmēru 10 m un segumu visai Latvijas teritorijai, pārklasificējot
<a href="Chapter3.html#Chapter3.2.2">vienkāršās ainavas slānī</a> reģistrētās vērtības:</p>
<ul>
<li><p>vērtība <code>634</code> piešķirta <a href="Chapter3.html#Chapter3.2.2">vienkāršās ainavas slāņa</a> klašu
diapozonam [<code>630</code>,<code>640</code>];</p></li>
<li><p>vērtība <code>1</code> piešķirta <a href="Chapter3.html#Chapter3.2.2">vienkāršās ainavas slāņa</a> klašu
diapozoniem:</p>
<p>– [<code>300</code>,<code>400</code>);</p>
<p>– [<code>600</code>,<code>620</code>];</p></li>
<li><p>pārējās Latvijas teritorijā esošās šūnas aizpildītas ar <code>NA</code>.</p></li>
</ul>
<p>Zemāk esošās komandu rindas izveido failu <code>Malam_LIZzemiekoki_Koki.tif</code>.</p>
<details class=chunk-details><summary class=chunk-summary><span class=chunk-summary-text>Code</span></summary>
<div class="sourceCode" id="cb82"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb82-1"><a href="Chapter3.html#cb82-1" tabindex="-1"></a><span class="co"># Libs</span></span>
<span id="cb82-2"><a href="Chapter3.html#cb82-2" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(tidyverse)) {<span class="fu">install.packages</span>(<span class="st">&quot;tidyverse&quot;</span>); <span class="fu">require</span>(tidyverse)}</span>
<span id="cb82-3"><a href="Chapter3.html#cb82-3" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(sf)) {<span class="fu">install.packages</span>(<span class="st">&quot;sf&quot;</span>); <span class="fu">require</span>(sf)}</span>
<span id="cb82-4"><a href="Chapter3.html#cb82-4" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(arrow)) {<span class="fu">install.packages</span>(<span class="st">&quot;arrow&quot;</span>); <span class="fu">require</span>(arrow)}</span>
<span id="cb82-5"><a href="Chapter3.html#cb82-5" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(sfarrow)) {<span class="fu">install.packages</span>(<span class="st">&quot;sfarrow&quot;</span>); <span class="fu">require</span>(sfarrow)}</span>
<span id="cb82-6"><a href="Chapter3.html#cb82-6" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(terra)) {<span class="fu">install.packages</span>(<span class="st">&quot;terra&quot;</span>); <span class="fu">require</span>(terra)}</span>
<span id="cb82-7"><a href="Chapter3.html#cb82-7" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(raster)) {<span class="fu">install.packages</span>(<span class="st">&quot;raster&quot;</span>); <span class="fu">require</span>(raster)}</span>
<span id="cb82-8"><a href="Chapter3.html#cb82-8" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(fasterize)) {<span class="fu">install.packages</span>(<span class="st">&quot;fasterize&quot;</span>); <span class="fu">require</span>(fasterize)}</span>
<span id="cb82-9"><a href="Chapter3.html#cb82-9" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(readxl)) {<span class="fu">install.packages</span>(<span class="st">&quot;readxl&quot;</span>); <span class="fu">require</span>(readxl)}</span>
<span id="cb82-10"><a href="Chapter3.html#cb82-10" tabindex="-1"></a></span>
<span id="cb82-11"><a href="Chapter3.html#cb82-11" tabindex="-1"></a><span class="co"># templates</span></span>
<span id="cb82-12"><a href="Chapter3.html#cb82-12" tabindex="-1"></a>template_t<span class="ot">=</span><span class="fu">rast</span>(<span class="st">&quot;./Templates/TemplateRasters/LV10m_10km.tif&quot;</span>)</span>
<span id="cb82-13"><a href="Chapter3.html#cb82-13" tabindex="-1"></a>template_r<span class="ot">=</span><span class="fu">raster</span>(template_t)</span>
<span id="cb82-14"><a href="Chapter3.html#cb82-14" tabindex="-1"></a></span>
<span id="cb82-15"><a href="Chapter3.html#cb82-15" tabindex="-1"></a>nulles<span class="ot">=</span>terra<span class="sc">::</span><span class="fu">subst</span>(template_t,<span class="at">from=</span><span class="dv">1</span>,<span class="at">to=</span><span class="dv">0</span>)</span>
<span id="cb82-16"><a href="Chapter3.html#cb82-16" tabindex="-1"></a></span>
<span id="cb82-17"><a href="Chapter3.html#cb82-17" tabindex="-1"></a><span class="co"># vienkāršā ainava</span></span>
<span id="cb82-18"><a href="Chapter3.html#cb82-18" tabindex="-1"></a>ainava_t<span class="ot">=</span><span class="fu">rast</span>(<span class="st">&quot;./Rastri_10m/Ainava_vienk_mask.tif&quot;</span>)</span>
<span id="cb82-19"><a href="Chapter3.html#cb82-19" tabindex="-1"></a>ainava_r<span class="ot">=</span><span class="fu">raster</span>(ainava_t)</span>
<span id="cb82-20"><a href="Chapter3.html#cb82-20" tabindex="-1"></a></span>
<span id="cb82-21"><a href="Chapter3.html#cb82-21" tabindex="-1"></a><span class="co"># LIZ, izcirtumu un jaunaudžu (&lt;5m) malām ar kokiem &gt;5m</span></span>
<span id="cb82-22"><a href="Chapter3.html#cb82-22" tabindex="-1"></a>viens<span class="ot">=</span><span class="fu">ifel</span>((ainava_t<span class="sc">&gt;=</span><span class="dv">300</span><span class="sc">&amp;</span>ainava_t<span class="sc">&lt;</span><span class="dv">400</span>)<span class="sc">|</span>(ainava_t<span class="sc">&gt;=</span><span class="dv">600</span><span class="sc">&amp;</span>ainava_t<span class="sc">&lt;=</span><span class="dv">620</span>),<span class="dv">1</span>,<span class="cn">NA</span>)</span>
<span id="cb82-23"><a href="Chapter3.html#cb82-23" tabindex="-1"></a>koki<span class="ot">=</span><span class="fu">ifel</span>(ainava_t<span class="sc">&gt;=</span><span class="dv">630</span><span class="sc">&amp;</span>ainava_t<span class="sc">&lt;=</span><span class="dv">640</span>,<span class="dv">634</span>,<span class="cn">NA</span>)</span>
<span id="cb82-24"><a href="Chapter3.html#cb82-24" tabindex="-1"></a>abi<span class="ot">=</span><span class="fu">merge</span>(viens,koki,</span>
<span id="cb82-25"><a href="Chapter3.html#cb82-25" tabindex="-1"></a>          <span class="at">filename=</span><span class="st">&quot;./Rastri_10m/Malam_LIZzemiekoki_Koki.tif&quot;</span>,</span>
<span id="cb82-26"><a href="Chapter3.html#cb82-26" tabindex="-1"></a>          <span class="at">overwrite=</span><span class="cn">TRUE</span>)</span></code></pre></div>
</details>
<p><br></p>
</div>
<div id="Chapter3.2.2.4.5" class="section level5 hasAnchor" number="3.2.2.4.5">
<h5><span class="header-section-number">3.2.2.4.5</span> Koku virs 5m malas<a href="Chapter3.html#Chapter3.2.2.4.5" class="anchor-section" aria-label="Anchor link to header"></a></h5>
<p>Rastrs ar šūnas izmēru 10 m un segumu visai Latvijas teritorijai, pārklasificējot
<a href="Chapter3.html#Chapter3.2.2">vienkāršās ainavas slānī</a> reģistrētās vērtības:</p>
<ul>
<li><p>vērtība <code>634</code> piešķirta <a href="Chapter3.html#Chapter3.2.2">vienkāršās ainavas slāņa</a> klašu
diapozonam [<code>630</code>,<code>640</code>];</p></li>
<li><p>pārējās Latvijas teritorijā esošās šūnas aizpildītas ar <code>0</code>.</p></li>
</ul>
<p>Zemāk esošās komandu rindas izveido failu <code>Malam_Koki_Y.tif</code>.</p>
<details class=chunk-details><summary class=chunk-summary><span class=chunk-summary-text>Code</span></summary>
<div class="sourceCode" id="cb83"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb83-1"><a href="Chapter3.html#cb83-1" tabindex="-1"></a><span class="co"># Libs</span></span>
<span id="cb83-2"><a href="Chapter3.html#cb83-2" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(tidyverse)) {<span class="fu">install.packages</span>(<span class="st">&quot;tidyverse&quot;</span>); <span class="fu">require</span>(tidyverse)}</span>
<span id="cb83-3"><a href="Chapter3.html#cb83-3" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(sf)) {<span class="fu">install.packages</span>(<span class="st">&quot;sf&quot;</span>); <span class="fu">require</span>(sf)}</span>
<span id="cb83-4"><a href="Chapter3.html#cb83-4" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(arrow)) {<span class="fu">install.packages</span>(<span class="st">&quot;arrow&quot;</span>); <span class="fu">require</span>(arrow)}</span>
<span id="cb83-5"><a href="Chapter3.html#cb83-5" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(sfarrow)) {<span class="fu">install.packages</span>(<span class="st">&quot;sfarrow&quot;</span>); <span class="fu">require</span>(sfarrow)}</span>
<span id="cb83-6"><a href="Chapter3.html#cb83-6" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(terra)) {<span class="fu">install.packages</span>(<span class="st">&quot;terra&quot;</span>); <span class="fu">require</span>(terra)}</span>
<span id="cb83-7"><a href="Chapter3.html#cb83-7" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(raster)) {<span class="fu">install.packages</span>(<span class="st">&quot;raster&quot;</span>); <span class="fu">require</span>(raster)}</span>
<span id="cb83-8"><a href="Chapter3.html#cb83-8" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(fasterize)) {<span class="fu">install.packages</span>(<span class="st">&quot;fasterize&quot;</span>); <span class="fu">require</span>(fasterize)}</span>
<span id="cb83-9"><a href="Chapter3.html#cb83-9" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(readxl)) {<span class="fu">install.packages</span>(<span class="st">&quot;readxl&quot;</span>); <span class="fu">require</span>(readxl)}</span>
<span id="cb83-10"><a href="Chapter3.html#cb83-10" tabindex="-1"></a></span>
<span id="cb83-11"><a href="Chapter3.html#cb83-11" tabindex="-1"></a><span class="co"># templates</span></span>
<span id="cb83-12"><a href="Chapter3.html#cb83-12" tabindex="-1"></a>template_t<span class="ot">=</span><span class="fu">rast</span>(<span class="st">&quot;./Templates/TemplateRasters/LV10m_10km.tif&quot;</span>)</span>
<span id="cb83-13"><a href="Chapter3.html#cb83-13" tabindex="-1"></a>template_r<span class="ot">=</span><span class="fu">raster</span>(template_t)</span>
<span id="cb83-14"><a href="Chapter3.html#cb83-14" tabindex="-1"></a></span>
<span id="cb83-15"><a href="Chapter3.html#cb83-15" tabindex="-1"></a>nulles<span class="ot">=</span>terra<span class="sc">::</span><span class="fu">subst</span>(template_t,<span class="at">from=</span><span class="dv">1</span>,<span class="at">to=</span><span class="dv">0</span>)</span>
<span id="cb83-16"><a href="Chapter3.html#cb83-16" tabindex="-1"></a></span>
<span id="cb83-17"><a href="Chapter3.html#cb83-17" tabindex="-1"></a><span class="co"># vienkāršā ainava</span></span>
<span id="cb83-18"><a href="Chapter3.html#cb83-18" tabindex="-1"></a>ainava_t<span class="ot">=</span><span class="fu">rast</span>(<span class="st">&quot;./Rastri_10m/Ainava_vienk_mask.tif&quot;</span>)</span>
<span id="cb83-19"><a href="Chapter3.html#cb83-19" tabindex="-1"></a>ainava_r<span class="ot">=</span><span class="fu">raster</span>(ainava_t)</span>
<span id="cb83-20"><a href="Chapter3.html#cb83-20" tabindex="-1"></a></span>
<span id="cb83-21"><a href="Chapter3.html#cb83-21" tabindex="-1"></a><span class="co"># koku malām</span></span>
<span id="cb83-22"><a href="Chapter3.html#cb83-22" tabindex="-1"></a>koki<span class="ot">=</span><span class="fu">ifel</span>(ainava_t<span class="sc">&gt;=</span><span class="dv">630</span><span class="sc">&amp;</span>ainava_t<span class="sc">&lt;=</span><span class="dv">640</span>,<span class="dv">634</span>,<span class="dv">0</span>,</span>
<span id="cb83-23"><a href="Chapter3.html#cb83-23" tabindex="-1"></a>          <span class="at">filename=</span><span class="st">&quot;./Rastri_10m/Malam_Koki_Y.tif&quot;</span>,</span>
<span id="cb83-24"><a href="Chapter3.html#cb83-24" tabindex="-1"></a>          <span class="at">overwrite=</span><span class="cn">TRUE</span>)</span></code></pre></div>
</details>
<p><br></p>
</div>
<div id="Chapter3.2.2.4.6" class="section level5 hasAnchor" number="3.2.2.4.6">
<h5><span class="header-section-number">3.2.2.4.6</span> Niedrāju malas ar ūdeni<a href="Chapter3.html#Chapter3.2.2.4.6" class="anchor-section" aria-label="Anchor link to header"></a></h5>
<p>Rastrs ar šūnas izmēru 10 m un segumu visai Latvijas teritorijai, pārklasificējot
<a href="Chapter3.html#Chapter3.2.2">vienkāršās ainavas slānī</a> reģistrētās vērtības:</p>
<ul>
<li><p>vērtība <code>2</code> piešķirta <a href="Chapter3.html#Chapter3.2.2">vienkāršās ainavas slāņa</a> klasei <code>200</code>;</p></li>
<li><p>vērtība <code>1</code> piešķirta <a href="Chapter3.html#Chapter3.2.2">vienkāršās ainavas slāņa</a> klašu
diapozonam [<code>720</code>,<code>730</code>];</p></li>
<li><p>pārējās Latvijas teritorijā esošās šūnas aizpildītas ar <code>NA</code>.</p></li>
</ul>
<p>Zemāk esošās komandu rindas izveido failu <code>Malam_NiedrajiBebraines_Udens.tif</code>.</p>
<details class=chunk-details><summary class=chunk-summary><span class=chunk-summary-text>Code</span></summary>
<div class="sourceCode" id="cb84"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb84-1"><a href="Chapter3.html#cb84-1" tabindex="-1"></a><span class="co"># Libs</span></span>
<span id="cb84-2"><a href="Chapter3.html#cb84-2" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(tidyverse)) {<span class="fu">install.packages</span>(<span class="st">&quot;tidyverse&quot;</span>); <span class="fu">require</span>(tidyverse)}</span>
<span id="cb84-3"><a href="Chapter3.html#cb84-3" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(sf)) {<span class="fu">install.packages</span>(<span class="st">&quot;sf&quot;</span>); <span class="fu">require</span>(sf)}</span>
<span id="cb84-4"><a href="Chapter3.html#cb84-4" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(arrow)) {<span class="fu">install.packages</span>(<span class="st">&quot;arrow&quot;</span>); <span class="fu">require</span>(arrow)}</span>
<span id="cb84-5"><a href="Chapter3.html#cb84-5" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(sfarrow)) {<span class="fu">install.packages</span>(<span class="st">&quot;sfarrow&quot;</span>); <span class="fu">require</span>(sfarrow)}</span>
<span id="cb84-6"><a href="Chapter3.html#cb84-6" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(terra)) {<span class="fu">install.packages</span>(<span class="st">&quot;terra&quot;</span>); <span class="fu">require</span>(terra)}</span>
<span id="cb84-7"><a href="Chapter3.html#cb84-7" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(raster)) {<span class="fu">install.packages</span>(<span class="st">&quot;raster&quot;</span>); <span class="fu">require</span>(raster)}</span>
<span id="cb84-8"><a href="Chapter3.html#cb84-8" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(fasterize)) {<span class="fu">install.packages</span>(<span class="st">&quot;fasterize&quot;</span>); <span class="fu">require</span>(fasterize)}</span>
<span id="cb84-9"><a href="Chapter3.html#cb84-9" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(readxl)) {<span class="fu">install.packages</span>(<span class="st">&quot;readxl&quot;</span>); <span class="fu">require</span>(readxl)}</span>
<span id="cb84-10"><a href="Chapter3.html#cb84-10" tabindex="-1"></a></span>
<span id="cb84-11"><a href="Chapter3.html#cb84-11" tabindex="-1"></a><span class="co"># templates</span></span>
<span id="cb84-12"><a href="Chapter3.html#cb84-12" tabindex="-1"></a>template_t<span class="ot">=</span><span class="fu">rast</span>(<span class="st">&quot;./Templates/TemplateRasters/LV10m_10km.tif&quot;</span>)</span>
<span id="cb84-13"><a href="Chapter3.html#cb84-13" tabindex="-1"></a>template_r<span class="ot">=</span><span class="fu">raster</span>(template_t)</span>
<span id="cb84-14"><a href="Chapter3.html#cb84-14" tabindex="-1"></a></span>
<span id="cb84-15"><a href="Chapter3.html#cb84-15" tabindex="-1"></a>nulles<span class="ot">=</span>terra<span class="sc">::</span><span class="fu">subst</span>(template_t,<span class="at">from=</span><span class="dv">1</span>,<span class="at">to=</span><span class="dv">0</span>)</span>
<span id="cb84-16"><a href="Chapter3.html#cb84-16" tabindex="-1"></a></span>
<span id="cb84-17"><a href="Chapter3.html#cb84-17" tabindex="-1"></a><span class="co"># vienkāršā ainava</span></span>
<span id="cb84-18"><a href="Chapter3.html#cb84-18" tabindex="-1"></a>ainava_t<span class="ot">=</span><span class="fu">rast</span>(<span class="st">&quot;./Rastri_10m/Ainava_vienk_mask.tif&quot;</span>)</span>
<span id="cb84-19"><a href="Chapter3.html#cb84-19" tabindex="-1"></a>ainava_r<span class="ot">=</span><span class="fu">raster</span>(ainava_t)</span>
<span id="cb84-20"><a href="Chapter3.html#cb84-20" tabindex="-1"></a></span>
<span id="cb84-21"><a href="Chapter3.html#cb84-21" tabindex="-1"></a><span class="co"># Niedrāju malām ar ūdeni</span></span>
<span id="cb84-22"><a href="Chapter3.html#cb84-22" tabindex="-1"></a>udens<span class="ot">=</span><span class="fu">ifel</span>(ainava_t<span class="sc">==</span><span class="dv">200</span>,<span class="dv">2</span>,<span class="cn">NA</span>)</span>
<span id="cb84-23"><a href="Chapter3.html#cb84-23" tabindex="-1"></a>niedraji<span class="ot">=</span><span class="fu">ifel</span>(ainava_t<span class="sc">&gt;=</span><span class="dv">720</span><span class="sc">&amp;</span>ainava_t<span class="sc">&lt;=</span><span class="dv">730</span>,<span class="dv">1</span>,<span class="cn">NA</span>)</span>
<span id="cb84-24"><a href="Chapter3.html#cb84-24" tabindex="-1"></a>abi<span class="ot">=</span><span class="fu">merge</span>(udens,niedraji,</span>
<span id="cb84-25"><a href="Chapter3.html#cb84-25" tabindex="-1"></a>          <span class="at">filename=</span><span class="st">&quot;./Rastri_10m/Malam_NiedrajiBebraines_Udens.tif&quot;</span>,</span>
<span id="cb84-26"><a href="Chapter3.html#cb84-26" tabindex="-1"></a>          <span class="at">overwrite=</span><span class="cn">TRUE</span>)</span></code></pre></div>
</details>
<p><br></p>
</div>
<div id="Chapter3.2.2.4.7" class="section level5 hasAnchor" number="3.2.2.4.7">
<h5><span class="header-section-number">3.2.2.4.7</span> Pieaugušu un pāraugušu mežaudžu malas<a href="Chapter3.html#Chapter3.2.2.4.7" class="anchor-section" aria-label="Anchor link to header"></a></h5>
<p>Rastrs ar šūnas izmēru 10 m un segumu visai Latvijas teritorijai, pārklasificējot
<a href="Chapter3.html#Chapter3.2.2.2.11">Pieaugušās un pāraugušās mežaudzes</a> reģistrētās vērtības:</p>
<ul>
<li><p>vērtība <code>1</code> piešķirta <a href="Chapter3.html#Chapter3.2.2.2.11">Pieaugušās un pāraugušās mežaudzes</a> klasei <code>664</code>;</p></li>
<li><p>pārējās Latvijas teritorijā esošās šūnas aizpildītas ar <code>0</code>.</p></li>
</ul>
<p>Zemāk esošās komandu rindas izveido failu <code>Malam_PieaugParaug_Y.tif</code>.</p>
<details class=chunk-details><summary class=chunk-summary><span class=chunk-summary-text>Code</span></summary>
<div class="sourceCode" id="cb85"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb85-1"><a href="Chapter3.html#cb85-1" tabindex="-1"></a><span class="co"># Libs</span></span>
<span id="cb85-2"><a href="Chapter3.html#cb85-2" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(tidyverse)) {<span class="fu">install.packages</span>(<span class="st">&quot;tidyverse&quot;</span>); <span class="fu">require</span>(tidyverse)}</span>
<span id="cb85-3"><a href="Chapter3.html#cb85-3" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(sf)) {<span class="fu">install.packages</span>(<span class="st">&quot;sf&quot;</span>); <span class="fu">require</span>(sf)}</span>
<span id="cb85-4"><a href="Chapter3.html#cb85-4" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(arrow)) {<span class="fu">install.packages</span>(<span class="st">&quot;arrow&quot;</span>); <span class="fu">require</span>(arrow)}</span>
<span id="cb85-5"><a href="Chapter3.html#cb85-5" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(sfarrow)) {<span class="fu">install.packages</span>(<span class="st">&quot;sfarrow&quot;</span>); <span class="fu">require</span>(sfarrow)}</span>
<span id="cb85-6"><a href="Chapter3.html#cb85-6" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(terra)) {<span class="fu">install.packages</span>(<span class="st">&quot;terra&quot;</span>); <span class="fu">require</span>(terra)}</span>
<span id="cb85-7"><a href="Chapter3.html#cb85-7" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(raster)) {<span class="fu">install.packages</span>(<span class="st">&quot;raster&quot;</span>); <span class="fu">require</span>(raster)}</span>
<span id="cb85-8"><a href="Chapter3.html#cb85-8" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(fasterize)) {<span class="fu">install.packages</span>(<span class="st">&quot;fasterize&quot;</span>); <span class="fu">require</span>(fasterize)}</span>
<span id="cb85-9"><a href="Chapter3.html#cb85-9" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(readxl)) {<span class="fu">install.packages</span>(<span class="st">&quot;readxl&quot;</span>); <span class="fu">require</span>(readxl)}</span>
<span id="cb85-10"><a href="Chapter3.html#cb85-10" tabindex="-1"></a></span>
<span id="cb85-11"><a href="Chapter3.html#cb85-11" tabindex="-1"></a></span>
<span id="cb85-12"><a href="Chapter3.html#cb85-12" tabindex="-1"></a><span class="co"># Pieaugušu un pāraugušu mežaudžu malām</span></span>
<span id="cb85-13"><a href="Chapter3.html#cb85-13" tabindex="-1"></a>piepar<span class="ot">=</span><span class="fu">rast</span>(<span class="st">&quot;./Rastri_10m/Mezi_PieaugParaug.tif&quot;</span>)</span>
<span id="cb85-14"><a href="Chapter3.html#cb85-14" tabindex="-1"></a>piepar<span class="ot">=</span><span class="fu">ifel</span>(piepar<span class="sc">==</span><span class="dv">664</span>,<span class="dv">1</span>,<span class="dv">0</span>,</span>
<span id="cb85-15"><a href="Chapter3.html#cb85-15" tabindex="-1"></a>            <span class="at">filename=</span><span class="st">&quot;./Rastri_10m/Malam_PieaugParaug_Y.tif&quot;</span>,</span>
<span id="cb85-16"><a href="Chapter3.html#cb85-16" tabindex="-1"></a>            <span class="at">overwrite=</span><span class="cn">TRUE</span>)</span></code></pre></div>
</details>
<p><br></p>
</div>
<div id="Chapter3.2.2.4.8" class="section level5 hasAnchor" number="3.2.2.4.8">
<h5><span class="header-section-number">3.2.2.4.8</span> Zālāju (visu) malas<a href="Chapter3.html#Chapter3.2.2.4.8" class="anchor-section" aria-label="Anchor link to header"></a></h5>
<p>Rastrs ar šūnas izmēru 10 m un segumu visai Latvijas teritorijai, pārklasificējot
<a href="Chapter3.html#Chapter3.2.2.1.3">Zālāji visi</a> reģistrētās vērtības:</p>
<ul>
<li><p>vērtība <code>1</code> piešķirta <a href="Chapter3.html#Chapter3.2.2.1.3">Zālāji visi</a> klasei <code>1</code>;</p></li>
<li><p>pārējās Latvijas teritorijā esošās šūnas aizpildītas ar <code>0</code>.</p></li>
</ul>
<p>Zemāk esošās komandu rindas izveido failu <code>Malam_Zalaji_Y.tif</code>.</p>
<details class=chunk-details><summary class=chunk-summary><span class=chunk-summary-text>Code</span></summary>
<div class="sourceCode" id="cb86"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb86-1"><a href="Chapter3.html#cb86-1" tabindex="-1"></a><span class="co"># Libs</span></span>
<span id="cb86-2"><a href="Chapter3.html#cb86-2" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(tidyverse)) {<span class="fu">install.packages</span>(<span class="st">&quot;tidyverse&quot;</span>); <span class="fu">require</span>(tidyverse)}</span>
<span id="cb86-3"><a href="Chapter3.html#cb86-3" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(sf)) {<span class="fu">install.packages</span>(<span class="st">&quot;sf&quot;</span>); <span class="fu">require</span>(sf)}</span>
<span id="cb86-4"><a href="Chapter3.html#cb86-4" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(arrow)) {<span class="fu">install.packages</span>(<span class="st">&quot;arrow&quot;</span>); <span class="fu">require</span>(arrow)}</span>
<span id="cb86-5"><a href="Chapter3.html#cb86-5" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(sfarrow)) {<span class="fu">install.packages</span>(<span class="st">&quot;sfarrow&quot;</span>); <span class="fu">require</span>(sfarrow)}</span>
<span id="cb86-6"><a href="Chapter3.html#cb86-6" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(terra)) {<span class="fu">install.packages</span>(<span class="st">&quot;terra&quot;</span>); <span class="fu">require</span>(terra)}</span>
<span id="cb86-7"><a href="Chapter3.html#cb86-7" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(raster)) {<span class="fu">install.packages</span>(<span class="st">&quot;raster&quot;</span>); <span class="fu">require</span>(raster)}</span>
<span id="cb86-8"><a href="Chapter3.html#cb86-8" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(fasterize)) {<span class="fu">install.packages</span>(<span class="st">&quot;fasterize&quot;</span>); <span class="fu">require</span>(fasterize)}</span>
<span id="cb86-9"><a href="Chapter3.html#cb86-9" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(readxl)) {<span class="fu">install.packages</span>(<span class="st">&quot;readxl&quot;</span>); <span class="fu">require</span>(readxl)}</span>
<span id="cb86-10"><a href="Chapter3.html#cb86-10" tabindex="-1"></a></span>
<span id="cb86-11"><a href="Chapter3.html#cb86-11" tabindex="-1"></a><span class="co"># zālāju malām</span></span>
<span id="cb86-12"><a href="Chapter3.html#cb86-12" tabindex="-1"></a>zalaji<span class="ot">=</span><span class="fu">rast</span>(<span class="st">&quot;./Rastri_10m/Lauki_zalajiYN.tif&quot;</span>)</span>
<span id="cb86-13"><a href="Chapter3.html#cb86-13" tabindex="-1"></a>zalaji<span class="ot">=</span><span class="fu">ifel</span>(zalaji<span class="sc">==</span><span class="dv">1</span>,<span class="dv">1</span>,<span class="dv">0</span>,</span>
<span id="cb86-14"><a href="Chapter3.html#cb86-14" tabindex="-1"></a>            <span class="at">filename=</span><span class="st">&quot;./Rastri_10m/Malam_Zalaji_Y.tif&quot;</span>,</span>
<span id="cb86-15"><a href="Chapter3.html#cb86-15" tabindex="-1"></a>            <span class="at">overwrite=</span><span class="cn">TRUE</span>)</span></code></pre></div>
</details>
<p><br></p>
</div>
<div id="Chapter3.2.2.4.9" class="section level5 hasAnchor" number="3.2.2.4.9">
<h5><span class="header-section-number">3.2.2.4.9</span> Ūdens un LIZ malas<a href="Chapter3.html#Chapter3.2.2.4.9" class="anchor-section" aria-label="Anchor link to header"></a></h5>
<p>Rastrs ar šūnas izmēru 10 m un segumu visai Latvijas teritorijai, pārklasificējot
<a href="Chapter3.html#Chapter3.2.2">vienkāršās ainavas slānī</a> reģistrētās vērtības:</p>
<ul>
<li><p>vērtība <code>2</code> piešķirta <a href="Chapter3.html#Chapter3.2.2">vienkāršās ainavas slāņa</a> klasei <code>200</code>;</p></li>
<li><p>vērtība <code>300</code> piešķirta <a href="Chapter3.html#Chapter3.2.2">vienkāršās ainavas slāņa</a> klašu
diapozonam [<code>300</code>,<code>400</code>);</p></li>
<li><p>pārējās Latvijas teritorijā esošās šūnas aizpildītas ar <code>NA</code>.</p></li>
</ul>
<p>Zemāk esošās komandu rindas izveido failu <code>Malam_Udens_LIZ.tif</code>.</p>
<details class=chunk-details><summary class=chunk-summary><span class=chunk-summary-text>Code</span></summary>
<div class="sourceCode" id="cb87"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb87-1"><a href="Chapter3.html#cb87-1" tabindex="-1"></a><span class="co"># Libs</span></span>
<span id="cb87-2"><a href="Chapter3.html#cb87-2" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(tidyverse)) {<span class="fu">install.packages</span>(<span class="st">&quot;tidyverse&quot;</span>); <span class="fu">require</span>(tidyverse)}</span>
<span id="cb87-3"><a href="Chapter3.html#cb87-3" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(sf)) {<span class="fu">install.packages</span>(<span class="st">&quot;sf&quot;</span>); <span class="fu">require</span>(sf)}</span>
<span id="cb87-4"><a href="Chapter3.html#cb87-4" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(arrow)) {<span class="fu">install.packages</span>(<span class="st">&quot;arrow&quot;</span>); <span class="fu">require</span>(arrow)}</span>
<span id="cb87-5"><a href="Chapter3.html#cb87-5" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(sfarrow)) {<span class="fu">install.packages</span>(<span class="st">&quot;sfarrow&quot;</span>); <span class="fu">require</span>(sfarrow)}</span>
<span id="cb87-6"><a href="Chapter3.html#cb87-6" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(terra)) {<span class="fu">install.packages</span>(<span class="st">&quot;terra&quot;</span>); <span class="fu">require</span>(terra)}</span>
<span id="cb87-7"><a href="Chapter3.html#cb87-7" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(raster)) {<span class="fu">install.packages</span>(<span class="st">&quot;raster&quot;</span>); <span class="fu">require</span>(raster)}</span>
<span id="cb87-8"><a href="Chapter3.html#cb87-8" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(fasterize)) {<span class="fu">install.packages</span>(<span class="st">&quot;fasterize&quot;</span>); <span class="fu">require</span>(fasterize)}</span>
<span id="cb87-9"><a href="Chapter3.html#cb87-9" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(readxl)) {<span class="fu">install.packages</span>(<span class="st">&quot;readxl&quot;</span>); <span class="fu">require</span>(readxl)}</span>
<span id="cb87-10"><a href="Chapter3.html#cb87-10" tabindex="-1"></a></span>
<span id="cb87-11"><a href="Chapter3.html#cb87-11" tabindex="-1"></a><span class="co"># templates</span></span>
<span id="cb87-12"><a href="Chapter3.html#cb87-12" tabindex="-1"></a>template_t<span class="ot">=</span><span class="fu">rast</span>(<span class="st">&quot;./Templates/TemplateRasters/LV10m_10km.tif&quot;</span>)</span>
<span id="cb87-13"><a href="Chapter3.html#cb87-13" tabindex="-1"></a>template_r<span class="ot">=</span><span class="fu">raster</span>(template_t)</span>
<span id="cb87-14"><a href="Chapter3.html#cb87-14" tabindex="-1"></a></span>
<span id="cb87-15"><a href="Chapter3.html#cb87-15" tabindex="-1"></a>nulles<span class="ot">=</span>terra<span class="sc">::</span><span class="fu">subst</span>(template_t,<span class="at">from=</span><span class="dv">1</span>,<span class="at">to=</span><span class="dv">0</span>)</span>
<span id="cb87-16"><a href="Chapter3.html#cb87-16" tabindex="-1"></a></span>
<span id="cb87-17"><a href="Chapter3.html#cb87-17" tabindex="-1"></a><span class="co"># vienkāršā ainava</span></span>
<span id="cb87-18"><a href="Chapter3.html#cb87-18" tabindex="-1"></a>ainava_t<span class="ot">=</span><span class="fu">rast</span>(<span class="st">&quot;./Rastri_10m/Ainava_vienk_mask.tif&quot;</span>)</span>
<span id="cb87-19"><a href="Chapter3.html#cb87-19" tabindex="-1"></a>ainava_r<span class="ot">=</span><span class="fu">raster</span>(ainava_t)</span>
<span id="cb87-20"><a href="Chapter3.html#cb87-20" tabindex="-1"></a></span>
<span id="cb87-21"><a href="Chapter3.html#cb87-21" tabindex="-1"></a><span class="co"># ūdens un LIZ malām</span></span>
<span id="cb87-22"><a href="Chapter3.html#cb87-22" tabindex="-1"></a>udens<span class="ot">=</span><span class="fu">ifel</span>(ainava_t<span class="sc">==</span><span class="dv">200</span>,<span class="dv">2</span>,<span class="cn">NA</span>)</span>
<span id="cb87-23"><a href="Chapter3.html#cb87-23" tabindex="-1"></a>liz<span class="ot">=</span><span class="fu">ifel</span>(ainava_t<span class="sc">&gt;=</span><span class="dv">300</span><span class="sc">&amp;</span>ainava_t<span class="sc">&lt;</span><span class="dv">400</span>,<span class="dv">300</span>,<span class="cn">NA</span>)</span>
<span id="cb87-24"><a href="Chapter3.html#cb87-24" tabindex="-1"></a>abi<span class="ot">=</span><span class="fu">merge</span>(udens,liz,</span>
<span id="cb87-25"><a href="Chapter3.html#cb87-25" tabindex="-1"></a>          <span class="at">filename=</span><span class="st">&quot;./Rastri_10m/Malam_Udens_LIZ.tif&quot;</span>,</span>
<span id="cb87-26"><a href="Chapter3.html#cb87-26" tabindex="-1"></a>          <span class="at">overwrite=</span><span class="cn">TRUE</span>)</span></code></pre></div>
</details>
<p><br></p>
</div>
<div id="Chapter3.2.2.4.10" class="section level5 hasAnchor" number="3.2.2.4.10">
<h5><span class="header-section-number">3.2.2.4.10</span> Ūdens un zālāju malas<a href="Chapter3.html#Chapter3.2.2.4.10" class="anchor-section" aria-label="Anchor link to header"></a></h5>
<p>Rastrs ar šūnas izmēru 10 m un segumu visai Latvijas teritorijai, pārklasificējot
<a href="Chapter3.html#Chapter3.2.2">vienkāršās ainavas slānī</a> reģistrētās vērtības:</p>
<ul>
<li><p>vērtība <code>2</code> piešķirta <a href="Chapter3.html#Chapter3.2.2">vienkāršās ainavas slāņa</a> klasei <code>200</code>;</p></li>
<li><p>vērtība <code>1</code> piešķirta <a href="Chapter3.html#Chapter3.2.2">vienkāršās ainavas slāņa</a> klasei <code>330</code>;</p></li>
<li><p>pārējās Latvijas teritorijā esošās šūnas aizpildītas ar <code>NA</code>.</p></li>
</ul>
<p>Zemāk esošās komandu rindas izveido failu <code>Malam_Udens_Zalaji.tif</code>.</p>
<details class=chunk-details><summary class=chunk-summary><span class=chunk-summary-text>Code</span></summary>
<div class="sourceCode" id="cb88"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb88-1"><a href="Chapter3.html#cb88-1" tabindex="-1"></a><span class="co"># Libs</span></span>
<span id="cb88-2"><a href="Chapter3.html#cb88-2" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(tidyverse)) {<span class="fu">install.packages</span>(<span class="st">&quot;tidyverse&quot;</span>); <span class="fu">require</span>(tidyverse)}</span>
<span id="cb88-3"><a href="Chapter3.html#cb88-3" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(sf)) {<span class="fu">install.packages</span>(<span class="st">&quot;sf&quot;</span>); <span class="fu">require</span>(sf)}</span>
<span id="cb88-4"><a href="Chapter3.html#cb88-4" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(arrow)) {<span class="fu">install.packages</span>(<span class="st">&quot;arrow&quot;</span>); <span class="fu">require</span>(arrow)}</span>
<span id="cb88-5"><a href="Chapter3.html#cb88-5" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(sfarrow)) {<span class="fu">install.packages</span>(<span class="st">&quot;sfarrow&quot;</span>); <span class="fu">require</span>(sfarrow)}</span>
<span id="cb88-6"><a href="Chapter3.html#cb88-6" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(terra)) {<span class="fu">install.packages</span>(<span class="st">&quot;terra&quot;</span>); <span class="fu">require</span>(terra)}</span>
<span id="cb88-7"><a href="Chapter3.html#cb88-7" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(raster)) {<span class="fu">install.packages</span>(<span class="st">&quot;raster&quot;</span>); <span class="fu">require</span>(raster)}</span>
<span id="cb88-8"><a href="Chapter3.html#cb88-8" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(fasterize)) {<span class="fu">install.packages</span>(<span class="st">&quot;fasterize&quot;</span>); <span class="fu">require</span>(fasterize)}</span>
<span id="cb88-9"><a href="Chapter3.html#cb88-9" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(readxl)) {<span class="fu">install.packages</span>(<span class="st">&quot;readxl&quot;</span>); <span class="fu">require</span>(readxl)}</span>
<span id="cb88-10"><a href="Chapter3.html#cb88-10" tabindex="-1"></a></span>
<span id="cb88-11"><a href="Chapter3.html#cb88-11" tabindex="-1"></a><span class="co"># templates</span></span>
<span id="cb88-12"><a href="Chapter3.html#cb88-12" tabindex="-1"></a>template_t<span class="ot">=</span><span class="fu">rast</span>(<span class="st">&quot;./Templates/TemplateRasters/LV10m_10km.tif&quot;</span>)</span>
<span id="cb88-13"><a href="Chapter3.html#cb88-13" tabindex="-1"></a>template_r<span class="ot">=</span><span class="fu">raster</span>(template_t)</span>
<span id="cb88-14"><a href="Chapter3.html#cb88-14" tabindex="-1"></a></span>
<span id="cb88-15"><a href="Chapter3.html#cb88-15" tabindex="-1"></a>nulles<span class="ot">=</span>terra<span class="sc">::</span><span class="fu">subst</span>(template_t,<span class="at">from=</span><span class="dv">1</span>,<span class="at">to=</span><span class="dv">0</span>)</span>
<span id="cb88-16"><a href="Chapter3.html#cb88-16" tabindex="-1"></a></span>
<span id="cb88-17"><a href="Chapter3.html#cb88-17" tabindex="-1"></a><span class="co"># vienkāršā ainava</span></span>
<span id="cb88-18"><a href="Chapter3.html#cb88-18" tabindex="-1"></a>ainava_t<span class="ot">=</span><span class="fu">rast</span>(<span class="st">&quot;./Rastri_10m/Ainava_vienk_mask.tif&quot;</span>)</span>
<span id="cb88-19"><a href="Chapter3.html#cb88-19" tabindex="-1"></a>ainava_r<span class="ot">=</span><span class="fu">raster</span>(ainava_t)</span>
<span id="cb88-20"><a href="Chapter3.html#cb88-20" tabindex="-1"></a></span>
<span id="cb88-21"><a href="Chapter3.html#cb88-21" tabindex="-1"></a><span class="co"># ūdens un zālāju malām</span></span>
<span id="cb88-22"><a href="Chapter3.html#cb88-22" tabindex="-1"></a>udens<span class="ot">=</span><span class="fu">ifel</span>(ainava_t<span class="sc">==</span><span class="dv">200</span>,<span class="dv">2</span>,<span class="cn">NA</span>)</span>
<span id="cb88-23"><a href="Chapter3.html#cb88-23" tabindex="-1"></a>zalaji<span class="ot">=</span><span class="fu">ifel</span>(ainava_t<span class="sc">==</span><span class="dv">330</span>,<span class="dv">1</span>,<span class="cn">NA</span>)</span>
<span id="cb88-24"><a href="Chapter3.html#cb88-24" tabindex="-1"></a>abi<span class="ot">=</span><span class="fu">merge</span>(udens,zalaji,</span>
<span id="cb88-25"><a href="Chapter3.html#cb88-25" tabindex="-1"></a>          <span class="at">filename=</span><span class="st">&quot;./Rastri_10m/Malam_Udens_Zalaji.tif&quot;</span>,</span>
<span id="cb88-26"><a href="Chapter3.html#cb88-26" tabindex="-1"></a>          <span class="at">overwrite=</span><span class="cn">TRUE</span>)</span></code></pre></div>
</details>
<p><br></p>
</div>
<div id="Chapter3.2.2.4.11" class="section level5 hasAnchor" number="3.2.2.4.11">
<h5><span class="header-section-number">3.2.2.4.11</span> Ūdensobjektu malas<a href="Chapter3.html#Chapter3.2.2.4.11" class="anchor-section" aria-label="Anchor link to header"></a></h5>
<p>Rastrs ar šūnas izmēru 10 m un segumu visai Latvijas teritorijai, pārklasificējot
<a href="Chapter3.html#Chapter3.2.2">vienkāršās ainavas slānī</a> reģistrētās vērtības:</p>
<ul>
<li><p>vērtība <code>1</code> piešķirta <a href="Chapter3.html#Chapter3.2.2">vienkāršās ainavas slāņa</a> klasei <code>200</code>;</p></li>
<li><p>pārējās Latvijas teritorijā esošās šūnas aizpildītas ar <code>0</code>.</p></li>
</ul>
<p>Zemāk esošās komandu rindas izveido failu <code>Malam_Udens_Y.tif</code>.</p>
<details class=chunk-details><summary class=chunk-summary><span class=chunk-summary-text>Code</span></summary>
<div class="sourceCode" id="cb89"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb89-1"><a href="Chapter3.html#cb89-1" tabindex="-1"></a><span class="co"># Libs</span></span>
<span id="cb89-2"><a href="Chapter3.html#cb89-2" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(tidyverse)) {<span class="fu">install.packages</span>(<span class="st">&quot;tidyverse&quot;</span>); <span class="fu">require</span>(tidyverse)}</span>
<span id="cb89-3"><a href="Chapter3.html#cb89-3" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(sf)) {<span class="fu">install.packages</span>(<span class="st">&quot;sf&quot;</span>); <span class="fu">require</span>(sf)}</span>
<span id="cb89-4"><a href="Chapter3.html#cb89-4" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(arrow)) {<span class="fu">install.packages</span>(<span class="st">&quot;arrow&quot;</span>); <span class="fu">require</span>(arrow)}</span>
<span id="cb89-5"><a href="Chapter3.html#cb89-5" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(sfarrow)) {<span class="fu">install.packages</span>(<span class="st">&quot;sfarrow&quot;</span>); <span class="fu">require</span>(sfarrow)}</span>
<span id="cb89-6"><a href="Chapter3.html#cb89-6" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(terra)) {<span class="fu">install.packages</span>(<span class="st">&quot;terra&quot;</span>); <span class="fu">require</span>(terra)}</span>
<span id="cb89-7"><a href="Chapter3.html#cb89-7" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(raster)) {<span class="fu">install.packages</span>(<span class="st">&quot;raster&quot;</span>); <span class="fu">require</span>(raster)}</span>
<span id="cb89-8"><a href="Chapter3.html#cb89-8" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(fasterize)) {<span class="fu">install.packages</span>(<span class="st">&quot;fasterize&quot;</span>); <span class="fu">require</span>(fasterize)}</span>
<span id="cb89-9"><a href="Chapter3.html#cb89-9" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(readxl)) {<span class="fu">install.packages</span>(<span class="st">&quot;readxl&quot;</span>); <span class="fu">require</span>(readxl)}</span>
<span id="cb89-10"><a href="Chapter3.html#cb89-10" tabindex="-1"></a></span>
<span id="cb89-11"><a href="Chapter3.html#cb89-11" tabindex="-1"></a><span class="co"># ūdeņu malām</span></span>
<span id="cb89-12"><a href="Chapter3.html#cb89-12" tabindex="-1"></a>udens<span class="ot">=</span><span class="fu">ifel</span>(ainava_t<span class="sc">==</span><span class="dv">200</span>,<span class="dv">1</span>,<span class="dv">0</span>,</span>
<span id="cb89-13"><a href="Chapter3.html#cb89-13" tabindex="-1"></a>           <span class="at">filename=</span><span class="st">&quot;./Rastri_10m/Malam_Udens_Y.tif&quot;</span>,</span>
<span id="cb89-14"><a href="Chapter3.html#cb89-14" tabindex="-1"></a>           <span class="at">overwrite=</span><span class="cn">TRUE</span>)</span></code></pre></div>
</details>
<p><br></p>
</div>
<div id="Chapter3.2.2.4.12" class="section level5 hasAnchor" number="3.2.2.4.12">
<h5><span class="header-section-number">3.2.2.4.12</span> Ceļu garums (malas/2)<a href="Chapter3.html#Chapter3.2.2.4.12" class="anchor-section" aria-label="Anchor link to header"></a></h5>
<p>Rastrs ar šūnas izmēru 10 m un segumu visai Latvijas teritorijai, pārklasificējot
<a href="Chapter3.html#Chapter3.2.2">vienkāršās ainavas slānī</a> reģistrētās vērtības:</p>
<ul>
<li><p>vērtība <code>1</code> piešķirta <a href="Chapter3.html#Chapter3.2.2">vienkāršās ainavas slāņa</a> klasei <code>100</code>;</p></li>
<li><p>pārējās Latvijas teritorijā esošās šūnas aizpildītas ar <code>0</code>.</p></li>
</ul>
<p>Zemāk esošās komandu rindas izveido failu <code>Malam_Celi_Y.tif</code>.</p>
<details class=chunk-details><summary class=chunk-summary><span class=chunk-summary-text>Code</span></summary>
<div class="sourceCode" id="cb90"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb90-1"><a href="Chapter3.html#cb90-1" tabindex="-1"></a><span class="co"># Libs</span></span>
<span id="cb90-2"><a href="Chapter3.html#cb90-2" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(tidyverse)) {<span class="fu">install.packages</span>(<span class="st">&quot;tidyverse&quot;</span>); <span class="fu">require</span>(tidyverse)}</span>
<span id="cb90-3"><a href="Chapter3.html#cb90-3" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(sf)) {<span class="fu">install.packages</span>(<span class="st">&quot;sf&quot;</span>); <span class="fu">require</span>(sf)}</span>
<span id="cb90-4"><a href="Chapter3.html#cb90-4" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(arrow)) {<span class="fu">install.packages</span>(<span class="st">&quot;arrow&quot;</span>); <span class="fu">require</span>(arrow)}</span>
<span id="cb90-5"><a href="Chapter3.html#cb90-5" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(sfarrow)) {<span class="fu">install.packages</span>(<span class="st">&quot;sfarrow&quot;</span>); <span class="fu">require</span>(sfarrow)}</span>
<span id="cb90-6"><a href="Chapter3.html#cb90-6" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(terra)) {<span class="fu">install.packages</span>(<span class="st">&quot;terra&quot;</span>); <span class="fu">require</span>(terra)}</span>
<span id="cb90-7"><a href="Chapter3.html#cb90-7" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(raster)) {<span class="fu">install.packages</span>(<span class="st">&quot;raster&quot;</span>); <span class="fu">require</span>(raster)}</span>
<span id="cb90-8"><a href="Chapter3.html#cb90-8" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(fasterize)) {<span class="fu">install.packages</span>(<span class="st">&quot;fasterize&quot;</span>); <span class="fu">require</span>(fasterize)}</span>
<span id="cb90-9"><a href="Chapter3.html#cb90-9" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(readxl)) {<span class="fu">install.packages</span>(<span class="st">&quot;readxl&quot;</span>); <span class="fu">require</span>(readxl)}</span>
<span id="cb90-10"><a href="Chapter3.html#cb90-10" tabindex="-1"></a></span>
<span id="cb90-11"><a href="Chapter3.html#cb90-11" tabindex="-1"></a><span class="co"># ceļu malām</span></span>
<span id="cb90-12"><a href="Chapter3.html#cb90-12" tabindex="-1"></a>celi<span class="ot">=</span><span class="fu">ifel</span>(ainava_t<span class="sc">==</span><span class="dv">100</span>,<span class="dv">1</span>,<span class="dv">0</span>,</span>
<span id="cb90-13"><a href="Chapter3.html#cb90-13" tabindex="-1"></a>           <span class="at">filename=</span><span class="st">&quot;./Rastri_10m/Malam_Celi_Y.tif&quot;</span>,</span>
<span id="cb90-14"><a href="Chapter3.html#cb90-14" tabindex="-1"></a>           <span class="at">overwrite=</span><span class="cn">TRUE</span>)</span></code></pre></div>
</details>
<p><br></p>
</div>
</div>
<div id="Chapter3.2.3" class="section level4 hasAnchor" number="3.2.2.5">
<h4><span class="header-section-number">3.2.2.5</span> Lauku un mežu daudzveidība - šaurās grupas<a href="Chapter3.html#Chapter3.2.3" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>Šajā apakšnodaļā apkopoti ar virsnodaļā aprakstīto ainavu saistītie ievades produkti - 10 m izšķirtspējā sagatavoti rastra slāņi, kas nepieciešami tālākai EGV sagatavošanai. Lai atvieglotu meklēšanu un atsaukšanos, tie iedalīti vēl zamāka līmeņa apakšnodaļās.</p>
<p>Sekojošajās apakšnodaļās esošajos kodu apgabalos sākuma daļa atkārtojas. Nenoliedzami, tas nomāc svarīgo - slānim specifisko daļu. Tomēr tas ļauj katru no tiem uztvert un izpildīt kā neatkarīgu uzdevumu, ja ir pieejami izmantojamie zemāka līmeņa slāņi, uz kuriem atsauces sniegtas aprakstos.</p>
<div id="Chapter3.2.3.1" class="section level5 hasAnchor" number="3.2.2.5.1">
<h5><span class="header-section-number">3.2.2.5.1</span> Lauku (smalkā) daudzveidība<a href="Chapter3.html#Chapter3.2.3.1" class="anchor-section" aria-label="Anchor link to header"></a></h5>
<p>Rastrs ar šūnas izmēru 10 m un segumu visai Latvijas teritorijai. Tajā ievietotas
sekojošas vērtības, slāņu prioritāte secībā</p>
<ul>
<li><p><a href="Chapter3.html#Chapter3.1.2">lauku Atbalsta Dienesta</a> kultūru kodi;</p></li>
<li><p><a href="Chapter3.html#Chapter3.2.2.1.16">lauku daudzveidībai</a> klašu vērtības reizinātas ar 100;</p></li>
<li><p>vērtība <code>1</code> - pārējās Latvijas teritorijā esošās šūnas.</p></li>
</ul>
<p>Zemāk esošās komandu rindas izveido failu <code>Ainava_LaukuSmalkaDaudzveidiba.tif</code>.</p>
<details class=chunk-details><summary class=chunk-summary><span class=chunk-summary-text>Code</span></summary>
<div class="sourceCode" id="cb91"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb91-1"><a href="Chapter3.html#cb91-1" tabindex="-1"></a><span class="co"># Libs</span></span>
<span id="cb91-2"><a href="Chapter3.html#cb91-2" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(tidyverse)) {<span class="fu">install.packages</span>(<span class="st">&quot;tidyverse&quot;</span>); <span class="fu">require</span>(tidyverse)}</span>
<span id="cb91-3"><a href="Chapter3.html#cb91-3" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(sf)) {<span class="fu">install.packages</span>(<span class="st">&quot;sf&quot;</span>); <span class="fu">require</span>(sf)}</span>
<span id="cb91-4"><a href="Chapter3.html#cb91-4" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(arrow)) {<span class="fu">install.packages</span>(<span class="st">&quot;arrow&quot;</span>); <span class="fu">require</span>(arrow)}</span>
<span id="cb91-5"><a href="Chapter3.html#cb91-5" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(sfarrow)) {<span class="fu">install.packages</span>(<span class="st">&quot;sfarrow&quot;</span>); <span class="fu">require</span>(sfarrow)}</span>
<span id="cb91-6"><a href="Chapter3.html#cb91-6" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(terra)) {<span class="fu">install.packages</span>(<span class="st">&quot;terra&quot;</span>); <span class="fu">require</span>(terra)}</span>
<span id="cb91-7"><a href="Chapter3.html#cb91-7" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(raster)) {<span class="fu">install.packages</span>(<span class="st">&quot;raster&quot;</span>); <span class="fu">require</span>(raster)}</span>
<span id="cb91-8"><a href="Chapter3.html#cb91-8" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(fasterize)) {<span class="fu">install.packages</span>(<span class="st">&quot;fasterize&quot;</span>); <span class="fu">require</span>(fasterize)}</span>
<span id="cb91-9"><a href="Chapter3.html#cb91-9" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(readxl)) {<span class="fu">install.packages</span>(<span class="st">&quot;readxl&quot;</span>); <span class="fu">require</span>(readxl)}</span>
<span id="cb91-10"><a href="Chapter3.html#cb91-10" tabindex="-1"></a></span>
<span id="cb91-11"><a href="Chapter3.html#cb91-11" tabindex="-1"></a><span class="co"># templates</span></span>
<span id="cb91-12"><a href="Chapter3.html#cb91-12" tabindex="-1"></a>template_t<span class="ot">=</span><span class="fu">rast</span>(<span class="st">&quot;./Templates/TemplateRasters/LV10m_10km.tif&quot;</span>)</span>
<span id="cb91-13"><a href="Chapter3.html#cb91-13" tabindex="-1"></a>template_r<span class="ot">=</span><span class="fu">raster</span>(template_t)</span>
<span id="cb91-14"><a href="Chapter3.html#cb91-14" tabindex="-1"></a></span>
<span id="cb91-15"><a href="Chapter3.html#cb91-15" tabindex="-1"></a>nulles<span class="ot">=</span>terra<span class="sc">::</span><span class="fu">subst</span>(template_t,<span class="at">from=</span><span class="dv">1</span>,<span class="at">to=</span><span class="dv">0</span>)</span>
<span id="cb91-16"><a href="Chapter3.html#cb91-16" tabindex="-1"></a></span>
<span id="cb91-17"><a href="Chapter3.html#cb91-17" tabindex="-1"></a><span class="co"># vienkāršā ainava</span></span>
<span id="cb91-18"><a href="Chapter3.html#cb91-18" tabindex="-1"></a>ainava_t<span class="ot">=</span><span class="fu">rast</span>(<span class="st">&quot;./Rastri_10m/Ainava_vienk_mask.tif&quot;</span>)</span>
<span id="cb91-19"><a href="Chapter3.html#cb91-19" tabindex="-1"></a>ainava_r<span class="ot">=</span><span class="fu">raster</span>(ainava_t)</span>
<span id="cb91-20"><a href="Chapter3.html#cb91-20" tabindex="-1"></a></span>
<span id="cb91-21"><a href="Chapter3.html#cb91-21" tabindex="-1"></a><span class="co"># lauki</span></span>
<span id="cb91-22"><a href="Chapter3.html#cb91-22" tabindex="-1"></a>lad_klasem<span class="ot">=</span><span class="fu">read_excel</span>(<span class="st">&quot;./IevadesDati/LAD/KulturuKodi_2024.xlsx&quot;</span>)</span>
<span id="cb91-23"><a href="Chapter3.html#cb91-23" tabindex="-1"></a>lad<span class="ot">=</span><span class="fu">st_read_parquet</span>(<span class="st">&quot;./IevadesDati/LAD/LAD_lauki.parquet&quot;</span>)</span>
<span id="cb91-24"><a href="Chapter3.html#cb91-24" tabindex="-1"></a>lad<span class="sc">$</span>yes<span class="ot">=</span><span class="dv">1</span></span>
<span id="cb91-25"><a href="Chapter3.html#cb91-25" tabindex="-1"></a></span>
<span id="cb91-26"><a href="Chapter3.html#cb91-26" tabindex="-1"></a></span>
<span id="cb91-27"><a href="Chapter3.html#cb91-27" tabindex="-1"></a><span class="co"># </span></span>
<span id="cb91-28"><a href="Chapter3.html#cb91-28" tabindex="-1"></a>lad<span class="sc">$</span>kods<span class="ot">=</span><span class="fu">as.numeric</span>(lad<span class="sc">$</span>PRODUCT_CODE)</span>
<span id="cb91-29"><a href="Chapter3.html#cb91-29" tabindex="-1"></a><span class="fu">summary</span>(lad<span class="sc">$</span>kods)</span>
<span id="cb91-30"><a href="Chapter3.html#cb91-30" tabindex="-1"></a>laukiem<span class="ot">=</span>fasterize<span class="sc">::</span><span class="fu">fasterize</span>(lad,template_r,<span class="at">field=</span><span class="st">&quot;kods&quot;</span>)</span>
<span id="cb91-31"><a href="Chapter3.html#cb91-31" tabindex="-1"></a>laukiem<span class="ot">=</span><span class="fu">rast</span>(laukiem)</span>
<span id="cb91-32"><a href="Chapter3.html#cb91-32" tabindex="-1"></a></span>
<span id="cb91-33"><a href="Chapter3.html#cb91-33" tabindex="-1"></a>lauku_daudzveidiba<span class="ot">=</span><span class="fu">rast</span>(<span class="st">&quot;./Rastri_10m/Ainava_LaukuDaudzveidibai.tif&quot;</span>)</span>
<span id="cb91-34"><a href="Chapter3.html#cb91-34" tabindex="-1"></a>ld2<span class="ot">=</span>lauku_daudzveidiba<span class="sc">*</span><span class="dv">100</span></span>
<span id="cb91-35"><a href="Chapter3.html#cb91-35" tabindex="-1"></a>aizpildits<span class="ot">=</span>terra<span class="sc">::</span><span class="fu">cover</span>(laukiem,ld2)</span>
<span id="cb91-36"><a href="Chapter3.html#cb91-36" tabindex="-1"></a>pecmaskas_rastrs<span class="ot">=</span><span class="fu">mask</span>(aizpildits,template_t,</span>
<span id="cb91-37"><a href="Chapter3.html#cb91-37" tabindex="-1"></a>                      <span class="at">filename=</span><span class="st">&quot;./Rastri_10m/Ainava_LaukuSmalkaDaudzveidiba.tif&quot;</span>,</span>
<span id="cb91-38"><a href="Chapter3.html#cb91-38" tabindex="-1"></a>                      <span class="at">overwrite=</span><span class="cn">TRUE</span>)</span></code></pre></div>
</details>
<p><br></p>
</div>
<div id="Chapter3.2.3.2" class="section level5 hasAnchor" number="3.2.2.5.2">
<h5><span class="header-section-number">3.2.2.5.2</span> Mežu (smalkā) daudzveidība<a href="Chapter3.html#Chapter3.2.3.2" class="anchor-section" aria-label="Anchor link to header"></a></h5>
<p>Rastrs ar šūnas izmēru 10 m un segumu visai Latvijas teritorijai. Tajā ievietotas
sekojošas vērtības, slāņu prioritāte secībā</p>
<ul>
<li><p><a href="Chapter3.html#Chapter3.1.1">Valsts meža dienesta Meža valsts reģistrā</a> izveidots kods, kurā
valdošās koka sugas kodam, reizinātam ar 1000, pieskaitīts vecuma grupas kods. Bet
pirms rasterizēšanas izslēgtas ģeometrijas, kurās nav izveidojies kods, kāda no koda
komponentēm ir 0;</p></li>
<li><p><a href="Chapter3.html#Chapter3.2.2.2.24">mežu daudzveidības</a> klašu vērtības;</p></li>
<li><p>vērtība <code>1</code> - pārējās Latvijas teritorijā esošās šūnas.</p></li>
</ul>
<p>Zemāk esošās komandu rindas izveido failu <code>Ainava_MezuSmalkaDaudzveidiba.tif</code>.</p>
<details class=chunk-details><summary class=chunk-summary><span class=chunk-summary-text>Code</span></summary>
<div class="sourceCode" id="cb92"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb92-1"><a href="Chapter3.html#cb92-1" tabindex="-1"></a><span class="co"># Libs</span></span>
<span id="cb92-2"><a href="Chapter3.html#cb92-2" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(tidyverse)) {<span class="fu">install.packages</span>(<span class="st">&quot;tidyverse&quot;</span>); <span class="fu">require</span>(tidyverse)}</span>
<span id="cb92-3"><a href="Chapter3.html#cb92-3" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(sf)) {<span class="fu">install.packages</span>(<span class="st">&quot;sf&quot;</span>); <span class="fu">require</span>(sf)}</span>
<span id="cb92-4"><a href="Chapter3.html#cb92-4" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(arrow)) {<span class="fu">install.packages</span>(<span class="st">&quot;arrow&quot;</span>); <span class="fu">require</span>(arrow)}</span>
<span id="cb92-5"><a href="Chapter3.html#cb92-5" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(sfarrow)) {<span class="fu">install.packages</span>(<span class="st">&quot;sfarrow&quot;</span>); <span class="fu">require</span>(sfarrow)}</span>
<span id="cb92-6"><a href="Chapter3.html#cb92-6" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(terra)) {<span class="fu">install.packages</span>(<span class="st">&quot;terra&quot;</span>); <span class="fu">require</span>(terra)}</span>
<span id="cb92-7"><a href="Chapter3.html#cb92-7" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(raster)) {<span class="fu">install.packages</span>(<span class="st">&quot;raster&quot;</span>); <span class="fu">require</span>(raster)}</span>
<span id="cb92-8"><a href="Chapter3.html#cb92-8" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(fasterize)) {<span class="fu">install.packages</span>(<span class="st">&quot;fasterize&quot;</span>); <span class="fu">require</span>(fasterize)}</span>
<span id="cb92-9"><a href="Chapter3.html#cb92-9" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(readxl)) {<span class="fu">install.packages</span>(<span class="st">&quot;readxl&quot;</span>); <span class="fu">require</span>(readxl)}</span>
<span id="cb92-10"><a href="Chapter3.html#cb92-10" tabindex="-1"></a></span>
<span id="cb92-11"><a href="Chapter3.html#cb92-11" tabindex="-1"></a><span class="co"># templates</span></span>
<span id="cb92-12"><a href="Chapter3.html#cb92-12" tabindex="-1"></a>template_t<span class="ot">=</span><span class="fu">rast</span>(<span class="st">&quot;./Templates/TemplateRasters/LV10m_10km.tif&quot;</span>)</span>
<span id="cb92-13"><a href="Chapter3.html#cb92-13" tabindex="-1"></a>template_r<span class="ot">=</span><span class="fu">raster</span>(template_t)</span>
<span id="cb92-14"><a href="Chapter3.html#cb92-14" tabindex="-1"></a></span>
<span id="cb92-15"><a href="Chapter3.html#cb92-15" tabindex="-1"></a>nulles<span class="ot">=</span>terra<span class="sc">::</span><span class="fu">subst</span>(template_t,<span class="at">from=</span><span class="dv">1</span>,<span class="at">to=</span><span class="dv">0</span>)</span>
<span id="cb92-16"><a href="Chapter3.html#cb92-16" tabindex="-1"></a></span>
<span id="cb92-17"><a href="Chapter3.html#cb92-17" tabindex="-1"></a></span>
<span id="cb92-18"><a href="Chapter3.html#cb92-18" tabindex="-1"></a><span class="co"># lauki</span></span>
<span id="cb92-19"><a href="Chapter3.html#cb92-19" tabindex="-1"></a>lad_klasem<span class="ot">=</span><span class="fu">read_excel</span>(<span class="st">&quot;./IevadesDati/LAD/KulturuKodi_2024.xlsx&quot;</span>)</span>
<span id="cb92-20"><a href="Chapter3.html#cb92-20" tabindex="-1"></a>lad<span class="ot">=</span><span class="fu">st_read_parquet</span>(<span class="st">&quot;./IevadesDati/LAD/LAD_lauki.parquet&quot;</span>)</span>
<span id="cb92-21"><a href="Chapter3.html#cb92-21" tabindex="-1"></a>lad<span class="sc">$</span>yes<span class="ot">=</span><span class="dv">1</span></span>
<span id="cb92-22"><a href="Chapter3.html#cb92-22" tabindex="-1"></a></span>
<span id="cb92-23"><a href="Chapter3.html#cb92-23" tabindex="-1"></a><span class="co"># meži</span></span>
<span id="cb92-24"><a href="Chapter3.html#cb92-24" tabindex="-1"></a>mvr<span class="ot">=</span><span class="fu">st_read_parquet</span>(<span class="st">&quot;./IevadesDati/MVR/nogabali_2024janv.parquet&quot;</span>)</span>
<span id="cb92-25"><a href="Chapter3.html#cb92-25" tabindex="-1"></a>mvr<span class="sc">$</span>yes<span class="ot">=</span><span class="dv">1</span></span>
<span id="cb92-26"><a href="Chapter3.html#cb92-26" tabindex="-1"></a></span>
<span id="cb92-27"><a href="Chapter3.html#cb92-27" tabindex="-1"></a><span class="co"># </span></span>
<span id="cb92-28"><a href="Chapter3.html#cb92-28" tabindex="-1"></a>mvr<span class="ot">=</span>mvr <span class="sc">%&gt;%</span> </span>
<span id="cb92-29"><a href="Chapter3.html#cb92-29" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">kods1=</span><span class="fu">as.numeric</span>(s10)<span class="sc">*</span><span class="dv">1000</span>,</span>
<span id="cb92-30"><a href="Chapter3.html#cb92-30" tabindex="-1"></a>         <span class="at">kods2=</span><span class="fu">as.numeric</span>(vgr),</span>
<span id="cb92-31"><a href="Chapter3.html#cb92-31" tabindex="-1"></a>         <span class="at">kods=</span>kods1<span class="sc">+</span>kods2) <span class="sc">%&gt;%</span> </span>
<span id="cb92-32"><a href="Chapter3.html#cb92-32" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(kods)) <span class="sc">%&gt;%</span> </span>
<span id="cb92-33"><a href="Chapter3.html#cb92-33" tabindex="-1"></a>  <span class="fu">filter</span>(kods1<span class="sc">&gt;</span><span class="dv">0</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb92-34"><a href="Chapter3.html#cb92-34" tabindex="-1"></a>  <span class="fu">filter</span>(kods2<span class="sc">&gt;</span><span class="dv">0</span>)</span>
<span id="cb92-35"><a href="Chapter3.html#cb92-35" tabindex="-1"></a></span>
<span id="cb92-36"><a href="Chapter3.html#cb92-36" tabindex="-1"></a></span>
<span id="cb92-37"><a href="Chapter3.html#cb92-37" tabindex="-1"></a>meziem<span class="ot">=</span>fasterize<span class="sc">::</span><span class="fu">fasterize</span>(mvr,template_r,<span class="at">field=</span><span class="st">&quot;kods&quot;</span>)</span>
<span id="cb92-38"><a href="Chapter3.html#cb92-38" tabindex="-1"></a>meziem<span class="ot">=</span><span class="fu">rast</span>(meziem)</span>
<span id="cb92-39"><a href="Chapter3.html#cb92-39" tabindex="-1"></a></span>
<span id="cb92-40"><a href="Chapter3.html#cb92-40" tabindex="-1"></a>mezu_daudzveidiba<span class="ot">=</span><span class="fu">rast</span>(<span class="st">&quot;./Rastri_10m/Ainava_MezuDaudzveidibai.tif&quot;</span>)</span>
<span id="cb92-41"><a href="Chapter3.html#cb92-41" tabindex="-1"></a>aizpildits<span class="ot">=</span>terra<span class="sc">::</span><span class="fu">cover</span>(meziem,mezu_daudzveidiba)</span>
<span id="cb92-42"><a href="Chapter3.html#cb92-42" tabindex="-1"></a>pecmaskas_rastrs<span class="ot">=</span><span class="fu">mask</span>(aizpildits,template_t,</span>
<span id="cb92-43"><a href="Chapter3.html#cb92-43" tabindex="-1"></a>                      <span class="at">filename=</span><span class="st">&quot;./Rastri_10m/Ainava_MezuSmalkaDaudzveidiba.tif&quot;</span>,</span>
<span id="cb92-44"><a href="Chapter3.html#cb92-44" tabindex="-1"></a>                      <span class="at">overwrite=</span><span class="cn">TRUE</span>)</span></code></pre></div>
</details>
<p><br></p>
</div>
</div>
</div>
<div id="Chapter3.2.4" class="section level3 hasAnchor" number="3.2.3">
<h3><span class="header-section-number">3.2.3</span> Vides pārmaiņas<a href="Chapter3.html#Chapter3.2.4" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Vides pārmaiņas nepieciešamas novērojumu filtrēšanai. Daļēji tās būtu iegūstamas no <a href="Chapter3.html#Chapter3.1.1">Meža Valsts reģistrs</a> un <a href="Chapter3.html#Chapter3.1.2">LAD lauku informācija</a> datiem, tomēr projekta darba grupā nav pieejami ik gada raksturojumi (1) un šīs datubāzes neaptver visu valsts teritoriju (2), tādēļ nepieciešams neatkarīgs vērtējums. Tāda izstrādāšanai izmantojām <a href="Chapter4.html#Chapter4"><em>Dynamic World</em> izpēte</a> aprīļa līdz augusta ik gadam no 2017. līdz 2023. rezultātus un <a href="Chapter3.html#Chapter3.1.9"><em>Global Forest Watch</em></a> datus, raksturojot pārmaiņu apjomus analīzes šūnā (nodaļa <a href="Chapter2.html#Chapter2.1">100 m režģis Latvijā</a>) un putnu ligzdošanas iecirkņu rādiusu grupu (<a href="Chapter1.html#fig:AinavTelpas">1.1</a> att.) buferos ap analīzes šūnu centriem.</p>
<p>Saskaņā ar <a href="Chapter4.html#Chapter4"><em>Dynamic World</em> izpēte</a> rezultātiem, ir vērts izmantot šo resursu vides kopējo pārmaiņu analīzē kopš 2017. gada. Par kopējām pārmaiņām uzskatīta jebkura izmaiņa Dynamic World klasē, to salīdzinot ik 10 m pikselim aprīļa-augusta sezonā starp katriem diviem secīgiem gadiem. Pārmaiņu apjoms raksturots kā platības īpatsvars 100 m šūnā vai putnu ligzdošanas iecirkņu rādiusu grupu buferos ap šīs šūnas centru. Tā kā pārmaiņas analizētas vienos un tajos pašos rastros, izmantojot dažādus laukumveida objektus, kurus nepieciešams apvienot vienā failā, katras ģeometrijas raksturojums iestrādāts lauku nosaukumos.</p>
<p>Kopumā līdzīga procedūra veikta koku vainagu seguma izzušanas apjoma (īpatsvara no telpas kopumā) raksturošanai. Tomēr šī informācija ir iestrādāta vienā rastra slānī, notikuma gadu norādot kā pikseļa vērtību. Tas ikgadējā samazinājuma apjoma aprēķināšanu apgrūtina, tomēr nepadara par neiespējamu (skatīt komandu rindas zemāk, specifiski - funkciju <code>darbiba</code>). Līdz ar ik gadu zudušā koku vainagu seguma īpatsvara no analīzes telpas platības iegūšanu, tā pievienota analizētajai ģeometrijai kā atsevišķs lauks katram notikuma gadam. Tāpat kā iepriekš - lauku nosaukumi harmonizēti, tajos iestrādājot analīzes telpas raksturojumu, un rezultāti pievienoti 100 m režģa atbilstošajām šūnām.</p>
<p><strong>Šis uzdevums ir visai smagnējs no skaitļošanas viedokļa. Tā veikšanai ir jāieplāno pietiekošs apjoms datorresursu. Iniciāli tas īstenots, izmantojot 68 GiB RAM un daļā uzdevuma, aprēķinus veicot 12 paralēlos procesos, vairākās diennaktīs.</strong></p>
<details class=chunk-details><summary class=chunk-summary><span class=chunk-summary-text>Code</span></summary>
<div class="sourceCode" id="cb93"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb93-1"><a href="Chapter3.html#cb93-1" tabindex="-1"></a><span class="co"># libs</span></span>
<span id="cb93-2"><a href="Chapter3.html#cb93-2" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(terra)) {<span class="fu">install.packages</span>(<span class="st">&quot;terra&quot;</span>); <span class="fu">require</span>(terra)}</span>
<span id="cb93-3"><a href="Chapter3.html#cb93-3" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(sf)) {<span class="fu">install.packages</span>(<span class="st">&quot;sf&quot;</span>); <span class="fu">require</span>(sf)}</span>
<span id="cb93-4"><a href="Chapter3.html#cb93-4" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(tidyverse)) {<span class="fu">install.packages</span>(<span class="st">&quot;tidyverse&quot;</span>); <span class="fu">require</span>(tidyverse)}</span>
<span id="cb93-5"><a href="Chapter3.html#cb93-5" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(arrow)) {<span class="fu">install.packages</span>(<span class="st">&quot;arrow&quot;</span>); <span class="fu">require</span>(arrow)}</span>
<span id="cb93-6"><a href="Chapter3.html#cb93-6" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(sfarrow)) {<span class="fu">install.packages</span>(<span class="st">&quot;sfarrow&quot;</span>); <span class="fu">require</span>(sfarrow)}</span>
<span id="cb93-7"><a href="Chapter3.html#cb93-7" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(exactextractr)){<span class="fu">install.packages</span>(<span class="st">&quot;exactextractr&quot;</span>);<span class="fu">require</span>(exactextractr)}</span>
<span id="cb93-8"><a href="Chapter3.html#cb93-8" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(foreach)) {<span class="fu">install.packages</span>(<span class="st">&quot;foreach&quot;</span>); <span class="fu">require</span>(foreach)}</span>
<span id="cb93-9"><a href="Chapter3.html#cb93-9" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(doParallel)) {<span class="fu">install.packages</span>(<span class="st">&quot;doParallel&quot;</span>); <span class="fu">require</span>(doParallel)}</span>
<span id="cb93-10"><a href="Chapter3.html#cb93-10" tabindex="-1"></a></span>
<span id="cb93-11"><a href="Chapter3.html#cb93-11" tabindex="-1"></a></span>
<span id="cb93-12"><a href="Chapter3.html#cb93-12" tabindex="-1"></a><span class="co"># režģis un buferi</span></span>
<span id="cb93-13"><a href="Chapter3.html#cb93-13" tabindex="-1"></a>lapas_tikls<span class="ot">=</span><span class="fu">data.frame</span>(<span class="at">fails_c=</span><span class="fu">list.files</span>(<span class="st">&quot;./Templates/TemplateGrids/lapas/&quot;</span>))</span>
<span id="cb93-14"><a href="Chapter3.html#cb93-14" tabindex="-1"></a>lapas_tikls<span class="sc">$</span>cels_grid<span class="ot">=</span><span class="fu">paste0</span>(<span class="st">&quot;./Templates/TemplateGrids/lapas/&quot;</span>,lapas_tikls<span class="sc">$</span>fails_c)</span>
<span id="cb93-15"><a href="Chapter3.html#cb93-15" tabindex="-1"></a>lapas_tikls<span class="sc">$</span>lapa<span class="ot">=</span><span class="fu">substr</span>(lapas_tikls<span class="sc">$</span>fails,<span class="dv">10</span>,<span class="dv">13</span>)</span>
<span id="cb93-16"><a href="Chapter3.html#cb93-16" tabindex="-1"></a>lapas_radiusi<span class="ot">=</span><span class="fu">data.frame</span>(<span class="at">fails_r=</span><span class="fu">list.files</span>(<span class="st">&quot;./Templates/TemplateGridPoints/lapas/&quot;</span>))</span>
<span id="cb93-17"><a href="Chapter3.html#cb93-17" tabindex="-1"></a>lapas_radiusi<span class="sc">$</span>cels_radiuss<span class="ot">=</span><span class="fu">paste0</span>(<span class="st">&quot;./Templates/TemplateGridPoints/lapas/&quot;</span>,lapas_radiusi<span class="sc">$</span>fails_r)</span>
<span id="cb93-18"><a href="Chapter3.html#cb93-18" tabindex="-1"></a>lapas_radiusi<span class="ot">=</span><span class="fu">separate</span>(lapas_radiusi,fails_r,</span>
<span id="cb93-19"><a href="Chapter3.html#cb93-19" tabindex="-1"></a>                       <span class="at">into=</span><span class="fu">c</span>(<span class="st">&quot;sakums&quot;</span>,<span class="st">&quot;veids&quot;</span>,<span class="st">&quot;lapa&quot;</span>,<span class="st">&quot;beigas&quot;</span>),<span class="at">remove =</span> <span class="cn">FALSE</span>)</span>
<span id="cb93-20"><a href="Chapter3.html#cb93-20" tabindex="-1"></a></span>
<span id="cb93-21"><a href="Chapter3.html#cb93-21" tabindex="-1"></a>lapas_r500<span class="ot">=</span>lapas_radiusi <span class="sc">%&gt;%</span> </span>
<span id="cb93-22"><a href="Chapter3.html#cb93-22" tabindex="-1"></a>  <span class="fu">filter</span>(veids<span class="sc">==</span><span class="st">&quot;r500&quot;</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb93-23"><a href="Chapter3.html#cb93-23" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">fails_r500=</span>fails_r,</span>
<span id="cb93-24"><a href="Chapter3.html#cb93-24" tabindex="-1"></a>         <span class="at">cels_r500=</span>cels_radiuss) <span class="sc">%&gt;%</span> </span>
<span id="cb93-25"><a href="Chapter3.html#cb93-25" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">select</span>(<span class="sc">-</span>sakums,<span class="sc">-</span>beigas,<span class="sc">-</span>fails_r,<span class="sc">-</span>cels_radiuss,<span class="sc">-</span>veids)</span>
<span id="cb93-26"><a href="Chapter3.html#cb93-26" tabindex="-1"></a></span>
<span id="cb93-27"><a href="Chapter3.html#cb93-27" tabindex="-1"></a>lapas_r1250<span class="ot">=</span>lapas_radiusi <span class="sc">%&gt;%</span> </span>
<span id="cb93-28"><a href="Chapter3.html#cb93-28" tabindex="-1"></a>  <span class="fu">filter</span>(veids<span class="sc">==</span><span class="st">&quot;r1250&quot;</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb93-29"><a href="Chapter3.html#cb93-29" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">fails_r1250=</span>fails_r,</span>
<span id="cb93-30"><a href="Chapter3.html#cb93-30" tabindex="-1"></a>         <span class="at">cels_r1250=</span>cels_radiuss) <span class="sc">%&gt;%</span> </span>
<span id="cb93-31"><a href="Chapter3.html#cb93-31" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">select</span>(<span class="sc">-</span>sakums,<span class="sc">-</span>beigas,<span class="sc">-</span>fails_r,<span class="sc">-</span>cels_radiuss,<span class="sc">-</span>veids)</span>
<span id="cb93-32"><a href="Chapter3.html#cb93-32" tabindex="-1"></a></span>
<span id="cb93-33"><a href="Chapter3.html#cb93-33" tabindex="-1"></a>lapas_r3000<span class="ot">=</span>lapas_radiusi <span class="sc">%&gt;%</span> </span>
<span id="cb93-34"><a href="Chapter3.html#cb93-34" tabindex="-1"></a>  <span class="fu">filter</span>(veids<span class="sc">==</span><span class="st">&quot;r3000&quot;</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb93-35"><a href="Chapter3.html#cb93-35" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">fails_r3000=</span>fails_r,</span>
<span id="cb93-36"><a href="Chapter3.html#cb93-36" tabindex="-1"></a>         <span class="at">cels_r3000=</span>cels_radiuss) <span class="sc">%&gt;%</span> </span>
<span id="cb93-37"><a href="Chapter3.html#cb93-37" tabindex="-1"></a>  <span class="fu">filter</span>(sakums<span class="sc">==</span><span class="st">&quot;pts100&quot;</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb93-38"><a href="Chapter3.html#cb93-38" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">select</span>(<span class="sc">-</span>sakums,<span class="sc">-</span>beigas,<span class="sc">-</span>fails_r,<span class="sc">-</span>cels_radiuss,<span class="sc">-</span>veids)</span>
<span id="cb93-39"><a href="Chapter3.html#cb93-39" tabindex="-1"></a></span>
<span id="cb93-40"><a href="Chapter3.html#cb93-40" tabindex="-1"></a>lapas<span class="ot">=</span>lapas_tikls <span class="sc">%&gt;%</span> </span>
<span id="cb93-41"><a href="Chapter3.html#cb93-41" tabindex="-1"></a>  <span class="fu">left_join</span>(lapas_r500) <span class="sc">%&gt;%</span> </span>
<span id="cb93-42"><a href="Chapter3.html#cb93-42" tabindex="-1"></a>  <span class="fu">left_join</span>(lapas_r1250) <span class="sc">%&gt;%</span> </span>
<span id="cb93-43"><a href="Chapter3.html#cb93-43" tabindex="-1"></a>  <span class="fu">left_join</span>(lapas_r3000)</span>
<span id="cb93-44"><a href="Chapter3.html#cb93-44" tabindex="-1"></a></span>
<span id="cb93-45"><a href="Chapter3.html#cb93-45" tabindex="-1"></a><span class="co"># vides rastri</span></span>
<span id="cb93-46"><a href="Chapter3.html#cb93-46" tabindex="-1"></a>tcl<span class="ot">=</span><span class="fu">rast</span>(<span class="st">&quot;./Rastri_10m/TreeCoverLossYear.tif&quot;</span>)</span>
<span id="cb93-47"><a href="Chapter3.html#cb93-47" tabindex="-1"></a>tcl2<span class="ot">=</span><span class="fu">ifel</span>(tcl<span class="sc">&lt;</span><span class="dv">17</span>,<span class="cn">NA</span>,tcl) <span class="co"># Zudumi tikai kopš 2017. gada</span></span>
<span id="cb93-48"><a href="Chapter3.html#cb93-48" tabindex="-1"></a><span class="fu">writeRaster</span>(tcl2,<span class="st">&quot;./VidesParmainas/KokuVainagiem.tif&quot;</span>)</span>
<span id="cb93-49"><a href="Chapter3.html#cb93-49" tabindex="-1"></a></span>
<span id="cb93-50"><a href="Chapter3.html#cb93-50" tabindex="-1"></a>dw17<span class="ot">=</span><span class="fu">rast</span>(<span class="st">&quot;./IevadesDati/DynamicWorld/DynamicWorld_Eksperimentam/DWE_mosaic/DW_2017_apraug.tif&quot;</span>) </span>
<span id="cb93-51"><a href="Chapter3.html#cb93-51" tabindex="-1"></a>dw18<span class="ot">=</span><span class="fu">rast</span>(<span class="st">&quot;./IevadesDati/DynamicWorld/DynamicWorld_Eksperimentam/DWE_mosaic/DW_2018_apraug.tif&quot;</span>)</span>
<span id="cb93-52"><a href="Chapter3.html#cb93-52" tabindex="-1"></a>dw19<span class="ot">=</span><span class="fu">rast</span>(<span class="st">&quot;./IevadesDati/DynamicWorld/DynamicWorld_Eksperimentam/DWE_mosaic/DW_2019_apraug.tif&quot;</span>)</span>
<span id="cb93-53"><a href="Chapter3.html#cb93-53" tabindex="-1"></a>dw20<span class="ot">=</span><span class="fu">rast</span>(<span class="st">&quot;./IevadesDati/DynamicWorld/DynamicWorld_Eksperimentam/DWE_mosaic/DW_2020_apraug.tif&quot;</span>)</span>
<span id="cb93-54"><a href="Chapter3.html#cb93-54" tabindex="-1"></a>dw21<span class="ot">=</span><span class="fu">rast</span>(<span class="st">&quot;./IevadesDati/DynamicWorld/DynamicWorld_Eksperimentam/DWE_mosaic/DW_2021_apraug.tif&quot;</span>)</span>
<span id="cb93-55"><a href="Chapter3.html#cb93-55" tabindex="-1"></a>dw22<span class="ot">=</span><span class="fu">rast</span>(<span class="st">&quot;./IevadesDati/DynamicWorld/DynamicWorld_Eksperimentam/DWE_mosaic/DW_2022_apraug.tif&quot;</span>)</span>
<span id="cb93-56"><a href="Chapter3.html#cb93-56" tabindex="-1"></a>dw23<span class="ot">=</span><span class="fu">rast</span>(<span class="st">&quot;./IevadesDati/DynamicWorld/DynamicWorld_Eksperimentam/DWE_mosaic/DW_2023_apraug.tif&quot;</span>)</span>
<span id="cb93-57"><a href="Chapter3.html#cb93-57" tabindex="-1"></a></span>
<span id="cb93-58"><a href="Chapter3.html#cb93-58" tabindex="-1"></a>chDWa<span class="ot">=</span><span class="fu">ifel</span>(dw17<span class="sc">==</span>dw18,<span class="dv">0</span>,<span class="dv">1</span>) <span class="co"># Pārmaiņas no 2017. uz 2018. gadu</span></span>
<span id="cb93-59"><a href="Chapter3.html#cb93-59" tabindex="-1"></a><span class="fu">writeRaster</span>(chDWa,<span class="st">&quot;./VidesParmainas/chDWa.tif&quot;</span>)</span>
<span id="cb93-60"><a href="Chapter3.html#cb93-60" tabindex="-1"></a>chDWb<span class="ot">=</span><span class="fu">ifel</span>(dw18<span class="sc">==</span>dw19,<span class="dv">0</span>,<span class="dv">1</span>) <span class="co"># Pārmaiņas no 2018. uz 2019. gadu</span></span>
<span id="cb93-61"><a href="Chapter3.html#cb93-61" tabindex="-1"></a><span class="fu">writeRaster</span>(chDWb,<span class="st">&quot;./VidesParmainas/chDWb.tif&quot;</span>)</span>
<span id="cb93-62"><a href="Chapter3.html#cb93-62" tabindex="-1"></a>chDWc<span class="ot">=</span><span class="fu">ifel</span>(dw19<span class="sc">==</span>dw20,<span class="dv">0</span>,<span class="dv">1</span>) <span class="co"># Pārmaiņas no 2019. uz 2020. gadu</span></span>
<span id="cb93-63"><a href="Chapter3.html#cb93-63" tabindex="-1"></a><span class="fu">writeRaster</span>(chDWc,<span class="st">&quot;./VidesParmainas/chDWc.tif&quot;</span>)</span>
<span id="cb93-64"><a href="Chapter3.html#cb93-64" tabindex="-1"></a>chDWd<span class="ot">=</span><span class="fu">ifel</span>(dw20<span class="sc">==</span>dw21,<span class="dv">0</span>,<span class="dv">1</span>) <span class="co"># Pārmaiņas no 2020. uz 2021. gadu</span></span>
<span id="cb93-65"><a href="Chapter3.html#cb93-65" tabindex="-1"></a><span class="fu">writeRaster</span>(chDWd,<span class="st">&quot;./VidesParmainas/chDWd.tif&quot;</span>)</span>
<span id="cb93-66"><a href="Chapter3.html#cb93-66" tabindex="-1"></a>chDWe<span class="ot">=</span><span class="fu">ifel</span>(dw21<span class="sc">==</span>dw22,<span class="dv">0</span>,<span class="dv">1</span>) <span class="co"># Pārmaiņas no 2021. uz 2022. gadu</span></span>
<span id="cb93-67"><a href="Chapter3.html#cb93-67" tabindex="-1"></a><span class="fu">writeRaster</span>(chDWe,<span class="st">&quot;./VidesParmainas/chDWe.tif&quot;</span>)</span>
<span id="cb93-68"><a href="Chapter3.html#cb93-68" tabindex="-1"></a>chDWf<span class="ot">=</span><span class="fu">ifel</span>(dw22<span class="sc">==</span>dw23,<span class="dv">0</span>,<span class="dv">1</span>) <span class="co"># Pārmaiņas no 2022. uz 2023. gadu</span></span>
<span id="cb93-69"><a href="Chapter3.html#cb93-69" tabindex="-1"></a><span class="fu">writeRaster</span>(chDWf,<span class="st">&quot;./VidesParmainas/chDWf.tif&quot;</span>)</span>
<span id="cb93-70"><a href="Chapter3.html#cb93-70" tabindex="-1"></a><span class="fu">plot</span>(chDWf)</span>
<span id="cb93-71"><a href="Chapter3.html#cb93-71" tabindex="-1"></a></span>
<span id="cb93-72"><a href="Chapter3.html#cb93-72" tabindex="-1"></a><span class="co"># pārmaiņu analīze</span></span>
<span id="cb93-73"><a href="Chapter3.html#cb93-73" tabindex="-1"></a>soli<span class="ot">=</span><span class="fu">levels</span>(<span class="fu">factor</span>(lapas<span class="sc">$</span>lapa))</span>
<span id="cb93-74"><a href="Chapter3.html#cb93-74" tabindex="-1"></a></span>
<span id="cb93-75"><a href="Chapter3.html#cb93-75" tabindex="-1"></a>cl <span class="ot">&lt;-</span> <span class="fu">makeCluster</span>(<span class="dv">12</span>) <span class="co"># jānorāda izmantojamo kodolu (fizisko) skaits</span></span>
<span id="cb93-76"><a href="Chapter3.html#cb93-76" tabindex="-1"></a><span class="fu">registerDoParallel</span>(cl)</span>
<span id="cb93-77"><a href="Chapter3.html#cb93-77" tabindex="-1"></a></span>
<span id="cb93-78"><a href="Chapter3.html#cb93-78" tabindex="-1"></a><span class="fu">foreach</span>(<span class="at">i =</span> <span class="dv">1</span><span class="sc">:</span><span class="fu">length</span>(soli)) <span class="sc">%dopar%</span> {</span>
<span id="cb93-79"><a href="Chapter3.html#cb93-79" tabindex="-1"></a>  <span class="fu">library</span>(terra)</span>
<span id="cb93-80"><a href="Chapter3.html#cb93-80" tabindex="-1"></a>  <span class="fu">library</span>(sf)</span>
<span id="cb93-81"><a href="Chapter3.html#cb93-81" tabindex="-1"></a>  <span class="fu">library</span>(tidyverse)</span>
<span id="cb93-82"><a href="Chapter3.html#cb93-82" tabindex="-1"></a>  <span class="fu">library</span>(arrow)</span>
<span id="cb93-83"><a href="Chapter3.html#cb93-83" tabindex="-1"></a>  <span class="fu">library</span>(sfarrow)</span>
<span id="cb93-84"><a href="Chapter3.html#cb93-84" tabindex="-1"></a>  <span class="fu">library</span>(exactextractr)</span>
<span id="cb93-85"><a href="Chapter3.html#cb93-85" tabindex="-1"></a>  </span>
<span id="cb93-86"><a href="Chapter3.html#cb93-86" tabindex="-1"></a>  <span class="co"># funkcija platībaīpatsvarā kurā noticis koku vainagu seguma zudums</span></span>
<span id="cb93-87"><a href="Chapter3.html#cb93-87" tabindex="-1"></a>  <span class="co"># noteikšanai katrā gadā (2017-2023)</span></span>
<span id="cb93-88"><a href="Chapter3.html#cb93-88" tabindex="-1"></a>  darbiba <span class="ot">&lt;-</span> <span class="cf">function</span>(raster, vector) {</span>
<span id="cb93-89"><a href="Chapter3.html#cb93-89" tabindex="-1"></a>    <span class="fu">exact_extract</span>(raster, vector, <span class="cf">function</span>(value, coverage_fraction) {</span>
<span id="cb93-90"><a href="Chapter3.html#cb93-90" tabindex="-1"></a>      <span class="fu">data.frame</span>(<span class="at">value =</span> value,</span>
<span id="cb93-91"><a href="Chapter3.html#cb93-91" tabindex="-1"></a>                 <span class="at">frac =</span> coverage_fraction<span class="sc">/</span><span class="fu">sum</span>(coverage_fraction,<span class="at">na.rm =</span> <span class="cn">TRUE</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb93-92"><a href="Chapter3.html#cb93-92" tabindex="-1"></a>        <span class="fu">arrange</span>(value) <span class="sc">%&gt;%</span> </span>
<span id="cb93-93"><a href="Chapter3.html#cb93-93" tabindex="-1"></a>        <span class="fu">group_by</span>(value) <span class="sc">%&gt;%</span></span>
<span id="cb93-94"><a href="Chapter3.html#cb93-94" tabindex="-1"></a>        <span class="fu">summarize</span>(<span class="at">freq =</span> <span class="fu">sum</span>(frac, <span class="at">na.rm =</span> <span class="cn">TRUE</span>), <span class="at">.groups =</span> <span class="st">&#39;drop&#39;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb93-95"><a href="Chapter3.html#cb93-95" tabindex="-1"></a>        <span class="fu">pivot_wider</span>(<span class="at">names_from =</span> <span class="st">&#39;value&#39;</span>,</span>
<span id="cb93-96"><a href="Chapter3.html#cb93-96" tabindex="-1"></a>                    <span class="at">names_prefix =</span> <span class="st">&#39;freq_&#39;</span>,</span>
<span id="cb93-97"><a href="Chapter3.html#cb93-97" tabindex="-1"></a>                    <span class="at">values_from =</span> <span class="st">&#39;freq&#39;</span>)</span>
<span id="cb93-98"><a href="Chapter3.html#cb93-98" tabindex="-1"></a>    }) <span class="sc">%&gt;%</span></span>
<span id="cb93-99"><a href="Chapter3.html#cb93-99" tabindex="-1"></a>      <span class="fu">mutate</span>(<span class="fu">across</span>(<span class="fu">starts_with</span>(<span class="st">&#39;freq&#39;</span>), <span class="sc">~</span><span class="fu">replace_na</span>(., <span class="dv">0</span>)))</span>
<span id="cb93-100"><a href="Chapter3.html#cb93-100" tabindex="-1"></a>  }</span>
<span id="cb93-101"><a href="Chapter3.html#cb93-101" tabindex="-1"></a>  </span>
<span id="cb93-102"><a href="Chapter3.html#cb93-102" tabindex="-1"></a>  <span class="co"># darba lapas</span></span>
<span id="cb93-103"><a href="Chapter3.html#cb93-103" tabindex="-1"></a>  solis<span class="ot">=</span>soli[i]</span>
<span id="cb93-104"><a href="Chapter3.html#cb93-104" tabindex="-1"></a>  celi<span class="ot">=</span>lapas <span class="sc">%&gt;%</span> <span class="fu">filter</span>(lapa<span class="sc">==</span>solis)</span>
<span id="cb93-105"><a href="Chapter3.html#cb93-105" tabindex="-1"></a>  </span>
<span id="cb93-106"><a href="Chapter3.html#cb93-106" tabindex="-1"></a>  <span class="co"># poligonu ielasīšana</span></span>
<span id="cb93-107"><a href="Chapter3.html#cb93-107" tabindex="-1"></a>  sunas<span class="ot">=</span><span class="fu">st_read_parquet</span>(celi<span class="sc">$</span>cels_grid)</span>
<span id="cb93-108"><a href="Chapter3.html#cb93-108" tabindex="-1"></a>  sunas<span class="ot">=</span>sunas <span class="sc">%&gt;%</span> dplyr<span class="sc">::</span><span class="fu">select</span>(id,yes,tks50km,X,Y)</span>
<span id="cb93-109"><a href="Chapter3.html#cb93-109" tabindex="-1"></a>  r500<span class="ot">=</span><span class="fu">st_read_parquet</span>(celi<span class="sc">$</span>cels_r500)</span>
<span id="cb93-110"><a href="Chapter3.html#cb93-110" tabindex="-1"></a>  r500<span class="ot">=</span>r500 <span class="sc">%&gt;%</span> dplyr<span class="sc">::</span><span class="fu">select</span>(id,yes,tks50km,X,Y)</span>
<span id="cb93-111"><a href="Chapter3.html#cb93-111" tabindex="-1"></a>  r1250<span class="ot">=</span><span class="fu">st_read_parquet</span>(celi<span class="sc">$</span>cels_r1250)</span>
<span id="cb93-112"><a href="Chapter3.html#cb93-112" tabindex="-1"></a>  r1250<span class="ot">=</span>r1250 <span class="sc">%&gt;%</span> dplyr<span class="sc">::</span><span class="fu">select</span>(id,yes,tks50km,X,Y)</span>
<span id="cb93-113"><a href="Chapter3.html#cb93-113" tabindex="-1"></a>  r3000<span class="ot">=</span><span class="fu">st_read_parquet</span>(celi<span class="sc">$</span>cels_r3000)</span>
<span id="cb93-114"><a href="Chapter3.html#cb93-114" tabindex="-1"></a>  r3000<span class="ot">=</span>r3000 <span class="sc">%&gt;%</span> dplyr<span class="sc">::</span><span class="fu">select</span>(id,yes,tks50km,X,Y)</span>
<span id="cb93-115"><a href="Chapter3.html#cb93-115" tabindex="-1"></a>  </span>
<span id="cb93-116"><a href="Chapter3.html#cb93-116" tabindex="-1"></a>  <span class="co"># konkrētās darba lapas robežas</span></span>
<span id="cb93-117"><a href="Chapter3.html#cb93-117" tabindex="-1"></a>  telpa<span class="ot">=</span><span class="fu">st_as_sfc</span>(<span class="fu">st_bbox</span>(r3000))</span>
<span id="cb93-118"><a href="Chapter3.html#cb93-118" tabindex="-1"></a>  telpa2<span class="ot">=</span><span class="fu">st_buffer</span>(telpa,<span class="at">dist=</span><span class="dv">1000</span>)</span>
<span id="cb93-119"><a href="Chapter3.html#cb93-119" tabindex="-1"></a>  </span>
<span id="cb93-120"><a href="Chapter3.html#cb93-120" tabindex="-1"></a>  <span class="co"># koku vainagu seguma pārmaiņas</span></span>
<span id="cb93-121"><a href="Chapter3.html#cb93-121" tabindex="-1"></a>  tcl2<span class="ot">=</span><span class="fu">rast</span>(<span class="st">&quot;./VidesParmainas/KokuVainagiem.tif&quot;</span>)</span>
<span id="cb93-122"><a href="Chapter3.html#cb93-122" tabindex="-1"></a>  tcl_telpa<span class="ot">=</span><span class="fu">crop</span>(tcl2,telpa2)</span>
<span id="cb93-123"><a href="Chapter3.html#cb93-123" tabindex="-1"></a>  </span>
<span id="cb93-124"><a href="Chapter3.html#cb93-124" tabindex="-1"></a>  loss_cell<span class="ot">=</span><span class="fu">darbiba</span>(tcl_telpa, sunas)</span>
<span id="cb93-125"><a href="Chapter3.html#cb93-125" tabindex="-1"></a>  sunas<span class="ot">=</span><span class="fu">cbind</span>(sunas,loss_cell)</span>
<span id="cb93-126"><a href="Chapter3.html#cb93-126" tabindex="-1"></a>  loss_r500<span class="ot">=</span><span class="fu">darbiba</span>(tcl_telpa, r500)</span>
<span id="cb93-127"><a href="Chapter3.html#cb93-127" tabindex="-1"></a>  r500<span class="ot">=</span><span class="fu">cbind</span>(r500,loss_r500)</span>
<span id="cb93-128"><a href="Chapter3.html#cb93-128" tabindex="-1"></a>  loss_r1250<span class="ot">=</span><span class="fu">darbiba</span>(tcl_telpa, r1250)</span>
<span id="cb93-129"><a href="Chapter3.html#cb93-129" tabindex="-1"></a>  r1250<span class="ot">=</span><span class="fu">cbind</span>(r1250,loss_r1250)</span>
<span id="cb93-130"><a href="Chapter3.html#cb93-130" tabindex="-1"></a>  loss_r3000<span class="ot">=</span><span class="fu">darbiba</span>(tcl_telpa, r3000)</span>
<span id="cb93-131"><a href="Chapter3.html#cb93-131" tabindex="-1"></a>  r3000<span class="ot">=</span><span class="fu">cbind</span>(r3000,loss_r3000)</span>
<span id="cb93-132"><a href="Chapter3.html#cb93-132" tabindex="-1"></a>  </span>
<span id="cb93-133"><a href="Chapter3.html#cb93-133" tabindex="-1"></a>  <span class="co"># Vides pārmaiņas Dynamic World datos</span></span>
<span id="cb93-134"><a href="Chapter3.html#cb93-134" tabindex="-1"></a>  chDWa<span class="ot">=</span><span class="fu">rast</span>(<span class="st">&quot;./VidesParmainas/chDWa.tif&quot;</span>)</span>
<span id="cb93-135"><a href="Chapter3.html#cb93-135" tabindex="-1"></a>  chDWb<span class="ot">=</span><span class="fu">rast</span>(<span class="st">&quot;./VidesParmainas/chDWb.tif&quot;</span>)</span>
<span id="cb93-136"><a href="Chapter3.html#cb93-136" tabindex="-1"></a>  chDWc<span class="ot">=</span><span class="fu">rast</span>(<span class="st">&quot;./VidesParmainas/chDWc.tif&quot;</span>)</span>
<span id="cb93-137"><a href="Chapter3.html#cb93-137" tabindex="-1"></a>  chDWd<span class="ot">=</span><span class="fu">rast</span>(<span class="st">&quot;./VidesParmainas/chDWd.tif&quot;</span>)</span>
<span id="cb93-138"><a href="Chapter3.html#cb93-138" tabindex="-1"></a>  chDWe<span class="ot">=</span><span class="fu">rast</span>(<span class="st">&quot;./VidesParmainas/chDWe.tif&quot;</span>)</span>
<span id="cb93-139"><a href="Chapter3.html#cb93-139" tabindex="-1"></a>  chDWf<span class="ot">=</span><span class="fu">rast</span>(<span class="st">&quot;./VidesParmainas/chDWf.tif&quot;</span>)</span>
<span id="cb93-140"><a href="Chapter3.html#cb93-140" tabindex="-1"></a>  </span>
<span id="cb93-141"><a href="Chapter3.html#cb93-141" tabindex="-1"></a>  <span class="fu">names</span>(chDWa)<span class="ot">=</span><span class="st">&quot;DWchange_1718&quot;</span></span>
<span id="cb93-142"><a href="Chapter3.html#cb93-142" tabindex="-1"></a>  <span class="fu">names</span>(chDWb)<span class="ot">=</span><span class="st">&quot;DWchange_1819&quot;</span></span>
<span id="cb93-143"><a href="Chapter3.html#cb93-143" tabindex="-1"></a>  <span class="fu">names</span>(chDWc)<span class="ot">=</span><span class="st">&quot;DWchange_1920&quot;</span></span>
<span id="cb93-144"><a href="Chapter3.html#cb93-144" tabindex="-1"></a>  <span class="fu">names</span>(chDWd)<span class="ot">=</span><span class="st">&quot;DWchange_2021&quot;</span></span>
<span id="cb93-145"><a href="Chapter3.html#cb93-145" tabindex="-1"></a>  <span class="fu">names</span>(chDWe)<span class="ot">=</span><span class="st">&quot;DWchange_2122&quot;</span></span>
<span id="cb93-146"><a href="Chapter3.html#cb93-146" tabindex="-1"></a>  <span class="fu">names</span>(chDWf)<span class="ot">=</span><span class="st">&quot;DWchange_2223&quot;</span></span>
<span id="cb93-147"><a href="Chapter3.html#cb93-147" tabindex="-1"></a>  </span>
<span id="cb93-148"><a href="Chapter3.html#cb93-148" tabindex="-1"></a>  mazs_chDWa<span class="ot">=</span><span class="fu">crop</span>(chDWa,telpa2)</span>
<span id="cb93-149"><a href="Chapter3.html#cb93-149" tabindex="-1"></a>  mazs_chDWb<span class="ot">=</span><span class="fu">crop</span>(chDWb,telpa2)</span>
<span id="cb93-150"><a href="Chapter3.html#cb93-150" tabindex="-1"></a>  mazs_chDWc<span class="ot">=</span><span class="fu">crop</span>(chDWc,telpa2)</span>
<span id="cb93-151"><a href="Chapter3.html#cb93-151" tabindex="-1"></a>  mazs_chDWd<span class="ot">=</span><span class="fu">crop</span>(chDWd,telpa2)</span>
<span id="cb93-152"><a href="Chapter3.html#cb93-152" tabindex="-1"></a>  mazs_chDWe<span class="ot">=</span><span class="fu">crop</span>(chDWe,telpa2)</span>
<span id="cb93-153"><a href="Chapter3.html#cb93-153" tabindex="-1"></a>  mazs_chDWf<span class="ot">=</span><span class="fu">crop</span>(chDWf,telpa2)</span>
<span id="cb93-154"><a href="Chapter3.html#cb93-154" tabindex="-1"></a>  </span>
<span id="cb93-155"><a href="Chapter3.html#cb93-155" tabindex="-1"></a>  mazas_DW<span class="ot">=</span>raster<span class="sc">::</span><span class="fu">stack</span>(<span class="fu">c</span>(mazs_chDWa,mazs_chDWb,mazs_chDWc,</span>
<span id="cb93-156"><a href="Chapter3.html#cb93-156" tabindex="-1"></a>                           mazs_chDWd,mazs_chDWe,mazs_chDWf))</span>
<span id="cb93-157"><a href="Chapter3.html#cb93-157" tabindex="-1"></a>  </span>
<span id="cb93-158"><a href="Chapter3.html#cb93-158" tabindex="-1"></a>  sunam<span class="ot">=</span><span class="fu">exact_extract</span>(mazas_DW,sunas,<span class="st">&quot;mean&quot;</span>)</span>
<span id="cb93-159"><a href="Chapter3.html#cb93-159" tabindex="-1"></a>  r500am<span class="ot">=</span><span class="fu">exact_extract</span>(mazas_DW,r500,<span class="st">&quot;mean&quot;</span>)</span>
<span id="cb93-160"><a href="Chapter3.html#cb93-160" tabindex="-1"></a>  r1250am<span class="ot">=</span><span class="fu">exact_extract</span>(mazas_DW,r1250,<span class="st">&quot;mean&quot;</span>)</span>
<span id="cb93-161"><a href="Chapter3.html#cb93-161" tabindex="-1"></a>  r3000am<span class="ot">=</span><span class="fu">exact_extract</span>(mazas_DW,r3000,<span class="st">&quot;mean&quot;</span>)</span>
<span id="cb93-162"><a href="Chapter3.html#cb93-162" tabindex="-1"></a>  </span>
<span id="cb93-163"><a href="Chapter3.html#cb93-163" tabindex="-1"></a>  <span class="co"># iegūto rezultātu apvienošana</span></span>
<span id="cb93-164"><a href="Chapter3.html#cb93-164" tabindex="-1"></a>  sunas<span class="ot">=</span><span class="fu">cbind</span>(sunas,sunam)</span>
<span id="cb93-165"><a href="Chapter3.html#cb93-165" tabindex="-1"></a>  r500<span class="ot">=</span><span class="fu">cbind</span>(r500,r500am)</span>
<span id="cb93-166"><a href="Chapter3.html#cb93-166" tabindex="-1"></a>  r1250<span class="ot">=</span><span class="fu">cbind</span>(r1250,r1250am)</span>
<span id="cb93-167"><a href="Chapter3.html#cb93-167" tabindex="-1"></a>  r3000<span class="ot">=</span><span class="fu">cbind</span>(r3000,r3000am)</span>
<span id="cb93-168"><a href="Chapter3.html#cb93-168" tabindex="-1"></a>  </span>
<span id="cb93-169"><a href="Chapter3.html#cb93-169" tabindex="-1"></a>  <span class="co"># rezultējošo failu saglabāšana</span></span>
<span id="cb93-170"><a href="Chapter3.html#cb93-170" tabindex="-1"></a>  <span class="fu">st_write_parquet</span>(sunas,celi<span class="sc">$</span>cels_grid)</span>
<span id="cb93-171"><a href="Chapter3.html#cb93-171" tabindex="-1"></a>  <span class="fu">st_write_parquet</span>(r500,celi<span class="sc">$</span>cels_r500)</span>
<span id="cb93-172"><a href="Chapter3.html#cb93-172" tabindex="-1"></a>  <span class="fu">st_write_parquet</span>(r1250,celi<span class="sc">$</span>cels_r1250)</span>
<span id="cb93-173"><a href="Chapter3.html#cb93-173" tabindex="-1"></a>  <span class="fu">st_write_parquet</span>(r3000,celi<span class="sc">$</span>cels_r3000)</span>
<span id="cb93-174"><a href="Chapter3.html#cb93-174" tabindex="-1"></a>}</span>
<span id="cb93-175"><a href="Chapter3.html#cb93-175" tabindex="-1"></a><span class="fu">stopCluster</span>(cl)</span>
<span id="cb93-176"><a href="Chapter3.html#cb93-176" tabindex="-1"></a></span>
<span id="cb93-177"><a href="Chapter3.html#cb93-177" tabindex="-1"></a><span class="co"># darba lapu apvienošana</span></span>
<span id="cb93-178"><a href="Chapter3.html#cb93-178" tabindex="-1"></a>pirmas_sunas<span class="ot">=</span>sfarrow<span class="sc">::</span><span class="fu">st_read_parquet</span>(lapas<span class="sc">$</span>cels_grid[lapas<span class="sc">$</span>lapa<span class="sc">==</span>soli[<span class="dv">1</span>]])</span>
<span id="cb93-179"><a href="Chapter3.html#cb93-179" tabindex="-1"></a>pirmas_r500<span class="ot">=</span>sfarrow<span class="sc">::</span><span class="fu">st_read_parquet</span>(lapas<span class="sc">$</span>cels_r500[lapas<span class="sc">$</span>lapa<span class="sc">==</span>soli[<span class="dv">1</span>]])</span>
<span id="cb93-180"><a href="Chapter3.html#cb93-180" tabindex="-1"></a>pirmas_r1250<span class="ot">=</span>sfarrow<span class="sc">::</span><span class="fu">st_read_parquet</span>(lapas<span class="sc">$</span>cels_r1250[lapas<span class="sc">$</span>lapa<span class="sc">==</span>soli[<span class="dv">1</span>]])</span>
<span id="cb93-181"><a href="Chapter3.html#cb93-181" tabindex="-1"></a>pirmas_r3000<span class="ot">=</span>sfarrow<span class="sc">::</span><span class="fu">st_read_parquet</span>(lapas<span class="sc">$</span>cels_r3000[lapas<span class="sc">$</span>lapa<span class="sc">==</span>soli[<span class="dv">1</span>]])</span>
<span id="cb93-182"><a href="Chapter3.html#cb93-182" tabindex="-1"></a></span>
<span id="cb93-183"><a href="Chapter3.html#cb93-183" tabindex="-1"></a>dati_c<span class="ot">=</span>pirmas_sunas</span>
<span id="cb93-184"><a href="Chapter3.html#cb93-184" tabindex="-1"></a>dati_r500<span class="ot">=</span>pirmas_r500</span>
<span id="cb93-185"><a href="Chapter3.html#cb93-185" tabindex="-1"></a>dati_r1250<span class="ot">=</span>pirmas_r1250</span>
<span id="cb93-186"><a href="Chapter3.html#cb93-186" tabindex="-1"></a>dati_r3000<span class="ot">=</span>pirmas_r3000</span>
<span id="cb93-187"><a href="Chapter3.html#cb93-187" tabindex="-1"></a></span>
<span id="cb93-188"><a href="Chapter3.html#cb93-188" tabindex="-1"></a><span class="cf">for</span>(i <span class="cf">in</span> <span class="dv">2</span><span class="sc">:</span><span class="fu">length</span>(soli)){</span>
<span id="cb93-189"><a href="Chapter3.html#cb93-189" tabindex="-1"></a>  solis<span class="ot">=</span>soli[i]</span>
<span id="cb93-190"><a href="Chapter3.html#cb93-190" tabindex="-1"></a>  nakosas_sunas<span class="ot">=</span>sfarrow<span class="sc">::</span><span class="fu">st_read_parquet</span>(lapas<span class="sc">$</span>cels_grid[lapas<span class="sc">$</span>lapa<span class="sc">==</span>solis])</span>
<span id="cb93-191"><a href="Chapter3.html#cb93-191" tabindex="-1"></a>  nakosas_r500<span class="ot">=</span>sfarrow<span class="sc">::</span><span class="fu">st_read_parquet</span>(lapas<span class="sc">$</span>cels_r500[lapas<span class="sc">$</span>lapa<span class="sc">==</span>solis])</span>
<span id="cb93-192"><a href="Chapter3.html#cb93-192" tabindex="-1"></a>  nakosas_r1250<span class="ot">=</span>sfarrow<span class="sc">::</span><span class="fu">st_read_parquet</span>(lapas<span class="sc">$</span>cels_r1250[lapas<span class="sc">$</span>lapa<span class="sc">==</span>solis])</span>
<span id="cb93-193"><a href="Chapter3.html#cb93-193" tabindex="-1"></a>  nakosas_r3000<span class="ot">=</span>sfarrow<span class="sc">::</span><span class="fu">st_read_parquet</span>(lapas<span class="sc">$</span>cels_r3000[lapas<span class="sc">$</span>lapa<span class="sc">==</span>solis])</span>
<span id="cb93-194"><a href="Chapter3.html#cb93-194" tabindex="-1"></a>  </span>
<span id="cb93-195"><a href="Chapter3.html#cb93-195" tabindex="-1"></a>  dati_c<span class="ot">=</span><span class="fu">bind_rows</span>(dati_c,nakosas_sunas)</span>
<span id="cb93-196"><a href="Chapter3.html#cb93-196" tabindex="-1"></a>  dati_r500<span class="ot">=</span><span class="fu">bind_rows</span>(dati_r500,nakosas_sunas)</span>
<span id="cb93-197"><a href="Chapter3.html#cb93-197" tabindex="-1"></a>  dati_r1250<span class="ot">=</span><span class="fu">bind_rows</span>(dati_r1250,nakosas_sunas)</span>
<span id="cb93-198"><a href="Chapter3.html#cb93-198" tabindex="-1"></a>  dati_r3000<span class="ot">=</span><span class="fu">bind_rows</span>(dati_r3000,nakosas_sunas)</span>
<span id="cb93-199"><a href="Chapter3.html#cb93-199" tabindex="-1"></a>}</span>
<span id="cb93-200"><a href="Chapter3.html#cb93-200" tabindex="-1"></a></span>
<span id="cb93-201"><a href="Chapter3.html#cb93-201" tabindex="-1"></a><span class="co"># apvienoto lapu saglabāšana</span></span>
<span id="cb93-202"><a href="Chapter3.html#cb93-202" tabindex="-1"></a><span class="fu">st_write_parquet</span>(dati_c,<span class="st">&quot;./VidesParmainas/VidesParmainas_suna.parquet&quot;</span>)</span>
<span id="cb93-203"><a href="Chapter3.html#cb93-203" tabindex="-1"></a><span class="fu">st_write_parquet</span>(dati_r500,<span class="st">&quot;./VidesParmainas/VidesParmainas_r500.parquet&quot;</span>)</span>
<span id="cb93-204"><a href="Chapter3.html#cb93-204" tabindex="-1"></a><span class="fu">st_write_parquet</span>(dati_r1250,<span class="st">&quot;./VidesParmainas/VidesParmainas_r1250.parquet&quot;</span>)</span>
<span id="cb93-205"><a href="Chapter3.html#cb93-205" tabindex="-1"></a><span class="fu">st_write_parquet</span>(dati_r3000,<span class="st">&quot;./VidesParmainas/VidesParmainas_r3000.parquet&quot;</span>)</span>
<span id="cb93-206"><a href="Chapter3.html#cb93-206" tabindex="-1"></a></span>
<span id="cb93-207"><a href="Chapter3.html#cb93-207" tabindex="-1"></a><span class="co"># lauku nosaukumu harmonizēšana</span></span>
<span id="cb93-208"><a href="Chapter3.html#cb93-208" tabindex="-1"></a>dati_c2<span class="ot">=</span>dati_c <span class="sc">%&gt;%</span> </span>
<span id="cb93-209"><a href="Chapter3.html#cb93-209" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">cell_TCLNaN=</span>freq_NaN,</span>
<span id="cb93-210"><a href="Chapter3.html#cb93-210" tabindex="-1"></a>         <span class="at">cell_TCL17=</span>freq_17,</span>
<span id="cb93-211"><a href="Chapter3.html#cb93-211" tabindex="-1"></a>         <span class="at">cell_TCL18=</span>freq_18,</span>
<span id="cb93-212"><a href="Chapter3.html#cb93-212" tabindex="-1"></a>         <span class="at">cell_TCL19=</span>freq_19,</span>
<span id="cb93-213"><a href="Chapter3.html#cb93-213" tabindex="-1"></a>         <span class="at">cell_TCL20=</span>freq_20,</span>
<span id="cb93-214"><a href="Chapter3.html#cb93-214" tabindex="-1"></a>         <span class="at">cell_TCL21=</span>freq_21,</span>
<span id="cb93-215"><a href="Chapter3.html#cb93-215" tabindex="-1"></a>         <span class="at">cell_TCL22=</span>freq_22,</span>
<span id="cb93-216"><a href="Chapter3.html#cb93-216" tabindex="-1"></a>         <span class="at">cell_TCL23=</span>freq_23,</span>
<span id="cb93-217"><a href="Chapter3.html#cb93-217" tabindex="-1"></a>         <span class="at">cell_DWchange1718=</span>mean.DWchange_1718,</span>
<span id="cb93-218"><a href="Chapter3.html#cb93-218" tabindex="-1"></a>         <span class="at">cell_DWchange1819=</span>mean.DWchange_1819,</span>
<span id="cb93-219"><a href="Chapter3.html#cb93-219" tabindex="-1"></a>         <span class="at">cell_DWchange1920=</span>mean.DWchange_1920,</span>
<span id="cb93-220"><a href="Chapter3.html#cb93-220" tabindex="-1"></a>         <span class="at">cell_DWchange2021=</span>mean.DWchange_2021,</span>
<span id="cb93-221"><a href="Chapter3.html#cb93-221" tabindex="-1"></a>         <span class="at">cell_DWchange2122=</span>mean.DWchange_2122,</span>
<span id="cb93-222"><a href="Chapter3.html#cb93-222" tabindex="-1"></a>         <span class="at">cell_DWchange2223=</span>mean.DWchange_2223) <span class="sc">%&gt;%</span> </span>
<span id="cb93-223"><a href="Chapter3.html#cb93-223" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">select</span>(id,yes,tks50km,X,Y,</span>
<span id="cb93-224"><a href="Chapter3.html#cb93-224" tabindex="-1"></a>                cell_TCLNaN,cell_TCL17,cell_TCL18,cell_TCL19,cell_TCL20,</span>
<span id="cb93-225"><a href="Chapter3.html#cb93-225" tabindex="-1"></a>                cell_TCL21,cell_TCL22,cell_TCL23,</span>
<span id="cb93-226"><a href="Chapter3.html#cb93-226" tabindex="-1"></a>                cell_DWchange1718,cell_DWchange1819,cell_DWchange1920,</span>
<span id="cb93-227"><a href="Chapter3.html#cb93-227" tabindex="-1"></a>                cell_DWchange2021,cell_DWchange2122,cell_DWchange2223)</span>
<span id="cb93-228"><a href="Chapter3.html#cb93-228" tabindex="-1"></a></span>
<span id="cb93-229"><a href="Chapter3.html#cb93-229" tabindex="-1"></a>dati_r500a<span class="ot">=</span><span class="fu">data.frame</span>(dati_r500) <span class="sc">%&gt;%</span> </span>
<span id="cb93-230"><a href="Chapter3.html#cb93-230" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">r500_TCLNaN=</span>freq_NaN,</span>
<span id="cb93-231"><a href="Chapter3.html#cb93-231" tabindex="-1"></a>         <span class="at">r500_TCL17=</span>freq_17,</span>
<span id="cb93-232"><a href="Chapter3.html#cb93-232" tabindex="-1"></a>         <span class="at">r500_TCL18=</span>freq_18,</span>
<span id="cb93-233"><a href="Chapter3.html#cb93-233" tabindex="-1"></a>         <span class="at">r500_TCL19=</span>freq_19,</span>
<span id="cb93-234"><a href="Chapter3.html#cb93-234" tabindex="-1"></a>         <span class="at">r500_TCL20=</span>freq_20,</span>
<span id="cb93-235"><a href="Chapter3.html#cb93-235" tabindex="-1"></a>         <span class="at">r500_TCL21=</span>freq_21,</span>
<span id="cb93-236"><a href="Chapter3.html#cb93-236" tabindex="-1"></a>         <span class="at">r500_TCL22=</span>freq_22,</span>
<span id="cb93-237"><a href="Chapter3.html#cb93-237" tabindex="-1"></a>         <span class="at">r500_TCL23=</span>freq_23,</span>
<span id="cb93-238"><a href="Chapter3.html#cb93-238" tabindex="-1"></a>         <span class="at">r500_DWchange1718=</span>mean.DWchange_1718,</span>
<span id="cb93-239"><a href="Chapter3.html#cb93-239" tabindex="-1"></a>         <span class="at">r500_DWchange1819=</span>mean.DWchange_1819,</span>
<span id="cb93-240"><a href="Chapter3.html#cb93-240" tabindex="-1"></a>         <span class="at">r500_DWchange1920=</span>mean.DWchange_1920,</span>
<span id="cb93-241"><a href="Chapter3.html#cb93-241" tabindex="-1"></a>         <span class="at">r500_DWchange2021=</span>mean.DWchange_2021,</span>
<span id="cb93-242"><a href="Chapter3.html#cb93-242" tabindex="-1"></a>         <span class="at">r500_DWchange2122=</span>mean.DWchange_2122,</span>
<span id="cb93-243"><a href="Chapter3.html#cb93-243" tabindex="-1"></a>         <span class="at">r500_DWchange2223=</span>mean.DWchange_2223) <span class="sc">%&gt;%</span> </span>
<span id="cb93-244"><a href="Chapter3.html#cb93-244" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">select</span>(id,</span>
<span id="cb93-245"><a href="Chapter3.html#cb93-245" tabindex="-1"></a>                r500_TCLNaN,r500_TCL17,r500_TCL18,r500_TCL19,r500_TCL20,</span>
<span id="cb93-246"><a href="Chapter3.html#cb93-246" tabindex="-1"></a>                r500_TCL21,r500_TCL22,r500_TCL23,</span>
<span id="cb93-247"><a href="Chapter3.html#cb93-247" tabindex="-1"></a>                r500_DWchange1718,r500_DWchange1819,r500_DWchange1920,</span>
<span id="cb93-248"><a href="Chapter3.html#cb93-248" tabindex="-1"></a>                r500_DWchange2021,r500_DWchange2122,r500_DWchange2223)</span>
<span id="cb93-249"><a href="Chapter3.html#cb93-249" tabindex="-1"></a></span>
<span id="cb93-250"><a href="Chapter3.html#cb93-250" tabindex="-1"></a>dati_r1250a<span class="ot">=</span><span class="fu">data.frame</span>(dati_r1250) <span class="sc">%&gt;%</span> </span>
<span id="cb93-251"><a href="Chapter3.html#cb93-251" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">r1250_TCLNaN=</span>freq_NaN,</span>
<span id="cb93-252"><a href="Chapter3.html#cb93-252" tabindex="-1"></a>         <span class="at">r1250_TCL17=</span>freq_17,</span>
<span id="cb93-253"><a href="Chapter3.html#cb93-253" tabindex="-1"></a>         <span class="at">r1250_TCL18=</span>freq_18,</span>
<span id="cb93-254"><a href="Chapter3.html#cb93-254" tabindex="-1"></a>         <span class="at">r1250_TCL19=</span>freq_19,</span>
<span id="cb93-255"><a href="Chapter3.html#cb93-255" tabindex="-1"></a>         <span class="at">r1250_TCL20=</span>freq_20,</span>
<span id="cb93-256"><a href="Chapter3.html#cb93-256" tabindex="-1"></a>         <span class="at">r1250_TCL21=</span>freq_21,</span>
<span id="cb93-257"><a href="Chapter3.html#cb93-257" tabindex="-1"></a>         <span class="at">r1250_TCL22=</span>freq_22,</span>
<span id="cb93-258"><a href="Chapter3.html#cb93-258" tabindex="-1"></a>         <span class="at">r1250_TCL23=</span>freq_23,</span>
<span id="cb93-259"><a href="Chapter3.html#cb93-259" tabindex="-1"></a>         <span class="at">r1250_DWchange1718=</span>mean.DWchange_1718,</span>
<span id="cb93-260"><a href="Chapter3.html#cb93-260" tabindex="-1"></a>         <span class="at">r1250_DWchange1819=</span>mean.DWchange_1819,</span>
<span id="cb93-261"><a href="Chapter3.html#cb93-261" tabindex="-1"></a>         <span class="at">r1250_DWchange1920=</span>mean.DWchange_1920,</span>
<span id="cb93-262"><a href="Chapter3.html#cb93-262" tabindex="-1"></a>         <span class="at">r1250_DWchange2021=</span>mean.DWchange_2021,</span>
<span id="cb93-263"><a href="Chapter3.html#cb93-263" tabindex="-1"></a>         <span class="at">r1250_DWchange2122=</span>mean.DWchange_2122,</span>
<span id="cb93-264"><a href="Chapter3.html#cb93-264" tabindex="-1"></a>         <span class="at">r1250_DWchange2223=</span>mean.DWchange_2223) <span class="sc">%&gt;%</span> </span>
<span id="cb93-265"><a href="Chapter3.html#cb93-265" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">select</span>(id,</span>
<span id="cb93-266"><a href="Chapter3.html#cb93-266" tabindex="-1"></a>                r1250_TCLNaN,r1250_TCL17,r1250_TCL18,r1250_TCL19,r1250_TCL20,</span>
<span id="cb93-267"><a href="Chapter3.html#cb93-267" tabindex="-1"></a>                r1250_TCL21,r1250_TCL22,r1250_TCL23,</span>
<span id="cb93-268"><a href="Chapter3.html#cb93-268" tabindex="-1"></a>                r1250_DWchange1718,r1250_DWchange1819,r1250_DWchange1920,</span>
<span id="cb93-269"><a href="Chapter3.html#cb93-269" tabindex="-1"></a>                r1250_DWchange2021,r1250_DWchange2122,r1250_DWchange2223)</span>
<span id="cb93-270"><a href="Chapter3.html#cb93-270" tabindex="-1"></a></span>
<span id="cb93-271"><a href="Chapter3.html#cb93-271" tabindex="-1"></a></span>
<span id="cb93-272"><a href="Chapter3.html#cb93-272" tabindex="-1"></a>dati_r3000a<span class="ot">=</span><span class="fu">data.frame</span>(dati_r3000) <span class="sc">%&gt;%</span> </span>
<span id="cb93-273"><a href="Chapter3.html#cb93-273" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">r3000_TCLNaN=</span>freq_NaN,</span>
<span id="cb93-274"><a href="Chapter3.html#cb93-274" tabindex="-1"></a>         <span class="at">r3000_TCL17=</span>freq_17,</span>
<span id="cb93-275"><a href="Chapter3.html#cb93-275" tabindex="-1"></a>         <span class="at">r3000_TCL18=</span>freq_18,</span>
<span id="cb93-276"><a href="Chapter3.html#cb93-276" tabindex="-1"></a>         <span class="at">r3000_TCL19=</span>freq_19,</span>
<span id="cb93-277"><a href="Chapter3.html#cb93-277" tabindex="-1"></a>         <span class="at">r3000_TCL20=</span>freq_20,</span>
<span id="cb93-278"><a href="Chapter3.html#cb93-278" tabindex="-1"></a>         <span class="at">r3000_TCL21=</span>freq_21,</span>
<span id="cb93-279"><a href="Chapter3.html#cb93-279" tabindex="-1"></a>         <span class="at">r3000_TCL22=</span>freq_22,</span>
<span id="cb93-280"><a href="Chapter3.html#cb93-280" tabindex="-1"></a>         <span class="at">r3000_TCL23=</span>freq_23,</span>
<span id="cb93-281"><a href="Chapter3.html#cb93-281" tabindex="-1"></a>         <span class="at">r3000_DWchange1718=</span>mean.DWchange_1718,</span>
<span id="cb93-282"><a href="Chapter3.html#cb93-282" tabindex="-1"></a>         <span class="at">r3000_DWchange1819=</span>mean.DWchange_1819,</span>
<span id="cb93-283"><a href="Chapter3.html#cb93-283" tabindex="-1"></a>         <span class="at">r3000_DWchange1920=</span>mean.DWchange_1920,</span>
<span id="cb93-284"><a href="Chapter3.html#cb93-284" tabindex="-1"></a>         <span class="at">r3000_DWchange2021=</span>mean.DWchange_2021,</span>
<span id="cb93-285"><a href="Chapter3.html#cb93-285" tabindex="-1"></a>         <span class="at">r3000_DWchange2122=</span>mean.DWchange_2122,</span>
<span id="cb93-286"><a href="Chapter3.html#cb93-286" tabindex="-1"></a>         <span class="at">r3000_DWchange2223=</span>mean.DWchange_2223) <span class="sc">%&gt;%</span> </span>
<span id="cb93-287"><a href="Chapter3.html#cb93-287" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">select</span>(id,</span>
<span id="cb93-288"><a href="Chapter3.html#cb93-288" tabindex="-1"></a>                r3000_TCLNaN,r3000_TCL17,r3000_TCL18,r3000_TCL19,r3000_TCL20,</span>
<span id="cb93-289"><a href="Chapter3.html#cb93-289" tabindex="-1"></a>                r3000_TCL21,r3000_TCL22,r3000_TCL23,</span>
<span id="cb93-290"><a href="Chapter3.html#cb93-290" tabindex="-1"></a>                r3000_DWchange1718,r3000_DWchange1819,r3000_DWchange1920,</span>
<span id="cb93-291"><a href="Chapter3.html#cb93-291" tabindex="-1"></a>                r3000_DWchange2021,r3000_DWchange2122,r3000_DWchange2223)</span>
<span id="cb93-292"><a href="Chapter3.html#cb93-292" tabindex="-1"></a></span>
<span id="cb93-293"><a href="Chapter3.html#cb93-293" tabindex="-1"></a><span class="co"># visu rādiusu pievienošana režģim</span></span>
<span id="cb93-294"><a href="Chapter3.html#cb93-294" tabindex="-1"></a>vides_parmainas<span class="ot">=</span>dati_c2 <span class="sc">%&gt;%</span> </span>
<span id="cb93-295"><a href="Chapter3.html#cb93-295" tabindex="-1"></a>  <span class="fu">left_join</span>(dati_r500a,<span class="at">by=</span><span class="fu">c</span>(<span class="st">&quot;id&quot;</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb93-296"><a href="Chapter3.html#cb93-296" tabindex="-1"></a>  <span class="fu">left_join</span>(dati_r1250a,<span class="at">by=</span><span class="fu">c</span>(<span class="st">&quot;id&quot;</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb93-297"><a href="Chapter3.html#cb93-297" tabindex="-1"></a>  <span class="fu">left_join</span>(dati_r3000a,<span class="at">by=</span><span class="fu">c</span>(<span class="st">&quot;id&quot;</span>))</span>
<span id="cb93-298"><a href="Chapter3.html#cb93-298" tabindex="-1"></a></span>
<span id="cb93-299"><a href="Chapter3.html#cb93-299" tabindex="-1"></a><span class="co"># rezultāta saglabāšana</span></span>
<span id="cb93-300"><a href="Chapter3.html#cb93-300" tabindex="-1"></a><span class="fu">st_write_parquet</span>(vides_parmainas,<span class="st">&quot;./VidesParmainas/VidesParmainas_visas.parquet&quot;</span>)</span></code></pre></div>
</details>

</div>
</div>
</div>
<h3>References<a href="references-1.html#references-1" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<div id="refs" class="references csl-bib-body hanging-indent" entry-spacing="0">
<div id="ref-DynWorld" class="csl-entry">
Brown, C.F., Brumby, S.P., Guzder-Williams, B., Birch, T., Hyde, S.B., Mazzariello, J., Czerwinski, W., Pasquarella, V.J., Haertel, R., Ilyushchenko, S., Schwehr, K., Weisse, M., Stolle, F., Hanson, C., Guinan, O., Moore, R., Tait, A.M., 2022. <span>Dynamic</span> <span>World</span>, <span>Near</span> real-time global 10 m land use land cover mapping, Scientific Data. <a href="https://doi.org/10.1038/s41597-022-01307-4">https://doi.org/10.1038/s41597-022-01307-4</a>
</div>
<div id="ref-GEEpaper" class="csl-entry">
Gorelick, N., Hancher, M., Dixon, M., Ilyushchenko, S., Thau, D., Moore, R., 2017. <span>Google</span> <span>Earth</span> <span>Engine</span>: <span class="nocase">Planetary-scale</span> geospatial analysis for everyone, Remote Sensing of Environment. <a href="https://doi.org/10.1016/j.rse.2017.06.031">https://doi.org/10.1016/j.rse.2017.06.031</a>
</div>
<div id="ref-theGFW" class="csl-entry">
Hansen, M.C., Potapov, P.V., Moore, R., Hancher, M., Turubanova, S.A., Tyukavina, A., Thau, D., Stehman, S.V., Goetz, S.J., Loveland, T.R., Kommareddy, A., Egorov, A., Chini, L., Justice, C.O., Townshend, J.R.G., 2013. <span>High</span>-resolution <span>Global</span> maps of 21st-century forest cover change, Science. <a href="https://doi.org/10.1126/science.1244693">https://doi.org/10.1126/science.1244693</a>
</div>
<div id="ref-ERA5Land" class="csl-entry">
Sabater, J.M., n.d. ERA5-<span>Land</span> hourly data from 1950 to present. <span>Copernicus</span> <span>Climate</span> <span>Change</span> <span>Service</span> <span>(C3S)</span> <span>Climate</span> <span>Data</span> <span>Store</span> <span>(CDS)</span>. <a href="https://doi.org/10.24381/cds.e2161bac">https://doi.org/10.24381/cds.e2161bac</a>
</div>
<div id="ref-PALSARForest" class="csl-entry">
Shimada, M., Itoh, T., Motooka, T., Watanabe, M., Shiraishi, T., Thapa, R., Lucas, R., 2013. New global forest/non-forest maps from <span>ALOS PALSAR</span> data (2007–2010), Remote Sensing of Environment. <a href="https://doi.org/10.1016/j.rse.2014.04.014">https://doi.org/10.1016/j.rse.2014.04.014</a>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="Chapter2.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="Chapter4.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/aavotins/PutnuSDMs_gramata/edit/BRANCH/003-IevadesGeodati.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["PutnuSDMs-gramata.pdf", "PutnuSDMs-gramata.epub"],
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "subsection"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/latest.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
